"use strict";(self.webpackChunkScienceHub=self.webpackChunkScienceHub||[]).push([[179],{440:(Rt,Ge,B)=>{B.d(Ge,{nm:()=>Nr});var m=B(5813);B(5e3),B(5867);var it=B(5861),Le=B(9681),Qe=B(4859),mt=B(2090),Ne=B(1877);const Ee=new Map,Oe={activated:!1,tokenObservers:[]},$e={initialized:!1,enabled:!1};function pe(xe){return Ee.get(xe)||Oe}function qe(xe,Ce){Ee.set(xe,Ce)}function Fe(){return $e}class Ln{constructor(Ce,He,at,pt,zt){if(this.operation=Ce,this.retryPolicy=He,this.getWaitDuration=at,this.lowerBound=pt,this.upperBound=zt,this.pending=null,this.nextErrorWaitInterval=pt,pt>zt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ce){var He=this;return(0,it.Z)(function*(){He.stop();try{He.pending=new mt.BH,yield function yn(xe){return new Promise(Ce=>{setTimeout(Ce,xe)})}(He.getNextRun(Ce)),He.pending.resolve(),yield He.pending.promise,He.pending=new mt.BH,yield He.operation(),He.pending.resolve(),yield He.pending.promise,He.process(!0).catch(()=>{})}catch(at){He.retryPolicy(at)?He.process(!1).catch(()=>{}):He.stop()}})()}getNextRun(Ce){if(Ce)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const He=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),He}}}const Zt=new mt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Yt(xe){if(!pe(xe).activated)throw Zt.create("use-before-activation",{appName:xe.name})}function Wn(xe,Ce){return or.apply(this,arguments)}function or(){return(or=(0,it.Z)(function*({url:xe,body:Ce},He){const at={"Content-Type":"application/json"},pt=He.getImmediate({optional:!0});if(pt){const vs=yield pt.getHeartbeatsHeader();vs&&(at["X-Firebase-Client"]=vs)}const zt={method:"POST",body:JSON.stringify(Ce),headers:at};let er,Sr;try{er=yield fetch(xe,zt)}catch(vs){throw Zt.create("fetch-network-error",{originalErrorMessage:vs.message})}if(200!==er.status)throw Zt.create("fetch-status-error",{httpStatus:er.status});try{Sr=yield er.json()}catch(vs){throw Zt.create("fetch-parse-error",{originalErrorMessage:vs.message})}const qn=Sr.ttl.match(/^([\d.]+)(s)$/);if(!qn||!qn[2]||isNaN(Number(qn[1])))throw Zt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Sr.ttl}`});const Qr=1e3*Number(qn[1]),Do=Date.now();return{token:Sr.attestationToken,expireTimeMillis:Do+Qr,issuedAtTimeMillis:Do}})).apply(this,arguments)}function _n(xe,Ce){const{projectId:He,appId:at,apiKey:pt}=xe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${He}/apps/${at}:exchangeDebugToken?key=${pt}`,body:{debug_token:Ce}}}const br="firebase-app-check-store";let nn=null;function lr(){return nn||(nn=new Promise((xe,Ce)=>{try{const He=indexedDB.open("firebase-app-check-database",1);He.onsuccess=at=>{xe(at.target.result)},He.onerror=at=>{var pt;Ce(Zt.create("storage-open",{originalErrorMessage:null===(pt=at.target.error)||void 0===pt?void 0:pt.message}))},He.onupgradeneeded=at=>{0===at.oldVersion&&at.target.result.createObjectStore(br,{keyPath:"compositeKey"})}}catch(He){Ce(Zt.create("storage-open",{originalErrorMessage:He.message}))}}),nn)}function ke(){return(ke=(0,it.Z)(function*(xe,Ce){const at=(yield lr()).transaction(br,"readwrite"),zt=at.objectStore(br).put({compositeKey:xe,value:Ce});return new Promise((er,Sr)=>{zt.onsuccess=qn=>{er()},at.onerror=qn=>{var Qr;Sr(Zt.create("storage-set",{originalErrorMessage:null===(Qr=qn.target.error)||void 0===Qr?void 0:Qr.message}))}})})).apply(this,arguments)}const ln=new Ne.Yd("@firebase/app-check");function ir(xe,Ce){return(0,mt.hl)()?function tt(xe,Ce){return function ct(xe,Ce){return ke.apply(this,arguments)}(function Vn(xe){return`${xe.options.appId}-${xe.name}`}(xe),Ce)}(xe,Ce).catch(He=>{ln.warn(`Failed to write token to IndexedDB. Error: ${He}`)}):Promise.resolve()}function wn(){return Fe().enabled}function fn(){return xt.apply(this,arguments)}function xt(){return(xt=(0,it.Z)(function*(){const xe=Fe();if(xe.enabled&&xe.token)return xe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Tt={error:"UNKNOWN_ERROR"};function Gt(xe){return mt.US.encodeString(JSON.stringify(xe),!1)}function dn(xe){return vn.apply(this,arguments)}function vn(){return(vn=(0,it.Z)(function*(xe,Ce=!1){const He=xe.app;Yt(He);const at=pe(He);let zt,pt=at.token;if(!pt){const qn=yield at.cachedTokenPromise;qn&&se(qn)&&(pt=qn)}if(!Ce&&pt&&se(pt))return{token:pt.token};let Sr,er=!1;if(wn()){at.exchangeTokenPromise||(at.exchangeTokenPromise=Wn(_n(He,yield fn()),xe.heartbeatServiceProvider).then(Qr=>(at.exchangeTokenPromise=void 0,Qr)),er=!0);const qn=yield at.exchangeTokenPromise;return yield ir(He,qn),qe(He,Object.assign(Object.assign({},at),{token:qn})),{token:qn.token}}try{at.exchangeTokenPromise||(at.exchangeTokenPromise=at.provider.getToken().then(qn=>(at.exchangeTokenPromise=void 0,qn)),er=!0),pt=yield at.exchangeTokenPromise}catch(qn){"appCheck/throttled"===qn.code?ln.warn(qn.message):ln.error(qn),zt=qn}return pt?(Sr={token:pt.token},qe(He,Object.assign(Object.assign({},at),{token:pt})),yield ir(He,pt)):Sr=ue(zt),er&&te(He,Sr),Sr})).apply(this,arguments)}function le(xe,Ce){const He=pe(xe),at=He.tokenObservers.filter(pt=>pt.next!==Ce);0===at.length&&He.tokenRefresher&&He.tokenRefresher.isRunning()&&He.tokenRefresher.stop(),qe(xe,Object.assign(Object.assign({},He),{tokenObservers:at}))}function Ae(xe){const{app:Ce}=xe,He=pe(Ce);let at=He.tokenRefresher;at||(at=function Je(xe){const{app:Ce}=xe;return new Ln((0,it.Z)(function*(){let at;if(at=pe(Ce).token?yield dn(xe,!0):yield dn(xe),at.error)throw at.error}),()=>!0,()=>{const He=pe(Ce);if(He.token){let at=He.token.issuedAtTimeMillis+.5*(He.token.expireTimeMillis-He.token.issuedAtTimeMillis)+3e5;return at=Math.min(at,He.token.expireTimeMillis-3e5),Math.max(0,at-Date.now())}return 0},3e4,96e4)}(xe),qe(Ce,Object.assign(Object.assign({},He),{tokenRefresher:at}))),!at.isRunning()&&He.isTokenAutoRefreshEnabled&&at.start()}function te(xe,Ce){const He=pe(xe).tokenObservers;for(const at of He)try{"EXTERNAL"===at.type&&null!=Ce.error?at.error(Ce.error):at.next(Ce)}catch(pt){}}function se(xe){return xe.expireTimeMillis-Date.now()>0}function ue(xe){return{token:Gt(Tt),error:xe}}class ze{constructor(Ce,He){this.app=Ce,this.heartbeatServiceProvider=He}_delete(){const{tokenObservers:Ce}=pe(this.app);for(const He of Ce)le(this.app,He.next);return Promise.resolve()}}const ni="app-check-internal";!function Dr(){(0,Le._registerComponent)(new Qe.wA("app-check",xe=>function Xe(xe,Ce){return new ze(xe,Ce)}(xe.getProvider("app").getImmediate(),xe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((xe,Ce,He)=>{xe.getProvider(ni).initialize()})),(0,Le._registerComponent)(new Qe.wA(ni,xe=>function St(xe){return{getToken:Ce=>dn(xe,Ce),addTokenListener:Ce=>function ye(xe,Ce,He,at){const{app:pt}=xe,zt=pe(pt),er={next:He,error:at,type:Ce};if(qe(pt,Object.assign(Object.assign({},zt),{tokenObservers:[...zt.tokenObservers,er]})),zt.token&&se(zt.token)){const Sr=zt.token;Promise.resolve().then(()=>{He({token:Sr.token}),Ae(xe)}).catch(()=>{})}zt.cachedTokenPromise.then(()=>Ae(xe))}(xe,"INTERNAL",Ce),removeTokenListener:Ce=>le(xe.app,Ce)}}(xe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Le.registerVersion)("@firebase/app-check","0.5.6")}();class Nr{constructor(){return(0,m.vb)("app-check")}}"undefined"!=typeof window&&window},3385:(Rt,Ge,B)=>{B.d(Ge,{zQ:()=>pe,ww:()=>qe,rT:()=>Ne,f7:()=>Oe,L6:()=>Qe,_Q:()=>mt,lh:()=>Ee,Qv:()=>Le,nw:()=>$e});var m=B(5e3),E=B(7579),K=B(9646),fe=B(8306),ge=B(8996),ve=B(6451),Te=B(3900),Se=B(576);function Me(Fe,Ue){return(0,Se.m)(Ue)?(0,Te.w)(()=>Fe,Ue):(0,Te.w)(()=>Fe)}var ce=B(5363),he=B(4004),Pe=B(4782),It=B(590),rt=B(9468),ot=B(9300),dt=B(5813),We=B(2011),nt=B(9808),Ot=B(440),Dt=B(127);const Le=new m.OlP("angularfire2.auth.use-emulator"),Qe=new m.OlP("angularfire2.auth.settings"),mt=new m.OlP("angularfire2.auth.tenant-id"),Ne=new m.OlP("angularfire2.auth.langugage-code"),Ee=new m.OlP("angularfire2.auth.use-device-language"),Oe=new m.OlP("angularfire.auth.persistence"),$e=(Fe,Ue,Ht,Ut,Gn,Pt,Lt,Ln)=>(0,We.cc)(`${Fe.name}.auth`,"AngularFireAuth",Fe.name,()=>{const yn=Ue.runOutsideAngular(()=>Fe.auth());if(Ht&&yn.useEmulator(...Ht),Ut&&(yn.tenantId=Ut),yn.languageCode=Gn,Pt&&yn.useDeviceLanguage(),Lt)for(const[kn,Zt]of Object.entries(Lt))yn.settings[kn]=Zt;return Ln&&yn.setPersistence(Ln),yn},[Ht,Ut,Gn,Pt,Lt,Ln]);let pe=(()=>{class Fe{constructor(Ht,Ut,Gn,Pt,Lt,Ln,yn,kn,Zt,Bt,Yt,Xn){const zn=new E.x,Fn=(0,K.of)(void 0).pipe((0,ce.Q)(Lt.outsideAngular),(0,Te.w)(()=>Pt.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,5881)))),(0,he.U)(()=>(0,We.on)(Ht,Pt,Ut)),(0,he.U)(Wn=>$e(Wn,Pt,Ln,kn,Zt,Bt,yn,Yt)),(0,Pe.d)({bufferSize:1,refCount:!1}));if((0,nt.PM)(Gn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,K.of)(null);else{Fn.pipe((0,It.P)()).subscribe();const or=Fn.pipe((0,Te.w)(_n=>_n.getRedirectResult().then(wr=>wr,()=>null)),dt.iC,(0,Pe.d)({bufferSize:1,refCount:!1})),Er=Fn.pipe((0,Te.w)(_n=>new fe.y(wr=>({unsubscribe:Pt.runOutsideAngular(()=>_n.onAuthStateChanged(At=>wr.next(At),At=>wr.error(At),()=>wr.complete()))})))),ar=Fn.pipe((0,Te.w)(_n=>new fe.y(wr=>({unsubscribe:Pt.runOutsideAngular(()=>_n.onIdTokenChanged(At=>wr.next(At),At=>wr.error(At),()=>wr.complete()))}))));this.authState=or.pipe(Me(Er),(0,rt.R)(Lt.outsideAngular),(0,ce.Q)(Lt.insideAngular)),this.user=or.pipe(Me(ar),(0,rt.R)(Lt.outsideAngular),(0,ce.Q)(Lt.insideAngular)),this.idToken=this.user.pipe((0,Te.w)(_n=>_n?(0,ge.D)(_n.getIdToken()):(0,K.of)(null))),this.idTokenResult=this.user.pipe((0,Te.w)(_n=>_n?(0,ge.D)(_n.getIdTokenResult()):(0,K.of)(null))),this.credential=(0,ve.T)(or,zn,this.authState.pipe((0,ot.h)(_n=>!_n))).pipe((0,he.U)(_n=>(null==_n?void 0:_n.user)?_n:null),(0,rt.R)(Lt.outsideAngular),(0,ce.Q)(Lt.insideAngular))}return(0,We.pX)(this,Fn,Pt,{spy:{apply:(Wn,or,Er)=>{(Wn.startsWith("signIn")||Wn.startsWith("createUser"))&&Er.then(ar=>zn.next(ar))}}})}}return Fe.\u0275fac=function(Ht){return new(Ht||Fe)(m.LFG(We.Dh),m.LFG(We.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(dt.HU),m.LFG(Le,8),m.LFG(Qe,8),m.LFG(mt,8),m.LFG(Ne,8),m.LFG(Ee,8),m.LFG(Oe,8),m.LFG(Ot.nm,8))},Fe.\u0275prov=m.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"any"}),Fe})(),qe=(()=>{class Fe{constructor(){Dt.Z.registerVersion("angularfire",dt.q4.full,"auth-compat")}}return Fe.\u0275fac=function(Ht){return new(Ht||Fe)},Fe.\u0275mod=m.oAB({type:Fe}),Fe.\u0275inj=m.cJS({providers:[pe]}),Fe})()},2011:(Rt,Ge,B)=>{B.d(Ge,{Dh:()=>Se,GT:()=>ve,cc:()=>rt,hO:()=>It,on:()=>ce,pX:()=>ge,xv:()=>Me});var m=B(5e3),E=B(127),K=B(5813);Rt=B.hmd(Rt);const fe=["ngOnDestroy"],ge=(nt,Ot,Dt,it={})=>new Proxy(nt,{get:(Le,Qe)=>Dt.runOutsideAngular(()=>{var mt;if(nt[Qe])return(null===(mt=null==it?void 0:it.spy)||void 0===mt?void 0:mt.get)&&it.spy.get(Qe,nt[Qe]),nt[Qe];if(fe.indexOf(Qe)>-1)return()=>{};const Ne=Ot.toPromise().then(Ee=>{const Oe=Ee&&Ee[Qe];return"function"==typeof Oe?Oe.bind(Ee):Oe&&Oe.then?Oe.then($e=>Dt.run(()=>$e)):Dt.run(()=>Oe)});return new Proxy(()=>{},{get:(Ee,Oe)=>Ne[Oe],apply:(Ee,Oe,$e)=>Ne.then(pe=>{var qe;const Fe=pe&&pe(...$e);return(null===(qe=null==it?void 0:it.spy)||void 0===qe?void 0:qe.apply)&&it.spy.apply(Qe,$e,Fe),Fe})})})}),ve=(nt,Ot)=>{Ot.forEach(Dt=>{Object.getOwnPropertyNames(Dt.prototype||Dt).forEach(it=>{Object.defineProperty(nt.prototype,it,Object.getOwnPropertyDescriptor(Dt.prototype||Dt,it))})})};class Te{constructor(Ot){return Ot}}const Se=new m.OlP("angularfire2.app.options"),Me=new m.OlP("angularfire2.app.name");function ce(nt,Ot,Dt){const Le="object"==typeof Dt&&Dt||{};Le.name=Le.name||"string"==typeof Dt&&Dt||"[DEFAULT]";const mt=E.Z.apps.filter(Ne=>Ne&&Ne.name===Le.name)[0]||Ot.runOutsideAngular(()=>E.Z.initializeApp(nt,Le));try{JSON.stringify(nt)!==JSON.stringify(mt.options)&&he("error",`${mt.name} Firebase App already initialized with different options${Rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ne){}return new Te(mt)}const he=(nt,...Ot)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[nt](...Ot)},Pe={provide:Te,useFactory:ce,deps:[Se,m.R0b,[new m.FiY,Me]]};let It=(()=>{class nt{constructor(Dt){E.Z.registerVersion("angularfire",K.q4.full,"core"),E.Z.registerVersion("angularfire",K.q4.full,"app-compat"),E.Z.registerVersion("angular",m.q4F.full,Dt.toString())}static initializeApp(Dt,it){return{ngModule:nt,providers:[{provide:Se,useValue:Dt},{provide:Me,useValue:it}]}}}return nt.\u0275fac=function(Dt){return new(Dt||nt)(m.LFG(m.Lbi))},nt.\u0275mod=m.oAB({type:nt}),nt.\u0275inj=m.cJS({providers:[Pe]}),nt})();function rt(nt,Ot,Dt,it,Le){const[,Qe,mt]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===nt)||[];if(Qe)return function ot(nt,Ot){try{return nt.toString()===Ot.toString()}catch(Dt){return nt===Ot}}(Le,mt)||(We("error",`${Ot} was already initialized on the ${Dt} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),We("warn",{is:Le,was:mt})),Qe;{const Ne=it();return globalThis.\u0275AngularfireInstanceCache.push([nt,Ne,Le]),Ne}}const dt=!!Rt.hot,We=(nt,...Ot)=>{(0,m.X6Q)()&&"undefined"!=typeof console&&console[nt](...Ot)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Rt,Ge,B)=>{B.d(Ge,{q4:()=>Ma,iC:()=>Oa,HU:()=>eu,vb:()=>yu,JM:()=>Ji});var m=B(5e3),E=B(5867),K=B(5861),fe=B(9681),ge=B(2090),ve=B(4859),Te=B(1877);const Se="@firebase/installations",he="w:0.5.8",Pe="FIS_v2",nt=new ge.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ot(R){return R instanceof ge.ZR&&R.code.includes("request-failed")}function Dt({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function it(R){return{token:R.token,requestStatus:2,expiresIn:$e(R.expiresIn),creationTime:Date.now()}}function Le(R,U){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,K.Z)(function*(R,U){const ae=(yield U.json()).error;return nt.create("request-failed",{requestName:R,serverCode:ae.code,serverMessage:ae.message,serverStatus:ae.status})})).apply(this,arguments)}function mt({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function Ne(R,{refreshToken:U}){const Y=mt(R);return Y.append("Authorization",function pe(R){return`${Pe} ${R}`}(U)),Y}function Ee(R){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,K.Z)(function*(R){const U=yield R();return U.status>=500&&U.status<600?R():U})).apply(this,arguments)}function $e(R){return Number(R.replace("s","000"))}function qe(R,U){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,K.Z)(function*({appConfig:R,heartbeatServiceProvider:U},{fid:Y}){const ae=Dt(R),v=mt(R),c=U.getImmediate({optional:!0});if(c){const G=yield c.getHeartbeatsHeader();G&&v.append("x-firebase-client",G)}const b={method:"POST",headers:v,body:JSON.stringify({fid:Y,authVersion:Pe,appId:R.appId,sdkVersion:he})},P=yield Ee(()=>fetch(ae,b));if(P.ok){const G=yield P.json();return{fid:G.fid||Y,registrationStatus:2,refreshToken:G.refreshToken,authToken:it(G.authToken)}}throw yield Le("Create Installation",P)})).apply(this,arguments)}function Ue(R){return new Promise(U=>{setTimeout(U,R)})}const Ut=/^[cdef][\w-]{21}$/;function Pt(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const Y=function Lt(R){return function Ht(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return Ut.test(Y)?Y:""}catch(R){return""}}function Ln(R){return`${R.appName}!${R.appId}`}const yn=new Map;function kn(R,U){const Y=Ln(R);Yt(Y,U),function Xn(R,U){const Y=function Fn(){return!zn&&"BroadcastChannel"in self&&(zn=new BroadcastChannel("[Firebase] FID Change"),zn.onmessage=R=>{Yt(R.data.key,R.data.fid)}),zn}();Y&&Y.postMessage({key:R,fid:U}),function Wn(){0===yn.size&&zn&&(zn.close(),zn=null)}()}(Y,U)}function Yt(R,U){const Y=yn.get(R);if(Y)for(const ae of Y)ae(U)}let zn=null;const ar="firebase-installations-store";let _n=null;function wr(){return _n||(_n=(0,ge.X3)("firebase-installations-database",1,(R,U)=>{0===U&&R.createObjectStore(ar)})),_n}function At(R,U){return br.apply(this,arguments)}function br(){return(br=(0,K.Z)(function*(R,U){const Y=Ln(R),v=(yield wr()).transaction(ar,"readwrite"),c=v.objectStore(ar),d=yield c.get(Y);return yield c.put(U,Y),yield v.complete,(!d||d.fid!==U.fid)&&kn(R,U.fid),U})).apply(this,arguments)}function In(R){return nn.apply(this,arguments)}function nn(){return(nn=(0,K.Z)(function*(R){const U=Ln(R),ae=(yield wr()).transaction(ar,"readwrite");yield ae.objectStore(ar).delete(U),yield ae.complete})).apply(this,arguments)}function lr(R,U){return oi.apply(this,arguments)}function oi(){return(oi=(0,K.Z)(function*(R,U){const Y=Ln(R),v=(yield wr()).transaction(ar,"readwrite"),c=v.objectStore(ar),d=yield c.get(Y),b=U(d);return void 0===b?yield c.delete(Y):yield c.put(b,Y),yield v.complete,b&&(!d||d.fid!==b.fid)&&kn(R,b.fid),b})).apply(this,arguments)}function tt(R){return we.apply(this,arguments)}function we(){return(we=(0,K.Z)(function*(R){let U;const Y=yield lr(R.appConfig,ae=>{const v=De(ae),c=ct(R,v);return U=c.registrationPromise,c.installationEntry});return""===Y.fid?{installationEntry:yield U}:{installationEntry:Y,registrationPromise:U}})).apply(this,arguments)}function De(R){return Xt(R||{fid:Pt(),registrationStatus:0})}function ct(R,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(nt.create("app-offline"))};const Y={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},ae=function ke(R,U){return ft.apply(this,arguments)}(R,Y);return{installationEntry:Y,registrationPromise:ae}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:ht(R)}:{installationEntry:U}}function ft(){return(ft=(0,K.Z)(function*(R,U){try{const Y=yield qe(R,U);return At(R.appConfig,Y)}catch(Y){throw Ot(Y)&&409===Y.customData.serverCode?yield In(R.appConfig):yield At(R.appConfig,{fid:U.fid,registrationStatus:0}),Y}})).apply(this,arguments)}function ht(R){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,K.Z)(function*(R){let U=yield ln(R.appConfig);for(;1===U.registrationStatus;)yield Ue(100),U=yield ln(R.appConfig);if(0===U.registrationStatus){const{installationEntry:Y,registrationPromise:ae}=yield tt(R);return ae||Y}return U})).apply(this,arguments)}function ln(R){return lr(R,U=>{if(!U)throw nt.create("installation-not-found");return Xt(U)})}function Xt(R){return function Ur(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function ir(R,U){return cn.apply(this,arguments)}function cn(){return(cn=(0,K.Z)(function*({appConfig:R,heartbeatServiceProvider:U},Y){const ae=Ct(R,Y),v=Ne(R,Y),c=U.getImmediate({optional:!0});if(c){const G=yield c.getHeartbeatsHeader();G&&v.append("x-firebase-client",G)}const b={method:"POST",headers:v,body:JSON.stringify({installation:{sdkVersion:he,appId:R.appId}})},P=yield Ee(()=>fetch(ae,b));if(P.ok)return it(yield P.json());throw yield Le("Generate Auth Token",P)})).apply(this,arguments)}function Ct(R,{fid:U}){return`${Dt(R)}/${U}/authTokens:generate`}function wn(R){return fn.apply(this,arguments)}function fn(){return(fn=(0,K.Z)(function*(R,U=!1){let Y;const ae=yield lr(R.appConfig,c=>{if(!vn(c))throw nt.create("not-registered");const d=c.authToken;if(!U&&ye(d))return c;if(1===d.requestStatus)return Y=xt(R,U),c;{if(!navigator.onLine)throw nt.create("app-offline");const b=Ae(c);return Y=Gt(R,b),b}});return Y?yield Y:ae.authToken})).apply(this,arguments)}function xt(R,U){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,K.Z)(function*(R,U){let Y=yield Tt(R.appConfig);for(;1===Y.authToken.requestStatus;)yield Ue(100),Y=yield Tt(R.appConfig);const ae=Y.authToken;return 0===ae.requestStatus?wn(R,U):ae})).apply(this,arguments)}function Tt(R){return lr(R,U=>{if(!vn(U))throw nt.create("not-registered");return function Je(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function Gt(R,U){return dn.apply(this,arguments)}function dn(){return(dn=(0,K.Z)(function*(R,U){try{const Y=yield ir(R,U),ae=Object.assign(Object.assign({},U),{authToken:Y});return yield At(R.appConfig,ae),Y}catch(Y){if(!Ot(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const ae=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield At(R.appConfig,ae)}else yield In(R.appConfig);throw Y}})).apply(this,arguments)}function vn(R){return void 0!==R&&2===R.registrationStatus}function ye(R){return 2===R.requestStatus&&!function le(R){const U=Date.now();return U<R.creationTime||R.creationTime+R.expiresIn<U+36e5}(R)}function Ae(R){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:U})}function se(){return(se=(0,K.Z)(function*(R){const U=R,{installationEntry:Y,registrationPromise:ae}=yield tt(U);return ae?ae.catch(console.error):wn(U).catch(console.error),Y.fid})).apply(this,arguments)}function ze(){return(ze=(0,K.Z)(function*(R,U=!1){const Y=R;return yield Xe(Y),(yield wn(Y,U)).token})).apply(this,arguments)}function Xe(R){return St.apply(this,arguments)}function St(){return(St=(0,K.Z)(function*(R){const{registrationPromise:U}=yield tt(R);U&&(yield U)})).apply(this,arguments)}function fr(R){return nt.create("missing-app-config-values",{valueName:R})}const cs="installations",Mt=R=>{const U=R.getProvider("app").getImmediate(),Y=function Pr(R){if(!R||!R.options)throw fr("App Configuration");if(!R.name)throw fr("App Name");const U=["projectId","apiKey","appId"];for(const Y of U)if(!R.options[Y])throw fr(Y);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(U);return{app:U,appConfig:Y,heartbeatServiceProvider:(0,fe._getProvider)(U,"heartbeat"),_delete:()=>Promise.resolve()}},bn=R=>{const U=R.getProvider("app").getImmediate(),Y=(0,fe._getProvider)(U,cs).getImmediate();return{getId:()=>function te(R){return se.apply(this,arguments)}(Y),getToken:v=>function ue(R){return ze.apply(this,arguments)}(Y,v)}};(function rn(){(0,fe._registerComponent)(new ve.wA(cs,Mt,"PUBLIC")),(0,fe._registerComponent)(new ve.wA("installations-internal",bn,"PRIVATE"))})(),(0,fe.registerVersion)(Se,"0.5.8"),(0,fe.registerVersion)(Se,"0.5.8","esm2017");const Un="@firebase/remote-config",gr=new ge.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class js{constructor(U,Y,ae,v){this.client=U,this.storage=Y,this.storageCache=ae,this.logger=v}isCachedDataFresh(U,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ae=Date.now()-Y,v=ae<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ae}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${v}.`),v}fetch(U){var Y=this;return(0,K.Z)(function*(){const[ae,v]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(v&&Y.isCachedDataFresh(U.cacheMaxAgeMillis,ae))return v;U.eTag=v&&v.eTag;const c=yield Y.client.fetch(U),d=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===c.status&&d.push(Y.storage.setLastSuccessfulFetchResponse(c)),yield Promise.all(d),c})()}}function ji(R=navigator){return R.languages&&R.languages[0]||R.language}class _s{constructor(U,Y,ae,v,c,d){this.firebaseInstallations=U,this.sdkVersion=Y,this.namespace=ae,this.projectId=v,this.apiKey=c,this.appId=d}fetch(U){var Y=this;return(0,K.Z)(function*(){const[ae,v]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),d=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,b={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},P={sdk_version:Y.sdkVersion,app_instance_id:ae,app_instance_id_token:v,app_id:Y.appId,language_code:ji()},G={method:"POST",headers:b,body:JSON.stringify(P)},ne=fetch(d,G),re=new Promise((En,an)=>{U.signal.addEventListener(()=>{const An=new Error("The operation was aborted.");An.name="AbortError",an(An)})});let Re;try{yield Promise.race([ne,re]),Re=yield ne}catch(En){let an="fetch-client-network";throw"AbortError"===En.name&&(an="fetch-timeout"),gr.create(an,{originalErrorMessage:En.message})}let Ye=Re.status;const jt=Re.headers.get("ETag")||void 0;let Qt,Tn;if(200===Re.status){let En;try{En=yield Re.json()}catch(an){throw gr.create("fetch-client-parse",{originalErrorMessage:an.message})}Qt=En.entries,Tn=En.state}if("INSTANCE_STATE_UNSPECIFIED"===Tn?Ye=500:"NO_CHANGE"===Tn?Ye=304:("NO_TEMPLATE"===Tn||"EMPTY_CONFIG"===Tn)&&(Qt={}),304!==Ye&&200!==Ye)throw gr.create("fetch-status",{httpStatus:Ye});return{status:Ye,eTag:jt,config:Qt}})()}}class qi{constructor(U,Y){this.client=U,this.storage=Y}fetch(U){var Y=this;return(0,K.Z)(function*(){const ae=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(U,ae)})()}attemptFetch(U,{throttleEndTimeMillis:Y,backoffCount:ae}){var v=this;return(0,K.Z)(function*(){yield function zr(R,U){return new Promise((Y,ae)=>{const v=Math.max(U-Date.now(),0),c=setTimeout(Y,v);R.addEventListener(()=>{clearTimeout(c),ae(gr.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,Y);try{const c=yield v.client.fetch(U);return yield v.storage.deleteThrottleMetadata(),c}catch(c){if(!function As(R){if(!(R instanceof ge.ZR&&R.customData))return!1;const U=Number(R.customData.httpStatus);return 429===U||500===U||503===U||504===U}(c))throw c;const d={throttleEndTimeMillis:Date.now()+(0,ge.$s)(ae),backoffCount:ae+1};return yield v.storage.setThrottleMetadata(d),v.attemptFetch(U,d)}})()}}class He{constructor(U,Y,ae,v,c){this.app=U,this._client=Y,this._storageCache=ae,this._storage=v,this._logger=c,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function at(R,U){const Y=R.target.error||void 0;return gr.create(U,{originalErrorMessage:Y&&Y.message})}const pt="app_namespace_store";class qn{constructor(U,Y,ae,v=function Sr(){return new Promise((R,U)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=ae=>{U(at(ae,"storage-open"))},Y.onsuccess=ae=>{R(ae.target.result)},Y.onupgradeneeded=ae=>{0===ae.oldVersion&&ae.target.result.createObjectStore(pt,{keyPath:"compositeKey"})}}catch(Y){U(gr.create("storage-open",{originalErrorMessage:Y}))}})}()){this.appId=U,this.appName=Y,this.namespace=ae,this.openDbPromise=v}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var Y=this;return(0,K.Z)(function*(){const ae=yield Y.openDbPromise;return new Promise((v,c)=>{const b=ae.transaction([pt],"readonly").objectStore(pt),P=Y.createCompositeKey(U);try{const G=b.get(P);G.onerror=ne=>{c(at(ne,"storage-get"))},G.onsuccess=ne=>{const re=ne.target.result;v(re?re.value:void 0)}}catch(G){c(gr.create("storage-get",{originalErrorMessage:G&&G.message}))}})})()}set(U,Y){var ae=this;return(0,K.Z)(function*(){const v=yield ae.openDbPromise;return new Promise((c,d)=>{const P=v.transaction([pt],"readwrite").objectStore(pt),G=ae.createCompositeKey(U);try{const ne=P.put({compositeKey:G,value:Y});ne.onerror=re=>{d(at(re,"storage-set"))},ne.onsuccess=()=>{c()}}catch(ne){d(gr.create("storage-set",{originalErrorMessage:ne&&ne.message}))}})})()}delete(U){var Y=this;return(0,K.Z)(function*(){const ae=yield Y.openDbPromise;return new Promise((v,c)=>{const b=ae.transaction([pt],"readwrite").objectStore(pt),P=Y.createCompositeKey(U);try{const G=b.delete(P);G.onerror=ne=>{c(at(ne,"storage-delete"))},G.onsuccess=()=>{v()}}catch(G){c(gr.create("storage-delete",{originalErrorMessage:G&&G.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class Qr{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,K.Z)(function*(){const Y=U.storage.getLastFetchStatus(),ae=U.storage.getLastSuccessfulFetchTimestampMillis(),v=U.storage.getActiveConfig(),c=yield Y;c&&(U.lastFetchStatus=c);const d=yield ae;d&&(U.lastSuccessfulFetchTimestampMillis=d);const b=yield v;b&&(U.activeConfig=b)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function Qs(){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,K.Z)(function*(){if(!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(R){return!1}})).apply(this,arguments)}!function Do(){(0,fe._registerComponent)(new ve.wA("remote-config",function R(U,{instanceIdentifier:Y}){const ae=U.getProvider("app").getImmediate(),v=U.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw gr.create("registration-window");if(!(0,ge.hl)())throw gr.create("indexed-db-unavailable");const{projectId:c,apiKey:d,appId:b}=ae.options;if(!c)throw gr.create("registration-project-id");if(!d)throw gr.create("registration-api-key");if(!b)throw gr.create("registration-app-id");const P=new qn(b,ae.name,Y=Y||"firebase"),G=new Qr(P),ne=new Te.Yd(Un);ne.logLevel=Te.in.ERROR;const re=new _s(v,fe.SDK_VERSION,Y,c,d,b),Re=new qi(re,P),Ye=new js(Re,P,G,ne),jt=new He(ae,Ye,G,P,ne);return function Nr(R){const U=(0,ge.m9)(R);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(jt),jt},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(Un,"0.3.7"),(0,fe.registerVersion)(Un,"0.3.7","esm2017")}();const Hi="/firebase-messaging-sw.js",Es="/firebase-cloud-messaging-push-scope",Wr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Js="google.c.a.c_id",Hs="google.c.a.c_l",Xs="google.c.a.ts",wi="google.c.a.e";var jr=(()=>{return(R=jr||(jr={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",jr;var R})();function ns(R){const U=new Uint8Array(R);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Co(R){const Y=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ae=atob(Y),v=new Uint8Array(ae.length);for(let c=0;c<ae.length;++c)v[c]=ae.charCodeAt(c);return v}const ws="fcm_token_details_db",rs="fcm_token_object_Store";function Ki(R){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,K.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(c=>c.name).includes(ws))return null;let U=null;return(yield(0,ge.X3)(ws,5,function(){var ae=(0,K.Z)(function*(v,c,d,b){var P;if(c<2||!v.objectStoreNames.contains(rs))return;const G=b.objectStore(rs),ne=yield G.index("fcmSenderId").get(R);if(yield G.clear(),ne)if(2===c){const re=ne;if(!re.auth||!re.p256dh||!re.endpoint)return;U={token:re.fcmToken,createTime:null!==(P=re.createTime)&&void 0!==P?P:Date.now(),subscriptionOptions:{auth:re.auth,p256dh:re.p256dh,endpoint:re.endpoint,swScope:re.swScope,vapidKey:"string"==typeof re.vapidKey?re.vapidKey:ns(re.vapidKey)}}}else if(3===c){const re=ne;U={token:re.fcmToken,createTime:re.createTime,subscriptionOptions:{auth:ns(re.auth),p256dh:ns(re.p256dh),endpoint:re.endpoint,swScope:re.swScope,vapidKey:ns(re.vapidKey)}}}else if(4===c){const re=ne;U={token:re.fcmToken,createTime:re.createTime,subscriptionOptions:{auth:ns(re.auth),p256dh:ns(re.p256dh),endpoint:re.endpoint,swScope:re.swScope,vapidKey:ns(re.vapidKey)}}}});return function(v,c,d,b){return ae.apply(this,arguments)}}())).close(),yield(0,ge.Lj)(ws),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),Zi(U)?U:null}),Hr.apply(this,arguments)}function Zi(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:U}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}const kr="firebase-messaging-store";let Fr=null;function is(){return Fr||(Fr=(0,ge.X3)("firebase-messaging-database",1,(R,U)=>{0===U&&R.createObjectStore(kr)})),Fr}function ur(R){return F.apply(this,arguments)}function F(){return(F=(0,K.Z)(function*(R){const U=Ke(R),ae=yield(yield is()).transaction(kr).objectStore(kr).get(U);if(ae)return ae;{const v=yield Ki(R.appConfig.senderId);if(v)return yield z(R,v),v}})).apply(this,arguments)}function z(R,U){return k.apply(this,arguments)}function k(){return(k=(0,K.Z)(function*(R,U){const Y=Ke(R),v=(yield is()).transaction(kr,"readwrite");return yield v.objectStore(kr).put(U,Y),yield v.complete,U})).apply(this,arguments)}function X(R){return _e.apply(this,arguments)}function _e(){return(_e=(0,K.Z)(function*(R){const U=Ke(R),ae=(yield is()).transaction(kr,"readwrite");yield ae.objectStore(kr).delete(U),yield ae.complete})).apply(this,arguments)}function Ke({appConfig:R}){return R.appId}const gt=new ge.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tr(R,U){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,K.Z)(function*(R,U){const Y=yield Ni(R),ae=en(U),v={method:"POST",headers:Y,body:JSON.stringify(ae)};let c;try{c=yield(yield fetch(vr(R.appConfig),v)).json()}catch(d){throw gt.create("token-subscribe-failed",{errorInfo:d})}if(c.error)throw gt.create("token-subscribe-failed",{errorInfo:c.error.message});if(!c.token)throw gt.create("token-subscribe-no-token");return c.token})).apply(this,arguments)}function On(R,U){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,K.Z)(function*(R,U){const Y=yield Ni(R),ae=en(U.subscriptionOptions),v={method:"PATCH",headers:Y,body:JSON.stringify(ae)};let c;try{c=yield(yield fetch(`${vr(R.appConfig)}/${U.token}`,v)).json()}catch(d){throw gt.create("token-update-failed",{errorInfo:d})}if(c.error)throw gt.create("token-update-failed",{errorInfo:c.error.message});if(!c.token)throw gt.create("token-update-no-token");return c.token})).apply(this,arguments)}function mr(R,U){return nr.apply(this,arguments)}function nr(){return(nr=(0,K.Z)(function*(R,U){const ae={method:"DELETE",headers:yield Ni(R)};try{const c=yield(yield fetch(`${vr(R.appConfig)}/${U}`,ae)).json();if(c.error)throw gt.create("token-unsubscribe-failed",{errorInfo:c.error.message})}catch(v){throw gt.create("token-unsubscribe-failed",{errorInfo:v})}})).apply(this,arguments)}function vr({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function Ni(R){return ai.apply(this,arguments)}function ai(){return(ai=(0,K.Z)(function*({appConfig:R,installations:U}){const Y=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function en({p256dh:R,auth:U,endpoint:Y,vapidKey:ae}){const v={web:{endpoint:Y,auth:U,p256dh:R}};return ae!==Wr&&(v.web.applicationPubKey=ae),v}const ss=6048e5;function Is(R){return ri.apply(this,arguments)}function ri(){return(ri=(0,K.Z)(function*(R){const U=yield Vt(R.swRegistration,R.vapidKey),Y={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:U.endpoint,auth:ns(U.getKey("auth")),p256dh:ns(U.getKey("p256dh"))},ae=yield ur(R.firebaseDependencies);if(ae){if(Lr(ae.subscriptionOptions,Y))return Date.now()>=ae.createTime+ss?N(R,{token:ae.token,createTime:Date.now(),subscriptionOptions:Y}):ae.token;try{yield mr(R.firebaseDependencies,ae.token)}catch(v){console.warn(v)}return j(R.firebaseDependencies,Y)}return j(R.firebaseDependencies,Y)})).apply(this,arguments)}function To(R){return V.apply(this,arguments)}function V(){return(V=(0,K.Z)(function*(R){const U=yield ur(R.firebaseDependencies);U&&(yield mr(R.firebaseDependencies,U.token),yield X(R.firebaseDependencies));const Y=yield R.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()})).apply(this,arguments)}function N(R,U){return O.apply(this,arguments)}function O(){return(O=(0,K.Z)(function*(R,U){try{const Y=yield On(R.firebaseDependencies,U),ae=Object.assign(Object.assign({},U),{token:Y,createTime:Date.now()});return yield z(R.firebaseDependencies,ae),Y}catch(Y){throw yield To(R),Y}})).apply(this,arguments)}function j(R,U){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,K.Z)(function*(R,U){const ae={token:yield tr(R,U),createTime:Date.now(),subscriptionOptions:U};return yield z(R,ae),ae.token})).apply(this,arguments)}function Vt(R,U){return hn.apply(this,arguments)}function hn(){return(hn=(0,K.Z)(function*(R,U){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Co(U)})})).apply(this,arguments)}function Lr(R,U){return U.vapidKey===R.vapidKey&&U.endpoint===R.endpoint&&U.auth===R.auth&&U.p256dh===R.p256dh}function Jr(R){const U={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function ui(R,U){if(!U.notification)return;R.notification={};const Y=U.notification.title;Y&&(R.notification.title=Y);const ae=U.notification.body;ae&&(R.notification.body=ae);const v=U.notification.image;v&&(R.notification.image=v)}(U,R),function bi(R,U){!U.data||(R.data=U.data)}(U,R),function li(R,U){if(!U.fcmOptions)return;R.fcmOptions={};const Y=U.fcmOptions.link;Y&&(R.fcmOptions.link=Y);const ae=U.fcmOptions.analytics_label;ae&&(R.fcmOptions.analyticsLabel=ae)}(U,R),U}function Lo(R){return"object"==typeof R&&!!R&&Js in R}function wa(R,U){const Y=[];for(let ae=0;ae<R.length;ae++)Y.push(R.charAt(ae)),ae<U.length&&Y.push(U.charAt(ae));return Y.join("")}function Vo(R){return gt.create("missing-app-config-values",{valueName:R})}wa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ci{constructor(U,Y,ae){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const v=function Ao(R){if(!R||!R.options)throw Vo("App Configuration Object");if(!R.name)throw Vo("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=R;for(const ae of U)if(!Y[ae])throw Vo(ae);return{appName:R.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:v,installations:Y,analyticsProvider:ae}}_delete(){return Promise.resolve()}}function Yi(R){return to.apply(this,arguments)}function to(){return(to=(0,K.Z)(function*(R){try{R.swRegistration=yield navigator.serviceWorker.register(Hi,{scope:Es}),R.swRegistration.update().catch(()=>{})}catch(U){throw gt.create("failed-service-worker-registration",{browserErrorMessage:U.message})}})).apply(this,arguments)}function $s(R,U){return os.apply(this,arguments)}function os(){return(os=(0,K.Z)(function*(R,U){if(!U&&!R.swRegistration&&(yield Yi(R)),U||!R.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw gt.create("invalid-sw-registration");R.swRegistration=U}})).apply(this,arguments)}function za(R,U){return no.apply(this,arguments)}function no(){return(no=(0,K.Z)(function*(R,U){U?R.vapidKey=U:R.vapidKey||(R.vapidKey=Wr)})).apply(this,arguments)}function Zo(){return(Zo=(0,K.Z)(function*(R,U){if(!navigator)throw gt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gt.create("permission-blocked");return yield za(R,null==U?void 0:U.vapidKey),yield $s(R,null==U?void 0:U.serviceWorkerRegistration),Is(R)})).apply(this,arguments)}function Vr(R,U,Y){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,K.Z)(function*(R,U,Y){const ae=Wa(U);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(ae,{message_id:Y[Js],message_name:Y[Hs],message_time:Y[Xs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wa(R){switch(R){case jr.NOTIFICATION_CLICKED:return"notification_open";case jr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function oa(){return(oa=(0,K.Z)(function*(R,U){const Y=U.data;if(!Y.isFirebaseMessaging)return;R.onMessageHandler&&Y.messageType===jr.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(Jr(Y)):R.onMessageHandler.next(Jr(Y)));const ae=Y.data;Lo(ae)&&"1"===ae[wi]&&(yield Vr(R,Y.messageType,ae))})).apply(this,arguments)}const aa="@firebase/messaging",Ms=R=>{const U=new ci(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function pu(R,U){return oa.apply(this,arguments)}(U,Y)),U},ba=R=>{const U=R.getProvider("messaging").getImmediate();return{getToken:ae=>function ki(R,U){return Zo.apply(this,arguments)}(U,ae)}};function Ia(){return $i.apply(this,arguments)}function $i(){return($i=(0,K.Z)(function*(){try{yield(0,ge.eu)()}catch(R){return!1}return"undefined"!=typeof window&&(0,ge.hl)()&&(0,ge.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ua(){(0,fe._registerComponent)(new ve.wA("messaging",Ms,"PUBLIC")),(0,fe._registerComponent)(new ve.wA("messaging-internal",ba,"PRIVATE")),(0,fe.registerVersion)(aa,"0.9.12"),(0,fe.registerVersion)(aa,"0.9.12","esm2017")}();const la="analytics",Xo="firebase_id",ho="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xs="https://www.googletagmanager.com/gtag/js",Xr=new Te.Yd("@firebase/analytics");function di(R){return Promise.all(R.map(U=>U.catch(Y=>Y)))}function So(R,U){const Y=document.createElement("script");Y.src=`${xs}?l=${R}&id=${U}`,Y.async=!0,document.head.appendChild(Y)}function zs(R,U,Y,ae,v,c){return so.apply(this,arguments)}function so(){return(so=(0,K.Z)(function*(R,U,Y,ae,v,c){const d=ae[v];try{if(d)yield U[d];else{const P=(yield di(Y)).find(G=>G.measurementId===v);P&&(yield U[P.appId])}}catch(b){Xr.error(b)}R("config",v,c)})).apply(this,arguments)}function Mo(R,U,Y,ae,v){return hs.apply(this,arguments)}function hs(){return(hs=(0,K.Z)(function*(R,U,Y,ae,v){try{let c=[];if(v&&v.send_to){let d=v.send_to;Array.isArray(d)||(d=[d]);const b=yield di(Y);for(const P of d){const G=b.find(re=>re.measurementId===P),ne=G&&U[G.appId];if(!ne){c=[];break}c.push(ne)}}0===c.length&&(c=Object.values(U)),yield Promise.all(c),R("event",ae,v||{})}catch(c){Xr.error(c)}})).apply(this,arguments)}function ca(){const R=window.document.getElementsByTagName("script");for(const U of Object.values(R))if(U.src&&U.src.includes(xs))return U;return null}const Fi=new ge.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),fs=new class oo{constructor(U={},Y=1e3){this.throttleMetadata=U,this.intervalMillis=Y}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,Y){this.throttleMetadata[U]=Y}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function Ta(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function Di(R){return ao.apply(this,arguments)}function ao(){return(ao=(0,K.Z)(function*(R){var U;const{appId:Y,apiKey:ae}=R,v={method:"GET",headers:Ta(ae)},c=ho.replace("{app-id}",Y),d=yield fetch(c,v);if(200!==d.status&&304!==d.status){let b="";try{const P=yield d.json();(null===(U=P.error)||void 0===U?void 0:U.message)&&(b=P.error.message)}catch(P){}throw Fi.create("config-fetch-failed",{httpStatus:d.status,responseMessage:b})}return d.json()})).apply(this,arguments)}function Za(R){return xo.apply(this,arguments)}function xo(){return(xo=(0,K.Z)(function*(R,U=fs,Y){const{appId:ae,apiKey:v,measurementId:c}=R.options;if(!ae)throw Fi.create("no-app-id");if(!v){if(c)return{measurementId:c,appId:ae};throw Fi.create("no-api-key")}const d=U.getThrottleMetadata(ae)||{backoffCount:0,throttleEndTimeMillis:Date.now()},b=new Qa;return setTimeout((0,K.Z)(function*(){b.abort()}),void 0!==Y?Y:6e4),Oo({appId:ae,apiKey:v,measurementId:c},d,b,U)})).apply(this,arguments)}function Oo(R,U,Y){return fo.apply(this,arguments)}function fo(){return(fo=(0,K.Z)(function*(R,{throttleEndTimeMillis:U,backoffCount:Y},ae,v=fs){const{appId:c,measurementId:d}=R;try{yield Aa(ae,U)}catch(b){if(d)return Xr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${b.message}]`),{appId:c,measurementId:d};throw b}try{const b=yield Di(R);return v.deleteThrottleMetadata(c),b}catch(b){if(!Ya(b)){if(v.deleteThrottleMetadata(c),d)return Xr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${b.message}]`),{appId:c,measurementId:d};throw b}const P=503===Number(b.customData.httpStatus)?(0,ge.$s)(Y,v.intervalMillis,30):(0,ge.$s)(Y,v.intervalMillis),G={throttleEndTimeMillis:Date.now()+P,backoffCount:Y+1};return v.setThrottleMetadata(c,G),Xr.debug(`Calling attemptFetch again in ${P} millis`),Oo(R,G,ae,v)}})).apply(this,arguments)}function Aa(R,U){return new Promise((Y,ae)=>{const v=Math.max(U-Date.now(),0),c=setTimeout(Y,v);R.addEventListener(()=>{clearTimeout(c),ae(Fi.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function Ya(R){if(!(R instanceof ge.ZR&&R.customData))return!1;const U=Number(R.customData.httpStatus);return 429===U||500===U||503===U||504===U}class Qa{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}function ei(){return po.apply(this,arguments)}function po(){return(po=(0,K.Z)(function*(){if(!(0,ge.hl)())return Xr.warn(Fi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ge.eu)()}catch(R){return Xr.warn(Fi.create("indexeddb-unavailable",{errorInfo:R}).message),!1}return!0})).apply(this,arguments)}function Rs(){return(Rs=(0,K.Z)(function*(R,U,Y,ae,v,c,d){var b;const P=Za(R);P.then(Ye=>{Y[Ye.measurementId]=Ye.appId,R.options.measurementId&&Ye.measurementId!==R.options.measurementId&&Xr.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Ye.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ye=>Xr.error(Ye)),U.push(P);const G=ei().then(Ye=>{if(Ye)return ae.getId()}),[ne,re]=yield Promise.all([P,G]);ca()||So(c,ne.measurementId),v("js",new Date);const Re=null!==(b=null==d?void 0:d.config)&&void 0!==b?b:{};return Re.origin="firebase",Re.update=!0,null!=re&&(Re[Xo]=re),v("config",ne.measurementId,Re),ne.measurementId})).apply(this,arguments)}class Ja{constructor(U){this.app=U}_delete(){return delete yt[this.app.options.appId],Promise.resolve()}}let yt={},T=[];const D={};let L,Q,w="dataLayer",ee=!1;function bt(R,U,Y){!function me(){const R=[];if((0,ge.ru)()&&R.push("This is a browser extension environment."),(0,ge.zI)()||R.push("Cookies are not available."),R.length>0){const U=R.map((ae,v)=>`(${v+1}) ${ae}`).join(" "),Y=Fi.create("invalid-analytics-context",{errorInfo:U});Xr.warn(Y.message)}}();const ae=R.options.appId;if(!ae)throw Fi.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw Fi.create("no-api-key");Xr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yt[ae])throw Fi.create("already-exists",{id:ae});if(!ee){!function Os(R){let U=[];Array.isArray(window[R])?U=window[R]:window[R]=U}(w);const{wrappedGtag:c,gtagCore:d}=function qa(R,U,Y,ae,v){let c=function(...d){window[ae].push(arguments)};return window[v]&&"function"==typeof window[v]&&(c=window[v]),window[v]=function ea(R,U,Y,ae){function c(){return(c=(0,K.Z)(function*(d,b,P){try{"event"===d?yield Mo(R,U,Y,b,P):"config"===d?yield zs(R,U,Y,ae,b,P):R("set",b)}catch(G){Xr.error(G)}})).apply(this,arguments)}return function v(d,b,P){return c.apply(this,arguments)}}(c,R,U,Y),{gtagCore:c,wrappedGtag:window[v]}}(yt,T,D,w,"gtag");Q=c,L=d,ee=!0}return yt[ae]=function Qi(R,U,Y,ae,v,c,d){return Rs.apply(this,arguments)}(R,T,D,U,L,w,Y),new Ja(R)}function Wt(){return(Wt=(0,K.Z)(function*(R,U,Y,ae,v){if(v&&v.global)R("event",Y,ae);else{const c=yield U;R("event",Y,Object.assign(Object.assign({},ae),{send_to:c}))}})).apply(this,arguments)}function Mn(){return pi.apply(this,arguments)}function pi(){return(pi=(0,K.Z)(function*(){if((0,ge.ru)()||!(0,ge.zI)()||!(0,ge.hl)())return!1;try{return yield(0,ge.eu)()}catch(R){return!1}})).apply(this,arguments)}const Pu="@firebase/analytics";!function hr(){(0,fe._registerComponent)(new ve.wA(la,(U,{options:Y})=>bt(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,fe._registerComponent)(new ve.wA("analytics-internal",function R(U){try{const Y=U.getProvider(la).getImmediate();return{logEvent:(ae,v,c)=>function Bo(R,U,Y,ae){R=(0,ge.m9)(R),function $n(R,U,Y,ae,v){return Wt.apply(this,arguments)}(Q,yt[R.app.options.appId],U,Y,ae).catch(v=>Xr.error(v))}(Y,ae,v,c)}}catch(Y){throw Fi.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,fe.registerVersion)(Pu,"0.7.8"),(0,fe.registerVersion)(Pu,"0.7.8","esm2017")}();var Nu=B(4408),ha=B(7565);const ii=new class Li extends ha.v{}(class ti extends Nu.o{constructor(U,Y){super(U,Y),this.scheduler=U,this.work=Y}schedule(U,Y=0){return Y>0?super.schedule(U,Y):(this.delay=Y,this.state=U,this.scheduler.flush(this),this)}execute(U,Y){return Y>0||this.closed?super.execute(U,Y):this._execute(U,Y)}requestAsyncId(U,Y,ae=0){return null!=ae&&ae>0||null==ae&&this.delay>0?super.requestAsyncId(U,Y,ae):U.flush(this)}});var Ho=B(4986),Kr=B(8505),Ci=B(9468),Ds=B(5363);const Ma=new m.GfV("7.3.0"),Ro="__angularfire_symbol__analyticsIsSupportedValue",Ns="__angularfire_symbol__analyticsIsSupported",ks="__angularfire_symbol__remoteConfigIsSupportedValue",$o="__angularfire_symbol__remoteConfigIsSupported",fa="__angularfire_symbol__messagingIsSupportedValue",ku="__angularfire_symbol__messagingIsSupported";function Ji(R,U,Y){if(U){if(1===U.length)return U[0];const c=U.filter(d=>d.app===Y);if(1===c.length)return c[0]}return Y.container.getProvider(R).getImmediate({optional:!0})}globalThis[Ns]||(globalThis[Ns]=Mn().then(R=>globalThis[Ro]=R).catch(()=>globalThis[Ro]=!1)),globalThis[ku]||(globalThis[ku]=Ia().then(R=>globalThis[fa]=R).catch(()=>globalThis[fa]=!1)),globalThis[$o]||(globalThis[$o]=Qs().then(R=>globalThis[ks]=R).catch(()=>globalThis[ks]=!1));const yu=(R,U)=>{const Y=U?[U]:(0,E.C6)(),ae=[];return Y.forEach(v=>{v.container.getProvider(R).instances.forEach(d=>{ae.includes(d)||ae.push(d)})}),ae};function gs(){}class Qu{constructor(U,Y=ii){this.zone=U,this.delegate=Y}now(){return this.delegate.now()}schedule(U,Y,ae){const v=this.zone;return this.delegate.schedule(function(d){v.runGuarded(()=>{U.apply(this,[d])})},Y,ae)}}class na{constructor(U){this.zone=U,this.task=null}call(U,Y){const ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",gs,{},gs,gs)),Y.pipe((0,Kr.b)({next:ae,complete:ae,error:ae})).subscribe(U).add(ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let eu=(()=>{class R{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new Qu(Zone.current)),this.insideAngular=Y.run(()=>new Qu(Zone.current,Ho.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(Y){return new(Y||R)(m.LFG(m.R0b))},R.\u0275prov=m.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Ls(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Oa(R){return Ls(),function mo(R){return function(Y){return(Y=Y.lift(new na(R.ngZone))).pipe((0,Ci.R)(R.outsideAngular),(0,Ds.Q)(R.insideAngular))}}(Ls())(R)}},573:(Rt,Ge,B)=>{B.d(Ge,{$:()=>Is,A:()=>he,E:()=>bn,G:()=>Gr,I:()=>qi,K:()=>le,L:()=>Ss,M:()=>Fo,N:()=>Js,P:()=>Ro,Q:()=>Hs,R:()=>jo,T:()=>Wr,U:()=>jr,V:()=>ns,W:()=>Ki,X:()=>ut,Y:()=>tr,Z:()=>On,_:()=>vr,a:()=>hi,a0:()=>To,a1:()=>N,a2:()=>j,a3:()=>Vt,a4:()=>Lr,a5:()=>ui,a6:()=>bi,a7:()=>Lo,a8:()=>wa,a9:()=>Yi,aA:()=>Re,aB:()=>_u,aC:()=>Dn,aG:()=>fs,aJ:()=>wi,aa:()=>$s,ab:()=>za,ae:()=>Vr,af:()=>Wa,ag:()=>pu,aj:()=>kr,ak:()=>Da,am:()=>ho,an:()=>zs,ao:()=>cr,ap:()=>Oe,aq:()=>pn,ar:()=>St,as:()=>Dt,at:()=>ru,au:()=>gi,av:()=>it,aw:()=>Ne,ax:()=>pe,ay:()=>Ae,az:()=>En,b:()=>da,c:()=>Go,d:()=>Qu,e:()=>yu,f:()=>U,g:()=>b,h:()=>v,i:()=>me,j:()=>ne,k:()=>Ju,l:()=>Li,m:()=>Gh,o:()=>Se,r:()=>mu,s:()=>ti,u:()=>Ds,z:()=>rt});var m=B(5861),E=B(2090),K=B(9681),fe=B(655),ge=B(1877),ve=B(4859);const Se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const rt=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ot=function It(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new E.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new ge.Yd("@firebase/auth");function Ot(I,...p){nt.logLevel<=ge.in.ERROR&&nt.error(`Auth (${K.SDK_VERSION}): ${I}`,...p)}function Dt(I,...p){throw mt(I,...p)}function it(I,...p){return mt(I,...p)}function Le(I,p,g){const A=Object.assign(Object.assign({},ot()),{[p]:g});return new E.LL("auth","Firebase",A).create(p,{appName:I.name})}function Qe(I,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Dt(I,"argument-error"),Le(I,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(I,...p){if("string"!=typeof I){const g=p[0],A=[...p.slice(1)];return A[0]&&(A[0].appName=I.name),I._errorFactory.create(g,...A)}return dt.create(I,...p)}function Ne(I,p,...g){if(!I)throw mt(p,...g)}function Ee(I){const p="INTERNAL ASSERTION FAILED: "+I;throw Ot(p),new Error(p)}function Oe(I,p){I||Ee(p)}const $e=new Map;function pe(I){Oe(I instanceof Function,"Expected a class definition");let p=$e.get(I);return p?(Oe(p instanceof I,"Instance stored in cache mismatched with class"),p):(p=new I,$e.set(I,p),p)}function Ue(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Ht(){return"http:"===Ut()||"https:"===Ut()}function Ut(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Lt{constructor(p,g){this.shortDelay=p,this.longDelay=g,Oe(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,E.uI)()||(0,E.b$)()}get(){return function Gn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ht()||(0,E.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ln(I,p){Oe(I.emulator,"Emulator should always be set here");const{url:g}=I.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class yn{static initialize(p,g,A){this.fetchImpl=p,g&&(this.headersImpl=g),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ee("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ee("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ee("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zt=new Lt(3e4,6e4);function Bt(I,p){return I.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:I.tenantId}):p}function Yt(I,p,g,A){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,m.Z)(function*(I,p,g,A,W={}){return zn(I,W,(0,m.Z)(function*(){let ie={},Be={};A&&("GET"===p?Be=A:ie={body:JSON.stringify(A)});const vt=(0,E.xO)(Object.assign({key:I.config.apiKey},Be)).slice(1),sn=yield I._getAdditionalHeaders();return sn["Content-Type"]="application/json",I.languageCode&&(sn["X-Firebase-Locale"]=I.languageCode),yn.fetch()(Er(I,I.config.apiHost,g,vt),Object.assign({method:p,headers:sn,referrerPolicy:"no-referrer"},ie))}))})).apply(this,arguments)}function zn(I,p,g){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,m.Z)(function*(I,p,g){I._canInitEmulator=!1;const A=Object.assign(Object.assign({},kn),p);try{const W=new ar(I),ie=yield Promise.race([g(),W.promise]);W.clearNetworkTimeout();const Be=yield ie.json();if("needConfirmation"in Be)throw _n(I,"account-exists-with-different-credential",Be);if(ie.ok&&!("errorMessage"in Be))return Be;{const vt=ie.ok?Be.errorMessage:Be.error.message,[sn,qt]=vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===sn)throw _n(I,"credential-already-in-use",Be);if("EMAIL_EXISTS"===sn)throw _n(I,"email-already-in-use",Be);const Yn=A[sn]||sn.toLowerCase().replace(/[_\s]+/g,"-");if(qt)throw Le(I,Yn,qt);Dt(I,Yn)}}catch(W){if(W instanceof E.ZR)throw W;Dt(I,"network-request-failed")}})).apply(this,arguments)}function Wn(I,p,g,A){return or.apply(this,arguments)}function or(){return(or=(0,m.Z)(function*(I,p,g,A,W={}){const ie=yield Yt(I,p,g,A,W);return"mfaPendingCredential"in ie&&Dt(I,"multi-factor-auth-required",{_serverResponse:ie}),ie})).apply(this,arguments)}function Er(I,p,g,A){const W=`${p}${g}?${A}`;return I.config.emulator?Ln(I.config,W):`${I.config.apiScheme}://${W}`}class ar{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,A)=>{this.timer=setTimeout(()=>A(it(this.auth,"network-request-failed")),Zt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _n(I,p,g){const A={appName:I.name};g.email&&(A.email=g.email),g.phoneNumber&&(A.phoneNumber=g.phoneNumber);const W=it(I,p,A);return W.customData._tokenResponse=g,W}function At(){return(At=(0,m.Z)(function*(I,p){return Yt(I,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function br(I,p){return In.apply(this,arguments)}function In(){return(In=(0,m.Z)(function*(I,p){return Yt(I,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function nn(I,p){return lr.apply(this,arguments)}function lr(){return(lr=(0,m.Z)(function*(I,p){return Yt(I,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function oi(I){if(I)try{const p=new Date(Number(I));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function De(){return(De=(0,m.Z)(function*(I,p=!1){const g=(0,E.m9)(I),A=yield g.getIdToken(p),W=ke(A);Ne(W&&W.exp&&W.auth_time&&W.iat,g.auth,"internal-error");const ie="object"==typeof W.firebase?W.firebase:void 0,Be=null==ie?void 0:ie.sign_in_provider;return{claims:W,token:A,authTime:oi(ct(W.auth_time)),issuedAtTime:oi(ct(W.iat)),expirationTime:oi(ct(W.exp)),signInProvider:Be||null,signInSecondFactor:(null==ie?void 0:ie.sign_in_second_factor)||null}})).apply(this,arguments)}function ct(I){return 1e3*Number(I)}function ke(I){const[p,g,A]=I.split(".");if(void 0===p||void 0===g||void 0===A)return Ot("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,E.tV)(g);return W?JSON.parse(W):(Ot("Failed to decode base64 JWT payload"),null)}catch(W){return Ot("Caught error parsing JWT payload as JSON",W),null}}function ht(I,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,m.Z)(function*(I,p,g=!1){if(g)return p;try{return yield p}catch(A){throw A instanceof E.ZR&&ln(A)&&I.auth.currentUser===I&&(yield I.auth.signOut()),A}})).apply(this,arguments)}function ln({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Xt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const W=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const A=this.getInterval(p);this.timerId=setTimeout((0,m.Z)(function*(){yield g.iteration()}),A)}iteration(){var p=this;return(0,m.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Ur{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ir(I){return cn.apply(this,arguments)}function cn(){return(cn=(0,m.Z)(function*(I){var p;const g=I.auth,A=yield I.getIdToken(),W=yield ht(I,nn(g,{idToken:A}));Ne(null==W?void 0:W.users.length,g,"internal-error");const ie=W.users[0];I._notifyReloadListener(ie);const Be=(null===(p=ie.providerUserInfo)||void 0===p?void 0:p.length)?xt(ie.providerUserInfo):[],vt=fn(I.providerData,Be),Yn=!!I.isAnonymous&&!(I.email&&ie.passwordHash||(null==vt?void 0:vt.length)),mi={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:vt,metadata:new Ur(ie.createdAt,ie.lastLoginAt),isAnonymous:Yn};Object.assign(I,mi)})).apply(this,arguments)}function wn(){return(wn=(0,m.Z)(function*(I){const p=(0,E.m9)(I);yield ir(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function fn(I,p){return[...I.filter(A=>!p.some(W=>W.providerId===A.providerId)),...p]}function xt(I){return I.map(p=>{var{providerId:g}=p,A=(0,fe._T)(p,["providerId"]);return{providerId:g,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Tt(){return(Tt=(0,m.Z)(function*(I,p){const g=yield zn(I,{},(0,m.Z)(function*(){const A=(0,E.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:W,apiKey:ie}=I.config,Be=Er(I,W,"/v1/token",`key=${ie}`),vt=yield I._getAdditionalHeaders();return vt["Content-Type"]="application/x-www-form-urlencoded",yn.fetch()(Be,{method:"POST",headers:vt,body:A})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ne(p.idToken,"internal-error"),Ne(void 0!==p.idToken,"internal-error"),Ne(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function ft(I){const p=ke(I);return Ne(p,"internal-error"),Ne(void 0!==p.exp,"internal-error"),Ne(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var A=this;return(0,m.Z)(function*(){return Ne(!A.accessToken||A.refreshToken,p,"user-token-expired"),g||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(p,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var A=this;return(0,m.Z)(function*(){const{accessToken:W,refreshToken:ie,expiresIn:Be}=yield function Ze(I,p){return Tt.apply(this,arguments)}(p,g);A.updateTokensAndExpiration(W,ie,Number(Be))})()}updateTokensAndExpiration(p,g,A){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(p,g){const{refreshToken:A,accessToken:W,expirationTime:ie}=g,Be=new Gt;return A&&(Ne("string"==typeof A,"internal-error",{appName:p}),Be.refreshToken=A),W&&(Ne("string"==typeof W,"internal-error",{appName:p}),Be.accessToken=W),ie&&(Ne("number"==typeof ie,"internal-error",{appName:p}),Be.expirationTime=ie),Be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Gt,this.toJSON())}_performRefresh(){return Ee("not implemented")}}function dn(I,p){Ne("string"==typeof I||void 0===I,"internal-error",{appName:p})}class vn{constructor(p){var{uid:g,auth:A,stsTokenManager:W}=p,ie=(0,fe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=A,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.providerData=ie.providerData?[...ie.providerData]:[],this.metadata=new Ur(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,m.Z)(function*(){const A=yield ht(g,g.stsTokenManager.getToken(g.auth,p));return Ne(A,g.auth,"internal-error"),g.accessToken!==A&&(g.accessToken=A,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),A})()}getIdTokenResult(p){return function we(I){return De.apply(this,arguments)}(this,p)}reload(){return function Ct(I){return wn.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ne(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new vn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var A=this;return(0,m.Z)(function*(){let W=!1;p.idToken&&p.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(p),W=!0),g&&(yield ir(A)),yield A.auth._persistUserIfCurrent(A),W&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var p=this;return(0,m.Z)(function*(){const g=yield p.getIdToken();return yield ht(p,function wr(I,p){return At.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var A,W,ie,Be,vt,sn,qt,Yn;const mi=null!==(A=g.displayName)&&void 0!==A?A:void 0,su=null!==(W=g.email)&&void 0!==W?W:void 0,ou=null!==(ie=g.phoneNumber)&&void 0!==ie?ie:void 0,tl=null!==(Be=g.photoURL)&&void 0!==Be?Be:void 0,Tl=null!==(vt=g.tenantId)&&void 0!==vt?vt:void 0,nl=null!==(sn=g._redirectEventId)&&void 0!==sn?sn:void 0,Al=null!==(qt=g.createdAt)&&void 0!==qt?qt:void 0,Bu=null!==(Yn=g.lastLoginAt)&&void 0!==Yn?Yn:void 0,{uid:Sl,emailVerified:xc,isAnonymous:Oc,providerData:ju,stsTokenManager:ql}=g;Ne(Sl&&ql,p,"internal-error");const Vd=Gt.fromJSON(this.name,ql);Ne("string"==typeof Sl,p,"internal-error"),dn(mi,p.name),dn(su,p.name),Ne("boolean"==typeof xc,p,"internal-error"),Ne("boolean"==typeof Oc,p,"internal-error"),dn(ou,p.name),dn(tl,p.name),dn(Tl,p.name),dn(nl,p.name),dn(Al,p.name),dn(Bu,p.name);const Ai=new vn({uid:Sl,auth:p,email:su,emailVerified:xc,displayName:mi,isAnonymous:Oc,photoURL:tl,phoneNumber:ou,tenantId:Tl,stsTokenManager:Vd,createdAt:Al,lastLoginAt:Bu});return ju&&Array.isArray(ju)&&(Ai.providerData=ju.map(Tr=>Object.assign({},Tr))),nl&&(Ai._redirectEventId=nl),Ai}static _fromIdTokenResponse(p,g,A=!1){return(0,m.Z)(function*(){const W=new Gt;W.updateFromServerResponse(g);const ie=new vn({uid:g.localId,auth:p,stsTokenManager:W,isAnonymous:A});return yield ir(ie),ie})()}}const le=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(g,A){var W=this;return(0,m.Z)(function*(){W.storage[g]=A})()}_get(g){var A=this;return(0,m.Z)(function*(){const W=A.storage[g];return void 0===W?null:W})()}_remove(g){var A=this;return(0,m.Z)(function*(){delete A.storage[g]})()}_addListener(g,A){}_removeListener(g,A){}}return I.type="NONE",I})();function Ae(I,p,g){return`firebase:${I}:${p}:${g}`}class Je{constructor(p,g,A){this.persistence=p,this.auth=g,this.userKey=A;const{config:W,name:ie}=this.auth;this.fullUserKey=Ae(this.userKey,W.apiKey,ie),this.fullPersistenceKey=Ae("persistence",W.apiKey,ie),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,m.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?vn._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,m.Z)(function*(){if(g.persistence===p)return;const A=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,A?g.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,A="authUser"){return(0,m.Z)(function*(){if(!g.length)return new Je(pe(le),p,A);const W=(yield Promise.all(g.map(function(){var qt=(0,m.Z)(function*(Yn){if(yield Yn._isAvailable())return Yn});return function(Yn){return qt.apply(this,arguments)}}()))).filter(qt=>qt);let ie=W[0]||pe(le);const Be=Ae(A,p.config.apiKey,p.name);let vt=null;for(const qt of g)try{const Yn=yield qt._get(Be);if(Yn){const mi=vn._fromJSON(p,Yn);qt!==ie&&(vt=mi),ie=qt;break}}catch(Yn){}const sn=W.filter(qt=>qt._shouldAllowMigration);return ie._shouldAllowMigration&&sn.length?(ie=sn[0],vt&&(yield ie._set(Be,vt.toJSON())),yield Promise.all(g.map(function(){var qt=(0,m.Z)(function*(Yn){if(Yn!==ie)try{yield Yn._remove(Be)}catch(mi){}});return function(Yn){return qt.apply(this,arguments)}}())),new Je(ie,p,A)):new Je(ie,p,A)})()}}function te(I){const p=I.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Xe(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(se(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(on(p))return"Blackberry";if(Nt(p))return"Webos";if(ue(p))return"Safari";if((p.includes("chrome/")||ze(p))&&!p.includes("edge/"))return"Chrome";if(St(p))return"Android";{const A=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function se(I=(0,E.z$)()){return/firefox\//i.test(I)}function ue(I=(0,E.z$)()){const p=I.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ze(I=(0,E.z$)()){return/crios\//i.test(I)}function Xe(I=(0,E.z$)()){return/iemobile/i.test(I)}function St(I=(0,E.z$)()){return/android/i.test(I)}function on(I=(0,E.z$)()){return/blackberry/i.test(I)}function Nt(I=(0,E.z$)()){return/webos/i.test(I)}function pn(I=(0,E.z$)()){return/iphone|ipad|ipod/i.test(I)}function cr(I=(0,E.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function _r(I=(0,E.z$)()){return pn(I)||St(I)||Nt(I)||on(I)||/windows phone/i.test(I)||Xe(I)}function fr(I,p=[]){let g;switch(I){case"Browser":g=te((0,E.z$)());break;case"Worker":g=`${te((0,E.z$)())}-${I}`;break;default:g=I}const A=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${K.SDK_VERSION}/${A}`}class cs{constructor(p,g,A){this.app=p,this.heartbeatServiceProvider=g,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mt(this),this.idTokenSubscription=new Mt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(p,g){var A=this;return g&&(this._popupRedirectResolver=pe(g)),this._initializationPromise=this.queue((0,m.Z)(function*(){var W,ie;if(!A._deleted&&(A.persistenceManager=yield Je.create(A,p),!A._deleted)){if(null===(W=A._popupRedirectResolver)||void 0===W?void 0:W._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch(Be){}yield A.initializeCurrentUser(g),A.lastNotifiedUid=(null===(ie=A.currentUser)||void 0===ie?void 0:ie.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,m.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,m.Z)(function*(){var A;let W=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ie=null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId,Be=null==W?void 0:W._redirectEventId,vt=yield g.tryRedirectSignIn(p);(!ie||ie===Be)&&(null==vt?void 0:vt.user)&&(W=vt.user)}return W?W._redirectEventId?(Ne(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===W._redirectEventId?g.directlySetCurrentUser(W):g.reloadAndSetCurrentUserOrClear(W)):g.reloadAndSetCurrentUserOrClear(W):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,m.Z)(function*(){let A=null;try{A=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(W){yield g._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,m.Z)(function*(){try{yield ir(p)}catch(A){if("auth/network-request-failed"!==A.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Pt(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var p=this;return(0,m.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,m.Z)(function*(){const A=p?(0,E.m9)(p):null;return A&&Ne(A.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(A&&A._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,m.Z)(function*(){if(!g._deleted)return p&&Ne(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,m.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,m.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,m.Z)(function*(){yield g.assertedPersistence.setPersistence(pe(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new E.LL("auth","Firebase",p())}onAuthStateChanged(p,g,A){return this.registerStateListener(this.authStateSubscription,p,g,A)}onIdTokenChanged(p,g,A){return this.registerStateListener(this.idTokenSubscription,p,g,A)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var A=this;return(0,m.Z)(function*(){const W=yield A.getOrInitRedirectPersistenceManager(g);return null===p?W.removeCurrentUser():W.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,m.Z)(function*(){if(!g.redirectPersistenceManager){const A=p&&pe(p)||g._popupRedirectResolver;Ne(A,g,"argument-error"),g.redirectPersistenceManager=yield Je.create(g,[pe(A._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,m.Z)(function*(){var A,W;return g._isInitialized&&(yield g.queue((0,m.Z)(function*(){}))),(null===(A=g._currentUser)||void 0===A?void 0:A._redirectEventId)===p?g._currentUser:(null===(W=g.redirectUser)||void 0===W?void 0:W._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,m.Z)(function*(){if(p===g.currentUser)return g.queue((0,m.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,A,W){if(this._deleted)return()=>{};const ie="function"==typeof g?g:g.next.bind(g),Be=this._isInitialized?Promise.resolve():this._initializationPromise;return Ne(Be,this,"internal-error"),Be.then(()=>ie(this.currentUser)),"function"==typeof g?p.addObserver(g,A,W):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,m.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=fr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,m.Z)(function*(){var g;const A={"X-Client-Version":p.clientVersion};p.app.options.appId&&(A["X-Firebase-gmpid"]=p.app.options.appId);const W=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return W&&(A["X-Firebase-Client"]=W),A})()}}function Dn(I){return(0,E.m9)(I)}class Mt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,E.ne)(g=>this.observer=g)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function bn(I,p,g){const A=Dn(I);Ne(A._canInitEmulator,A,"emulator-config-failed"),Ne(/^https?:\/\//.test(p),A,"invalid-emulator-scheme");const W=!!(null==g?void 0:g.disableWarnings),ie=rn(p),{host:Be,port:vt}=function Un(I){const p=rn(I),g=/(\/\/)?([^?#/]+)/.exec(I.substr(p.length));if(!g)return{host:"",port:null};const A=g[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(A);if(W){const ie=W[1];return{host:ie,port:vi(A.substr(ie.length+1))}}{const[ie,Be]=A.split(":");return{host:ie,port:vi(Be)}}}(p);A.config.emulator={url:`${ie}//${Be}${null===vt?"":`:${vt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Be,port:vt,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function pr(){function I(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function rn(I){const p=I.indexOf(":");return p<0?"":I.substr(0,p+1)}function vi(I){if(!I)return null;const p=Number(I);return isNaN(p)?null:p}class Gr{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Ee("not implemented")}_getIdTokenResponse(p){return Ee("not implemented")}_linkToIdToken(p,g){return Ee("not implemented")}_getReauthenticationResolver(p){return Ee("not implemented")}}function Hn(I,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,m.Z)(function*(I,p){return Yt(I,"POST","/v1/accounts:resetPassword",Bt(I,p))})).apply(this,arguments)}function Mi(I,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,m.Z)(function*(I,p){return Yt(I,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function xi(I,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,m.Z)(function*(I,p){return Yt(I,"POST","/v1/accounts:update",Bt(I,p))})).apply(this,arguments)}function ni(){return(ni=(0,m.Z)(function*(I,p){return Wn(I,"POST","/v1/accounts:signInWithPassword",Bt(I,p))})).apply(this,arguments)}function Dr(I,p){return Br.apply(this,arguments)}function Br(){return(Br=(0,m.Z)(function*(I,p){return Yt(I,"POST","/v1/accounts:sendOobCode",Bt(I,p))})).apply(this,arguments)}function Cr(I,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,m.Z)(function*(I,p){return Dr(I,p)})).apply(this,arguments)}function Rn(I,p){return ds.apply(this,arguments)}function ds(){return(ds=(0,m.Z)(function*(I,p){return Dr(I,p)})).apply(this,arguments)}function Oi(I,p){return dr.apply(this,arguments)}function dr(){return(dr=(0,m.Z)(function*(I,p){return Dr(I,p)})).apply(this,arguments)}function Ri(I,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,m.Z)(function*(I,p){return Dr(I,p)})).apply(this,arguments)}function Pi(){return(Pi=(0,m.Z)(function*(I,p){return Wn(I,"POST","/v1/accounts:signInWithEmailLink",Bt(I,p))})).apply(this,arguments)}function js(){return(js=(0,m.Z)(function*(I,p){return Wn(I,"POST","/v1/accounts:signInWithEmailLink",Bt(I,p))})).apply(this,arguments)}class ji extends Gr{constructor(p,g,A,W=null){super("password",A),this._email=p,this._password=g,this._tenantId=W}static _fromEmailAndPassword(p,g){return new ji(p,g,"password")}static _fromEmailAndCode(p,g,A=null){return new ji(p,g,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,m.Z)(function*(){switch(g.signInMethod){case"password":return function Ys(I,p){return ni.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Sn(I,p){return Pi.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Dt(p,"internal-error")}})()}_linkToIdToken(p,g){var A=this;return(0,m.Z)(function*(){switch(A.signInMethod){case"password":return Mi(p,{idToken:g,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Bi(I,p){return js.apply(this,arguments)}(p,{idToken:g,email:A._email,oobCode:A._password});default:Dt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function _s(I,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,m.Z)(function*(I,p){return Wn(I,"POST","/v1/accounts:signInWithIdp",Bt(I,p))})).apply(this,arguments)}class qi extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new qi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Dt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:W}=g,ie=(0,fe._T)(g,["providerId","signInMethod"]);if(!A||!W)return null;const Be=new qi(A,W);return Be.idToken=ie.idToken||void 0,Be.accessToken=ie.accessToken||void 0,Be.secret=ie.secret,Be.nonce=ie.nonce,Be.pendingToken=ie.pendingToken||null,Be}_getIdTokenResponse(p){return _s(p,this.buildRequest())}_linkToIdToken(p,g){const A=this.buildRequest();return A.idToken=g,_s(p,A)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,_s(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,E.xO)(g)}return p}}function xe(I,p){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,m.Z)(function*(I,p){return Yt(I,"POST","/v1/accounts:sendVerificationCode",Bt(I,p))})).apply(this,arguments)}function at(){return(at=(0,m.Z)(function*(I,p){return Wn(I,"POST","/v1/accounts:signInWithPhoneNumber",Bt(I,p))})).apply(this,arguments)}function zt(){return(zt=(0,m.Z)(function*(I,p){const g=yield Wn(I,"POST","/v1/accounts:signInWithPhoneNumber",Bt(I,p));if(g.temporaryProof)throw _n(I,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const er={USER_NOT_FOUND:"user-not-found"};function qn(){return(qn=(0,m.Z)(function*(I,p){return Wn(I,"POST","/v1/accounts:signInWithPhoneNumber",Bt(I,Object.assign(Object.assign({},p),{operation:"REAUTH"})),er)})).apply(this,arguments)}class Qr extends Gr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Qr({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Qr({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function He(I,p){return at.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function pt(I,p){return zt.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Sr(I,p){return qn.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:A,verificationCode:W}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:A,code:W}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:A,phoneNumber:W,temporaryProof:ie}=p;return A||g||W||ie?new Qr({verificationId:g,verificationCode:A,phoneNumber:W,temporaryProof:ie}):null}}class Ei{constructor(p){var g,A,W,ie,Be,vt;const sn=(0,E.zd)((0,E.pd)(p)),qt=null!==(g=sn.apiKey)&&void 0!==g?g:null,Yn=null!==(A=sn.oobCode)&&void 0!==A?A:null,mi=function Do(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=sn.mode)&&void 0!==W?W:null);Ne(qt&&Yn&&mi,"argument-error"),this.apiKey=qt,this.operation=mi,this.code=Yn,this.continueUrl=null!==(ie=sn.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(Be=sn.languageCode)&&void 0!==Be?Be:null,this.tenantId=null!==(vt=sn.tenantId)&&void 0!==vt?vt:null}static parseLink(p){const g=function vs(I){const p=(0,E.zd)((0,E.pd)(I)).link,g=p?(0,E.zd)((0,E.pd)(p)).deep_link_id:null,A=(0,E.zd)((0,E.pd)(I)).deep_link_id;return(A?(0,E.zd)((0,E.pd)(A)).link:null)||A||g||p||I}(p);try{return new Ei(g)}catch(A){return null}}}let Ss=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(g,A){return ji._fromEmailAndPassword(g,A)}static credentialWithLink(g,A){const W=Ei.parseLink(A);return Ne(W,"argument-error"),ji._fromEmailAndCode(g,W.code,W.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Hi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Es extends Hi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Wr extends Es{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Ne("providerId"in g&&"signInMethod"in g,"argument-error"),qi._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ne(p.idToken||p.accessToken,"argument-error"),qi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Wr.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Wr.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:A,oauthTokenSecret:W,pendingToken:ie,nonce:Be,providerId:vt}=p;if(!A&&!W&&!g&&!ie||!vt)return null;try{return new Wr(vt)._credential({idToken:g,accessToken:A,nonce:Be,pendingToken:ie})}catch(sn){return null}}}let Fo=(()=>{class I extends Es{constructor(){super("facebook.com")}static credential(g){return qi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch(A){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Js=(()=>{class I extends Es{constructor(){super("google.com"),this.addScope("profile")}static credential(g,A){return qi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:A})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:A,oauthAccessToken:W}=g;if(!A&&!W)return null;try{return I.credential(A,W)}catch(ie){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Hs=(()=>{class I extends Es{constructor(){super("github.com")}static credential(g){return qi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch(A){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class wi extends Gr{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return _s(p,this.buildRequest())}_linkToIdToken(p,g){const A=this.buildRequest();return A.idToken=g,_s(p,A)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,_s(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:W,pendingToken:ie}=g;return A&&W&&ie&&A===W?new wi(A,ie):null}static _create(p,g){return new wi(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class jr extends Hi{constructor(p){Ne(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return jr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return jr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=wi.fromJSON(p);return Ne(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:A}=p;if(!g||!A)return null;try{return wi._create(A,g)}catch(W){return null}}}let ns=(()=>{class I extends Es{constructor(){super("twitter.com")}static credential(g,A){return qi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:A})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:A,oauthTokenSecret:W}=g;if(!A||!W)return null;try{return I.credential(A,W)}catch(ie){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Co(I,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,m.Z)(function*(I,p){return Wn(I,"POST","/v1/accounts:signUp",Bt(I,p))})).apply(this,arguments)}class Mr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,A,W=!1){return(0,m.Z)(function*(){const ie=yield vn._fromIdTokenResponse(p,A,W),Be=rs(A);return new Mr({user:ie,providerId:Be,_tokenResponse:A,operationType:g})})()}static _forOperation(p,g,A){return(0,m.Z)(function*(){yield p._updateTokensIfNecessary(A,!0);const W=rs(A);return new Mr({user:p,providerId:W,_tokenResponse:A,operationType:g})})()}}function rs(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Ki(I){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,m.Z)(function*(I){var p;const g=Dn(I);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Mr({user:g.currentUser,providerId:null,operationType:"signIn"});const A=yield Co(g,{returnSecureToken:!0}),W=yield Mr._fromIdTokenResponse(g,"signIn",A,!0);return yield g._updateCurrentUser(W.user),W})).apply(this,arguments)}class Zi extends E.ZR{constructor(p,g,A,W){var ie;super(g.code,g.message),this.operationType=A,this.user=W,Object.setPrototypeOf(this,Zi.prototype),this.customData={appName:p.name,tenantId:null!==(ie=p.tenantId)&&void 0!==ie?ie:void 0,_serverResponse:g.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(p,g,A,W){return new Zi(p,g,A,W)}}function eo(I,p,g,A){return("reauthenticate"===p?g._getReauthenticationResolver(I):g._getIdTokenResponse(I)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?Zi._fromErrorAndOperation(I,ie,p,A):ie})}function bs(I){return new Set(I.map(({providerId:p})=>p).filter(p=>!!p))}function kr(I,p){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,m.Z)(function*(I,p){const g=(0,E.m9)(I);yield F(!0,g,p);const{providerUserInfo:A}=yield br(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),W=bs(A||[]);return g.providerData=g.providerData.filter(ie=>W.has(ie.providerId)),W.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function is(I,p){return ur.apply(this,arguments)}function ur(){return(ur=(0,m.Z)(function*(I,p,g=!1){const A=yield ht(I,p._linkToIdToken(I.auth,yield I.getIdToken()),g);return Mr._forOperation(I,"link",A)})).apply(this,arguments)}function F(I,p,g){return z.apply(this,arguments)}function z(){return(z=(0,m.Z)(function*(I,p,g){yield ir(p);const W=!1===I?"provider-already-linked":"no-such-provider";Ne(bs(p.providerData).has(g)===I,p.auth,W)})).apply(this,arguments)}function k(I,p){return X.apply(this,arguments)}function X(){return(X=(0,m.Z)(function*(I,p,g=!1){const{auth:A}=I,W="reauthenticate";try{const ie=yield ht(I,eo(A,W,p,I),g);Ne(ie.idToken,A,"internal-error");const Be=ke(ie.idToken);Ne(Be,A,"internal-error");const{sub:vt}=Be;return Ne(I.uid===vt,A,"user-mismatch"),Mr._forOperation(I,W,ie)}catch(ie){throw"auth/user-not-found"===(null==ie?void 0:ie.code)&&Dt(A,"user-mismatch"),ie}})).apply(this,arguments)}function _e(I,p){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,m.Z)(function*(I,p,g=!1){const A="signIn",W=yield eo(I,A,p),ie=yield Mr._fromIdTokenResponse(I,A,W);return g||(yield I._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function ut(I,p){return gt.apply(this,arguments)}function gt(){return(gt=(0,m.Z)(function*(I,p){return _e(Dn(I),p)})).apply(this,arguments)}function tr(I,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,m.Z)(function*(I,p){const g=(0,E.m9)(I);return yield F(!1,g,p.providerId),is(g,p)})).apply(this,arguments)}function On(I,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,m.Z)(function*(I,p){return k((0,E.m9)(I),p)})).apply(this,arguments)}function mr(I,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,m.Z)(function*(I,p){return Wn(I,"POST","/v1/accounts:signInWithCustomToken",Bt(I,p))})).apply(this,arguments)}function vr(I,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,m.Z)(function*(I,p){const g=Dn(I),A=yield mr(g,{token:p,returnSecureToken:!0}),W=yield Mr._fromIdTokenResponse(g,"signIn",A);return yield g._updateCurrentUser(W.user),W})).apply(this,arguments)}class ai{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?en._fromServerResponse(p,g):Dt(p,"internal-error")}}class en extends ai{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new en(g)}}function ss(I,p,g){var A;Ne((null===(A=g.url)||void 0===A?void 0:A.length)>0,I,"invalid-continue-uri"),Ne(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ne(g.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Ne(g.android.packageName.length>0,I,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Is(I,p,g){return ri.apply(this,arguments)}function ri(){return(ri=(0,m.Z)(function*(I,p,g){const A=(0,E.m9)(I),W={requestType:"PASSWORD_RESET",email:p};g&&ss(A,W,g),yield Rn(A,W)})).apply(this,arguments)}function To(I,p,g){return V.apply(this,arguments)}function V(){return(V=(0,m.Z)(function*(I,p,g){yield Hn((0,E.m9)(I),{oobCode:p,newPassword:g})})).apply(this,arguments)}function N(I,p){return O.apply(this,arguments)}function O(){return(O=(0,m.Z)(function*(I,p){yield xi((0,E.m9)(I),{oobCode:p})})).apply(this,arguments)}function j(I,p){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,m.Z)(function*(I,p){const g=(0,E.m9)(I),A=yield Hn(g,{oobCode:p}),W=A.requestType;switch(Ne(W,g,"internal-error"),W){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ne(A.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ne(A.mfaInfo,g,"internal-error");default:Ne(A.email,g,"internal-error")}let ie=null;return A.mfaInfo&&(ie=ai._fromServerResponse(Dn(g),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:ie},operation:W}})).apply(this,arguments)}function Vt(I,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,m.Z)(function*(I,p){const{data:g}=yield j((0,E.m9)(I),p);return g.email})).apply(this,arguments)}function Lr(I,p,g){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,m.Z)(function*(I,p,g){const A=Dn(I),W=yield Co(A,{returnSecureToken:!0,email:p,password:g}),ie=yield Mr._fromIdTokenResponse(A,"signIn",W);return yield A._updateCurrentUser(ie.user),ie})).apply(this,arguments)}function ui(I,p,g){return ut((0,E.m9)(I),Ss.credential(p,g))}function bi(I,p,g){return li.apply(this,arguments)}function li(){return(li=(0,m.Z)(function*(I,p,g){const A=(0,E.m9)(I),W={requestType:"EMAIL_SIGNIN",email:p};Ne(g.handleCodeInApp,A,"argument-error"),g&&ss(A,W,g),yield Oi(A,W)})).apply(this,arguments)}function Lo(I,p){const g=Ei.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function wa(I,p,g){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,m.Z)(function*(I,p,g){const A=(0,E.m9)(I),W=Ss.credentialWithLink(p,g||Ue());return Ne(W._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),ut(A,W)})).apply(this,arguments)}function Vo(I,p){return ci.apply(this,arguments)}function ci(){return(ci=(0,m.Z)(function*(I,p){return Yt(I,"POST","/v1/accounts:createAuthUri",Bt(I,p))})).apply(this,arguments)}function Yi(I,p){return to.apply(this,arguments)}function to(){return(to=(0,m.Z)(function*(I,p){const A={identifier:p,continueUri:Ht()?Ue():"http://localhost"},{signinMethods:W}=yield Vo((0,E.m9)(I),A);return W||[]})).apply(this,arguments)}function $s(I,p){return os.apply(this,arguments)}function os(){return(os=(0,m.Z)(function*(I,p){const g=(0,E.m9)(I),W={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};p&&ss(g.auth,W,p);const{email:ie}=yield Cr(g.auth,W);ie!==I.email&&(yield I.reload())})).apply(this,arguments)}function za(I,p,g){return no.apply(this,arguments)}function no(){return(no=(0,m.Z)(function*(I,p,g){const A=(0,E.m9)(I),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:p};g&&ss(A.auth,ie,g);const{email:Be}=yield Ri(A.auth,ie);Be!==I.email&&(yield I.reload())})).apply(this,arguments)}function ki(I,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,m.Z)(function*(I,p){return Yt(I,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vr(I,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,m.Z)(function*(I,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const A=(0,E.m9)(I),ie={idToken:yield A.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Be=yield ht(A,ki(A.auth,ie));A.displayName=Be.displayName||null,A.photoURL=Be.photoUrl||null;const vt=A.providerData.find(({providerId:sn})=>"password"===sn);vt&&(vt.displayName=A.displayName,vt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Be)})).apply(this,arguments)}function Wa(I,p){return oa((0,E.m9)(I),p,null)}function pu(I,p){return oa((0,E.m9)(I),null,p)}function oa(I,p,g){return aa.apply(this,arguments)}function aa(){return(aa=(0,m.Z)(function*(I,p,g){const{auth:A}=I,ie={idToken:yield I.getIdToken(),returnSecureToken:!0};p&&(ie.email=p),g&&(ie.password=g);const Be=yield ht(I,Mi(A,ie));yield I._updateTokensIfNecessary(Be,!0)})).apply(this,arguments)}class Ms{constructor(p,g,A={}){this.isNewUser=p,this.providerId=g,this.profile=A}}class ba extends Ms{constructor(p,g,A,W){super(p,g,A),this.username=W}}class ua extends Ms{constructor(p,g){super(p,"facebook.com",g)}}class Ia extends ba{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class $i extends Ms{constructor(p,g){super(p,"google.com",g)}}class Qo extends ba{constructor(p,g,A){super(p,"twitter.com",g,A)}}function Da(I){const{user:p,_tokenResponse:g}=I;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Yo(I){var p,g;if(!I)return null;const{providerId:A}=I,W=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ie=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!A&&(null==I?void 0:I.idToken)){const Be=null===(g=null===(p=ke(I.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Be)return new Ms(ie,"anonymous"!==Be&&"custom"!==Be?Be:null)}if(!A)return null;switch(A){case"facebook.com":return new ua(ie,W);case"github.com":return new Ia(ie,W);case"google.com":return new $i(ie,W);case"twitter.com":return new Qo(ie,W,I.screenName||null);case"custom":case"anonymous":return new Ms(ie,null);default:return new Ms(ie,A,W)}}(g)}class Uo{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Uo("enroll",p)}static _fromMfaPendingCredential(p){return new Uo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,A;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Uo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(A=p.multiFactorSession)||void 0===A?void 0:A.idToken)return Uo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class io{constructor(p,g,A){this.session=p,this.hints=g,this.signInResolver=A}static _fromError(p,g){const A=Dn(p),W=g.customData._serverResponse,ie=(W.mfaInfo||[]).map(vt=>ai._fromServerResponse(A,vt));Ne(W.mfaPendingCredential,A,"internal-error");const Be=Uo._fromMfaPendingCredential(W.mfaPendingCredential);return new io(Be,ie,function(){var vt=(0,m.Z)(function*(sn){const qt=yield sn._process(A,Be);delete W.mfaInfo,delete W.mfaPendingCredential;const Yn=Object.assign(Object.assign({},W),{idToken:qt.idToken,refreshToken:qt.refreshToken});switch(g.operationType){case"signIn":const mi=yield Mr._fromIdTokenResponse(A,g.operationType,Yn);return yield A._updateCurrentUser(mi.user),mi;case"reauthenticate":return Ne(g.user,A,"internal-error"),Mr._forOperation(g.user,g.operationType,Yn);default:Dt(A,"internal-error")}});return function(sn){return vt.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,m.Z)(function*(){return g.signInResolver(p)})()}}function ho(I,p){var g;const A=(0,E.m9)(I),W=p;return Ne(p.customData.operationType,A,"argument-error"),Ne(null===(g=W.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,A,"argument-error"),io._fromError(A,W)}function xs(I,p){return Yt(I,"POST","/v2/accounts/mfaEnrollment:start",Bt(I,p))}class So{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(A=>ai._fromServerResponse(p.auth,A)))})}static _fromUser(p){return new So(p)}getSession(){var p=this;return(0,m.Z)(function*(){return Uo._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var A=this;return(0,m.Z)(function*(){const W=p,ie=yield A.getSession(),Be=yield ht(A.user,W._process(A.user.auth,ie,g));return yield A.user._updateTokensIfNecessary(Be),A.user.reload()})()}unenroll(p){var g=this;return(0,m.Z)(function*(){const A="string"==typeof p?p:p.uid,W=yield g.user.getIdToken(),ie=yield ht(g.user,function di(I,p){return Yt(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(I,p))}(g.user.auth,{idToken:W,mfaEnrollmentId:A}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Be})=>Be!==A),yield g.user._updateTokensIfNecessary(ie);try{yield g.user.reload()}catch(Be){if("auth/user-token-expired"!==Be.code)throw Be}})()}}const Os=new WeakMap;function zs(I){const p=(0,E.m9)(I);return Os.has(p)||Os.set(p,So._fromUser(p)),Os.get(p)}const so="__sak";class Mo{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(so,"1"),this.storage.removeItem(so),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const da=(()=>{class I extends Mo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,A)=>this.onStorageEvent(g,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hs(){const I=(0,E.z$)();return ue(I)||pn(I)}()&&function Pr(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=_r(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const A of Object.keys(this.listeners)){const W=this.storage.getItem(A),ie=this.localCache[A];W!==ie&&g(A,ie,W)}}onStorageEvent(g,A=!1){if(!g.key)return void this.forAllChangedKeys((vt,sn,qt)=>{this.notifyListeners(vt,qt)});const W=g.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const vt=this.storage.getItem(W);if(g.newValue!==vt)null!==g.newValue?this.storage.setItem(W,g.newValue):this.storage.removeItem(W);else if(this.localCache[W]===g.newValue&&!A)return}const ie=()=>{const vt=this.storage.getItem(W);!A&&this.localCache[W]===vt||this.notifyListeners(W,vt)},Be=this.storage.getItem(W);!function jn(){return(0,E.w1)()&&10===document.documentMode}()||Be===g.newValue||g.newValue===g.oldValue?ie():setTimeout(ie,10)}notifyListeners(g,A){this.localCache[g]=A;const W=this.listeners[g];if(W)for(const ie of Array.from(W))ie(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,A,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:A,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(A)}_removeListener(g,A){this.listeners[g]&&(this.listeners[g].delete(A),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,A){var W=()=>super._set,ie=this;return(0,m.Z)(function*(){yield W().call(ie,g,A),ie.localCache[g]=JSON.stringify(A)})()}_get(g){var A=()=>super._get,W=this;return(0,m.Z)(function*(){const ie=yield A().call(W,g);return W.localCache[g]=JSON.stringify(ie),ie})()}_remove(g){var A=()=>super._remove,W=this;return(0,m.Z)(function*(){yield A().call(W,g),delete W.localCache[g]})()}}return I.type="LOCAL",I})(),hi=(()=>{class I extends Mo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,A){}_removeListener(g,A){}}return I.type="SESSION",I})();let oo=(()=>{class I{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const A=this.receivers.find(ie=>ie.isListeningto(g));if(A)return A;const W=new I(g);return this.receivers.push(W),W}isListeningto(g){return this.eventTarget===g}handleEvent(g){var A=this;return(0,m.Z)(function*(){const W=g,{eventId:ie,eventType:Be,data:vt}=W.data,sn=A.handlersMap[Be];if(!(null==sn?void 0:sn.size))return;W.ports[0].postMessage({status:"ack",eventId:ie,eventType:Be});const qt=Array.from(sn).map(function(){var mi=(0,m.Z)(function*(su){return su(W.origin,vt)});return function(su){return mi.apply(this,arguments)}}()),Yn=yield function Ka(I){return Promise.all(I.map(function(){var p=(0,m.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(A){return{fulfilled:!1,reason:A}}});return function(g){return p.apply(this,arguments)}}()))}(qt);W.ports[0].postMessage({status:"done",eventId:ie,eventType:Be,response:Yn})})()}_subscribe(g,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(A)}_unsubscribe(g,A){this.handlersMap[g]&&A&&this.handlersMap[g].delete(A),(!A||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function fs(I="",p=10){let g="";for(let A=0;A<p;A++)g+=Math.floor(10*Math.random());return I+g}class Ta{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,A=50){var W=this;return(0,m.Z)(function*(){const ie="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let Be,vt;return new Promise((sn,qt)=>{const Yn=fs("",20);ie.port1.start();const mi=setTimeout(()=>{qt(new Error("unsupported_event"))},A);vt={messageChannel:ie,onMessage(su){const ou=su;if(ou.data.eventId===Yn)switch(ou.data.status){case"ack":clearTimeout(mi),Be=setTimeout(()=>{qt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Be),sn(ou.data.response);break;default:clearTimeout(mi),clearTimeout(Be),qt(new Error("invalid_response"))}}},W.handlers.add(vt),ie.port1.addEventListener("message",vt.onMessage),W.target.postMessage({eventType:p,eventId:Yn,data:g},[ie.port2])}).finally(()=>{vt&&W.removeMessageHandler(vt)})})()}}function Di(){return window}function Za(){return void 0!==Di().WorkerGlobalScope&&"function"==typeof Di().importScripts}function Oo(){return(Oo=(0,m.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const Ya="firebaseLocalStorageDb",ei="firebaseLocalStorage",po="fbase_key";class Qi{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Rs(I,p){return I.transaction([ei],p?"readwrite":"readonly").objectStore(ei)}function yt(){const I=indexedDB.open(Ya,1);return new Promise((p,g)=>{I.addEventListener("error",()=>{g(I.error)}),I.addEventListener("upgradeneeded",()=>{const A=I.result;try{A.createObjectStore(ei,{keyPath:po})}catch(W){g(W)}}),I.addEventListener("success",(0,m.Z)(function*(){const A=I.result;A.objectStoreNames.contains(ei)?p(A):(A.close(),yield function Ja(){const I=indexedDB.deleteDatabase(Ya);return new Qi(I).toPromise()}(),p(yield yt()))}))})}function T(I,p,g){return D.apply(this,arguments)}function D(){return(D=(0,m.Z)(function*(I,p,g){const A=Rs(I,!0).put({[po]:p,value:g});return new Qi(A).toPromise()})).apply(this,arguments)}function M(){return(M=(0,m.Z)(function*(I,p){const g=Rs(I,!1).get(p),A=yield new Qi(g).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function L(I,p){const g=Rs(I,!0).delete(p);return new Qi(g).toPromise()}const me=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,m.Z)(function*(){return g.db||(g.db=yield yt()),g.db})()}_withRetries(g){var A=this;return(0,m.Z)(function*(){let W=0;for(;;)try{const ie=yield A._openDb();return yield g(ie)}catch(ie){if(W++>3)throw ie;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,m.Z)(function*(){return Za()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,m.Z)(function*(){g.receiver=oo._getInstance(function Aa(){return Za()?self:null}()),g.receiver._subscribe("keyChanged",function(){var A=(0,m.Z)(function*(W,ie){return{keyProcessed:(yield g._poll()).includes(ie.key)}});return function(W,ie){return A.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var A=(0,m.Z)(function*(W,ie){return["keyChanged"]});return function(W,ie){return A.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,m.Z)(function*(){var A,W;if(g.activeServiceWorker=yield function xo(){return Oo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ta(g.activeServiceWorker);const ie=yield g.sender._send("ping",{},800);!ie||(null===(A=ie[0])||void 0===A?void 0:A.fulfilled)&&(null===(W=ie[0])||void 0===W?void 0:W.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var A=this;return(0,m.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function fo(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:g},A.serviceWorkerReceiverAvailable?800:50)}catch(W){}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const g=yield yt();return yield T(g,so,"1"),yield L(g,so),!0}catch(g){}return!1})()}_withPendingWrite(g){var A=this;return(0,m.Z)(function*(){A.pendingWrites++;try{yield g()}finally{A.pendingWrites--}})()}_set(g,A){var W=this;return(0,m.Z)(function*(){return W._withPendingWrite((0,m.Z)(function*(){return yield W._withRetries(ie=>T(ie,g,A)),W.localCache[g]=A,W.notifyServiceWorker(g)}))})()}_get(g){var A=this;return(0,m.Z)(function*(){const W=yield A._withRetries(ie=>function w(I,p){return M.apply(this,arguments)}(ie,g));return A.localCache[g]=W,W})()}_remove(g){var A=this;return(0,m.Z)(function*(){return A._withPendingWrite((0,m.Z)(function*(){return yield A._withRetries(W=>L(W,g)),delete A.localCache[g],A.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,m.Z)(function*(){const A=yield g._withRetries(Be=>{const vt=Rs(Be,!1).getAll();return new Qi(vt).toPromise()});if(!A)return[];if(0!==g.pendingWrites)return[];const W=[],ie=new Set;for(const{fbase_key:Be,value:vt}of A)ie.add(Be),JSON.stringify(g.localCache[Be])!==JSON.stringify(vt)&&(g.notifyListeners(Be,vt),W.push(Be));for(const Be of Object.keys(g.localCache))g.localCache[Be]&&!ie.has(Be)&&(g.notifyListeners(Be,null),W.push(Be));return W})()}notifyListeners(g,A){this.localCache[g]=A;const W=this.listeners[g];if(W)for(const ie of Array.from(W))ie(A)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(A)}_removeListener(g,A){this.listeners[g]&&(this.listeners[g].delete(A),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function bt(I,p){return Yt(I,"POST","/v2/accounts/mfaSignIn:start",Bt(I,p))}function sr(){return(sr=(0,m.Z)(function*(I){return(yield Yt(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ps(I){return new Promise((p,g)=>{const A=document.createElement("script");A.setAttribute("src",I),A.onload=p,A.onerror=W=>{const ie=it("internal-error");ie.customData=W,g(ie)},A.type="text/javascript",A.charset="UTF-8",function Jn(){var I,p;return null!==(p=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==p?p:document}().appendChild(A)})}function ps(I){return`__${I}${Math.floor(1e6*Math.random())}`}const as=1e12;class fi{constructor(p){this.auth=p,this.counter=as,this._widgets=new Map}render(p,g){const A=this.counter;return this._widgets.set(A,new Yu(p,this.auth.name,g||{})),this.counter++,A}reset(p){var g;const A=p||as;null===(g=this._widgets.get(A))||void 0===g||g.delete(),this._widgets.delete(A)}getResponse(p){var g;return(null===(g=this._widgets.get(p||as))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,m.Z)(function*(){var A;return null===(A=g._widgets.get(p||as))||void 0===A||A.execute(),""})()}}class Yu{constructor(p,g,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const W="string"==typeof p?document.getElementById(p):p;Ne(W,"argument-error",{appName:g}),this.container=W,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xa(I){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<I;A++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Mn=ps("rcb"),pi=new Lt(3e4,6e4);class Zn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Di().grecaptcha}load(p,g=""){return Ne(function xn(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Di().grecaptcha):new Promise((A,W)=>{const ie=Di().setTimeout(()=>{W(it(p,"network-request-failed"))},pi.get());Di()[Mn]=()=>{Di().clearTimeout(ie),delete Di()[Mn];const vt=Di().grecaptcha;if(!vt)return void W(it(p,"internal-error"));const sn=vt.render;vt.render=(qt,Yn)=>{const mi=sn(qt,Yn);return this.counter++,mi},this.hostLanguage=g,A(vt)},Ps(`https://www.google.com/recaptcha/api.js??${(0,E.xO)({onload:Mn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ie),W(it(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Di().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cl{load(p){return(0,m.Z)(function*(){return new fi(p)})()}clearedOneInstance(){}}const Bo="recaptcha",Pu={theme:"light",type:"image"};class jo{constructor(p,g=Object.assign({},Pu),A){this.parameters=g,this.type=Bo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dn(A),this.isInvisible="invisible"===this.parameters.size,Ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const W="string"==typeof p?document.getElementById(p):p;Ne(W,this.auth,"argument-error"),this.container=W,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cl:new Zn,this.validateStartingState()}verify(){var p=this;return(0,m.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),A=p.getAssertedRecaptcha();return A.getResponse(g)||new Promise(ie=>{const Be=vt=>{!vt||(p.tokenChangeListeners.delete(Be),ie(vt))};p.tokenChangeListeners.add(Be),p.isInvisible&&A.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ne(!this.parameters.sitekey,this.auth,"argument-error"),Ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(A=>A(g)),"function"==typeof p)p(g);else if("string"==typeof p){const A=Di()[p];"function"==typeof A&&A(g)}}}assertNotDestroyed(){Ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,m.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const A=document.createElement("div");g.appendChild(A),g=A}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,m.Z)(function*(){Ne(Ht()&&!Za(),p.auth,"internal-error"),yield function hr(){let I=null;return new Promise(p=>{"complete"!==document.readyState?(I=()=>p(),window.addEventListener("load",I)):p()}).catch(p=>{throw I&&window.removeEventListener("load",I),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Wt(I){return sr.apply(this,arguments)}(p.auth);Ne(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nu{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Qr._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function ti(I,p,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,m.Z)(function*(I,p,g){const A=Dn(I),W=yield Kr(A,p,(0,E.m9)(g));return new Nu(W,ie=>ut(A,ie))})).apply(this,arguments)}function Li(I,p,g){return ii.apply(this,arguments)}function ii(){return(ii=(0,m.Z)(function*(I,p,g){const A=(0,E.m9)(I);yield F(!1,A,"phone");const W=yield Kr(A.auth,p,(0,E.m9)(g));return new Nu(W,ie=>tr(A,ie))})).apply(this,arguments)}function mu(I,p,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,m.Z)(function*(I,p,g){const A=(0,E.m9)(I),W=yield Kr(A.auth,p,(0,E.m9)(g));return new Nu(W,ie=>On(A,ie))})).apply(this,arguments)}function Kr(I,p,g){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,m.Z)(function*(I,p,g){var A;const W=yield g.verify();try{let ie;if(Ne("string"==typeof W,I,"argument-error"),Ne(g.type===Bo,I,"argument-error"),ie="string"==typeof p?{phoneNumber:p}:p,"session"in ie){const Be=ie.session;if("phoneNumber"in ie)return Ne("enroll"===Be.type,I,"internal-error"),(yield xs(I,{idToken:Be.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:W}})).phoneSessionInfo.sessionInfo;{Ne("signin"===Be.type,I,"internal-error");const vt=(null===(A=ie.multiFactorHint)||void 0===A?void 0:A.uid)||ie.multiFactorUid;return Ne(vt,I,"missing-multi-factor-info"),(yield bt(I,{mfaPendingCredential:Be.credential,mfaEnrollmentId:vt,phoneSignInInfo:{recaptchaToken:W}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Be}=yield xe(I,{phoneNumber:ie.phoneNumber,recaptchaToken:W});return Be}}finally{g._reset()}})).apply(this,arguments)}function Ds(I,p){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,m.Z)(function*(I,p){yield is((0,E.m9)(I),p)})).apply(this,arguments)}let Ro=(()=>{class I{constructor(g){this.providerId=I.PROVIDER_ID,this.auth=Dn(g)}verifyPhoneNumber(g,A){return Kr(this.auth,g,(0,E.m9)(A))}static credential(g,A){return Qr._fromVerification(g,A)}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:A,temporaryProof:W}=g;return A&&W?Qr._fromTokenResponse(A,W):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ns(I,p){return p?pe(p):(Ne(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class ks extends Gr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return _s(p,this._buildIdpRequest())}_linkToIdToken(p,g){return _s(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return _s(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function $o(I){return _e(I.auth,new ks(I),I.bypassAuthState)}function fa(I){const{auth:p,user:g}=I;return Ne(g,p,"internal-error"),k(g,new ks(I),I.bypassAuthState)}function ku(I){return kt.apply(this,arguments)}function kt(){return(kt=(0,m.Z)(function*(I){const{auth:p,user:g}=I;return Ne(g,p,"internal-error"),is(g,new ks(I),I.bypassAuthState)})).apply(this,arguments)}class Fu{constructor(p,g,A,W,ie=!1){this.auth=p,this.resolver=A,this.user=W,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,m.Z)(function*(A,W){p.pendingPromise={resolve:A,reject:W};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(ie){p.reject(ie)}});return function(A,W){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,m.Z)(function*(){const{urlResponse:A,sessionId:W,postBody:ie,tenantId:Be,error:vt,type:sn}=p;if(vt)return void g.reject(vt);const qt={auth:g.auth,requestUri:A,sessionId:W,tenantId:Be||void 0,postBody:ie||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(sn)(qt))}catch(Yn){g.reject(Yn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return $o;case"linkViaPopup":case"linkViaRedirect":return ku;case"reauthViaPopup":case"reauthViaRedirect":return fa;default:Dt(this.auth,"internal-error")}}resolve(p){Oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fs=new Lt(2e3,1e4);function Go(I,p,g){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,m.Z)(function*(I,p,g){const A=Dn(I);Qe(I,p,Hi);const W=Ns(A,g);return new eu(A,"signInViaPopup",p,W).executeNotNull()})).apply(this,arguments)}function yu(I,p,g){return gs.apply(this,arguments)}function gs(){return(gs=(0,m.Z)(function*(I,p,g){const A=(0,E.m9)(I);Qe(A.auth,p,Hi);const W=Ns(A.auth,g);return new eu(A.auth,"reauthViaPopup",p,W,A).executeNotNull()})).apply(this,arguments)}function Qu(I,p,g){return na.apply(this,arguments)}function na(){return(na=(0,m.Z)(function*(I,p,g){const A=(0,E.m9)(I);Qe(A.auth,p,Hi);const W=Ns(A.auth,g);return new eu(A.auth,"linkViaPopup",p,W,A).executeNotNull()})).apply(this,arguments)}let eu=(()=>{class I extends Fu{constructor(g,A,W,ie,Be){super(g,A,ie,Be),this.provider=W,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var g=this;return(0,m.Z)(function*(){const A=yield g.execute();return Ne(A,g.auth,"internal-error"),A})()}onExecution(){var g=this;return(0,m.Z)(function*(){Oe(1===g.filter.length,"Popup operations only handle one event");const A=fs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],A),g.authWindow.associatedEvent=A,g.resolver._originValidation(g.auth).catch(W=>{g.reject(W)}),g.resolver._isIframeWebStorageSupported(g.auth,W=>{W||g.reject(it(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(it(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const g=()=>{var A,W;this.pollId=(null===(W=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===W?void 0:W.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(it(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Fs.get())};g()}}return I.currentPopupAction=null,I})();const tu=new Map;class uo extends Fu{constructor(p,g,A=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,A),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,m.Z)(function*(){let A=tu.get(g.auth._key());if(!A){try{const ie=(yield function Lu(I,p){return xa.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;A=()=>Promise.resolve(ie)}catch(W){A=()=>Promise.reject(W)}tu.set(g.auth._key(),A)}return g.bypassAuthState||tu.set(g.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,A=this;return(0,m.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(A,p);if("unknown"!==p.type){if(p.eventId){const W=yield A.auth._redirectUserForId(p.eventId);if(W)return A.user=W,g().call(A,p);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function xa(){return(xa=(0,m.Z)(function*(I,p){const g=R(p),A=vu(I);if(!(yield A._isAvailable()))return!1;const W="true"===(yield A._get(g));return yield A._remove(g),W})).apply(this,arguments)}function Oa(I,p){return mo.apply(this,arguments)}function mo(){return(mo=(0,m.Z)(function*(I,p){return vu(I)._set(R(p),"true")})).apply(this,arguments)}function _u(){tu.clear()}function vu(I){return pe(I._redirectPersistence)}function R(I){return Ae("pendingRedirect",I.config.apiKey,I.name)}function U(I,p,g){return function Y(I,p,g){return ae.apply(this,arguments)}(I,p,g)}function ae(){return(ae=(0,m.Z)(function*(I,p,g){const A=Dn(I);Qe(I,p,Hi);const W=Ns(A,g);return yield Oa(W,A),W._openRedirect(A,p,"signInViaRedirect")})).apply(this,arguments)}function v(I,p,g){return function c(I,p,g){return d.apply(this,arguments)}(I,p,g)}function d(){return(d=(0,m.Z)(function*(I,p,g){const A=(0,E.m9)(I);Qe(A.auth,p,Hi);const W=Ns(A.auth,g);yield Oa(W,A.auth);const ie=yield jt(A);return W._openRedirect(A.auth,p,"reauthViaRedirect",ie)})).apply(this,arguments)}function b(I,p,g){return function P(I,p,g){return G.apply(this,arguments)}(I,p,g)}function G(){return(G=(0,m.Z)(function*(I,p,g){const A=(0,E.m9)(I);Qe(A.auth,p,Hi);const W=Ns(A.auth,g);yield F(!1,A,p.providerId),yield Oa(W,A.auth);const ie=yield jt(A);return W._openRedirect(A.auth,p,"linkViaRedirect",ie)})).apply(this,arguments)}function ne(I,p){return re.apply(this,arguments)}function re(){return(re=(0,m.Z)(function*(I,p){return yield Dn(I)._initializationPromise,Re(I,p,!1)})).apply(this,arguments)}function Re(I,p){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,m.Z)(function*(I,p,g=!1){const A=Dn(I),W=Ns(A,p),Be=yield new uo(A,W,g).execute();return Be&&!g&&(delete Be.user._redirectEventId,yield A._persistUserIfCurrent(Be.user),yield A._setRedirectUser(null,p)),Be})).apply(this,arguments)}function jt(I){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,m.Z)(function*(I){const p=fs(`${I.uid}:::`);return I._redirectEventId=p,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),p})).apply(this,arguments)}class En{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(p,A)&&(g=!0,this.sendToConsumer(p,A),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function xr(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return An(I);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var A;if(p.error&&!An(p)){const W=(null===(A=p.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";g.onError(it(this.auth,W))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const A=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&A}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(an(p))}saveEventToCache(p){this.cachedEventUids.add(an(p)),this.lastProcessedEventTime=Date.now()}}function an(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(p=>p).join("-")}function An({type:I,error:p}){return"unknown"===I&&"auth/no-auth-event"===(null==p?void 0:p.code)}function gi(I){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,m.Z)(function*(I,p={}){return Yt(I,"GET","/v1/projects",p)})).apply(this,arguments)}const us=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^https?/;function Po(){return(Po=(0,m.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:p}=yield gi(I);for(const g of p)try{if(Xi(g))return}catch(A){}Dt(I,"unauthorized-domain")})).apply(this,arguments)}function Xi(I){const p=Ue(),{protocol:g,hostname:A}=new URL(p);if(I.startsWith("chrome-extension://")){const Be=new URL(I);return""===Be.hostname&&""===A?"chrome-extension:"===g&&I.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Be.hostname===A}if(!yr.test(g))return!1;if(us.test(I))return A===I;const W=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(A)}const lo=new Lt(3e4,6e4);function ra(){const I=Di().___jsl;if(null==I?void 0:I.H)for(const p of Object.keys(I.H))if(I.H[p].r=I.H[p].r||[],I.H[p].L=I.H[p].L||[],I.H[p].r=[...I.H[p].L],I.CP)for(let g=0;g<I.CP.length;g++)I.CP[g]=null}let wu=null;function Vu(I){return wu=wu||function Ra(I){return new Promise((p,g)=>{var A,W,ie;function Be(){ra(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ra(),g(it(I,"network-request-failed"))},timeout:lo.get()})}if(null===(W=null===(A=Di().gapi)||void 0===A?void 0:A.iframes)||void 0===W?void 0:W.Iframe)p(gapi.iframes.getContext());else{if(!(null===(ie=Di().gapi)||void 0===ie?void 0:ie.load)){const vt=ps("iframefcb");return Di()[vt]=()=>{gapi.load?Be():g(it(I,"network-request-failed"))},Ps(`https://apis.google.com/js/api.js?onload=${vt}`).catch(sn=>g(sn))}Be()}}).catch(p=>{throw wu=null,p})}(I),wu}const yo=new Lt(5e3,15e3),Jt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gn(I){const p=I.config;Ne(p.authDomain,I,"auth-domain-config-required");const g=p.emulator?Ln(p,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,A={apiKey:p.apiKey,appName:I.name,v:K.SDK_VERSION},W=mn.get(I.config.apiHost);W&&(A.eid=W);const ie=I._getFrameworks();return ie.length&&(A.fw=ie.join(",")),`${g}?${(0,E.xO)(A).slice(1)}`}function si(){return si=(0,m.Z)(function*(I){const p=yield Vu(I),g=Di().gapi;return Ne(g,I,"internal-error"),p.open({where:document.body,url:gn(I),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jt,dontclear:!0},A=>new Promise(function(){var W=(0,m.Z)(function*(ie,Be){yield A.restyle({setHideOnLeave:!1});const vt=it(I,"network-request-failed"),sn=Di().setTimeout(()=>{Be(vt)},yo.get());function qt(){Di().clearTimeout(sn),ie(A)}A.ping(qt).then(qt,()=>{Be(vt)})});return function(ie,Be){return W.apply(this,arguments)}}()))}),si.apply(this,arguments)}const _o={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pa{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function ru(I,p,g,A,W,ie){Ne(I.config.authDomain,I,"auth-domain-config-required"),Ne(I.config.apiKey,I,"invalid-api-key");const Be={apiKey:I.config.apiKey,appName:I.name,authType:g,redirectUrl:A,v:K.SDK_VERSION,eventId:W};if(p instanceof Hi){p.setDefaultLanguage(I.languageCode),Be.providerId=p.providerId||"",(0,E.xb)(p.getCustomParameters())||(Be.customParameters=JSON.stringify(p.getCustomParameters()));for(const[sn,qt]of Object.entries(ie||{}))Be[sn]=qt}if(p instanceof Es){const sn=p.getScopes().filter(qt=>""!==qt);sn.length>0&&(Be.scopes=sn.join(","))}I.tenantId&&(Be.tid=I.tenantId);const vt=Be;for(const sn of Object.keys(vt))void 0===vt[sn]&&delete vt[sn];return`${function Ac({config:I}){return I.emulator?Ln(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,E.xO)(vt).slice(1)}`}const zl="webStorageSupport",Ju=class iu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hi,this._completeRedirectFn=Re}_openPopup(p,g,A,W){var ie=this;return(0,m.Z)(function*(){var Be;Oe(null===(Be=ie.eventManagers[p._key()])||void 0===Be?void 0:Be.manager,"_initialize() not called before _openPopup()");const vt=ru(p,g,A,Ue(),W);return function Yr(I,p,g,A=500,W=600){const ie=Math.max((window.screen.availHeight-W)/2,0).toString(),Be=Math.max((window.screen.availWidth-A)/2,0).toString();let vt="";const sn=Object.assign(Object.assign({},_o),{width:A.toString(),height:W.toString(),top:ie,left:Be}),qt=(0,E.z$)().toLowerCase();g&&(vt=ze(qt)?"_blank":g),se(qt)&&(p=p||"http://localhost",sn.scrollbars="yes");const Yn=Object.entries(sn).reduce((su,[ou,tl])=>`${su}${ou}=${tl},`,"");if(function Ir(I=(0,E.z$)()){var p;return pn(I)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(qt)&&"_self"!==vt)return function pa(I,p){const g=document.createElement("a");g.href=I,g.target=p;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(A)}(p||"",vt),new Pa(null);const mi=window.open(p||"",vt,Yn);Ne(mi,I,"popup-blocked");try{mi.focus()}catch(su){}return new Pa(mi)}(p,vt,fs())})()}_openRedirect(p,g,A,W){var ie=this;return(0,m.Z)(function*(){return yield ie._originValidation(p),function ao(I){Di().location.href=I}(ru(p,g,A,Ue(),W)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:W,promise:ie}=this.eventManagers[g];return W?Promise.resolve(W):(Oe(ie,"If manager is not set, promise should be"),ie)}const A=this.initAndGetManager(p);return this.eventManagers[g]={promise:A},A.catch(()=>{delete this.eventManagers[g]}),A}initAndGetManager(p){var g=this;return(0,m.Z)(function*(){const A=yield function rr(I){return si.apply(this,arguments)}(p),W=new En(p);return A.register("authEvent",ie=>(Ne(null==ie?void 0:ie.authEvent,p,"invalid-auth-event"),{status:W.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:W},g.iframes[p._key()]=A,W})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(zl,{type:zl},W=>{var ie;const Be=null===(ie=null==W?void 0:W[0])||void 0===ie?void 0:ie[zl];void 0!==Be&&g(!!Be),Dt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Eu(I){return Po.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return _r()||ue()||pn()}};class Sc extends class Ld{constructor(p){this.factorId=p}_process(p,g,A){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,A);case"signin":return this._finalizeSignIn(p,g.credential);default:return Ee("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Sc(p)}_finalizeEnroll(p,g,A){return function Xr(I,p){return Yt(I,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(I,p))}(p,{idToken:g,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function $n(I,p){return Yt(I,"POST","/v2/accounts/mfaSignIn:finalize",Bt(I,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gh=(()=>{class I{constructor(){}static assertion(g){return Sc._fromCredential(g)}}return I.FACTOR_ID="phone",I})();var Wl="@firebase/auth",zh="0.19.12";class Rp{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,m.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(A=>{var W;p((null===(W=A)||void 0===W?void 0:W.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Xu(I){(0,K._registerComponent)(new ve.wA("auth",(p,{options:g})=>{const A=p.getProvider("app").getImmediate(),W=p.getProvider("heartbeat"),{apiKey:ie,authDomain:Be}=A.options;return((vt,sn)=>{Ne(ie&&!ie.includes(":"),"invalid-api-key",{appName:vt.name}),Ne(!(null==Be?void 0:Be.includes(":")),"argument-error",{appName:vt.name});const qt={apiKey:ie,authDomain:Be,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fr(I)},Yn=new cs(vt,sn,qt);return function Fe(I,p){const g=(null==p?void 0:p.persistence)||[],A=(Array.isArray(g)?g:[g]).map(pe);(null==p?void 0:p.errorMap)&&I._updateErrorMap(p.errorMap),I._initializeWithPersistence(A,null==p?void 0:p.popupRedirectResolver)}(Yn,g),Yn})(A,W)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,A)=>{p.getProvider("auth-internal").initialize()})),(0,K._registerComponent)(new ve.wA("auth-internal",p=>{const g=Dn(p.getProvider("auth").getImmediate());return new Rp(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,K.registerVersion)(Wl,zh,function Mc(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,K.registerVersion)(Wl,zh,"esm2017")}("Browser")},2090:(Rt,Ge,B)=>{B.d(Ge,{$s:()=>Ur,BH:()=>rt,G6:()=>Ee,L:()=>Me,LL:()=>Ht,Lj:()=>dn,Mn:()=>mt,Sg:()=>ot,UG:()=>nt,US:()=>Te,X3:()=>Gt,ZB:()=>Pe,ZR:()=>Ue,b$:()=>it,d:()=>Le,eu:()=>$e,hl:()=>Oe,jU:()=>Ot,m9:()=>Ct,ne:()=>At,pd:()=>_n,r3:()=>Yt,ru:()=>Dt,tV:()=>ce,uI:()=>We,vZ:()=>Wn,w1:()=>Qe,xO:()=>Er,xb:()=>zn,z$:()=>dt,zI:()=>pe,zd:()=>ar});var m=B(5861);const ge=function(ye){const le=[];let Ae=0;for(let Je=0;Je<ye.length;Je++){let te=ye.charCodeAt(Je);te<128?le[Ae++]=te:te<2048?(le[Ae++]=te>>6|192,le[Ae++]=63&te|128):55296==(64512&te)&&Je+1<ye.length&&56320==(64512&ye.charCodeAt(Je+1))?(te=65536+((1023&te)<<10)+(1023&ye.charCodeAt(++Je)),le[Ae++]=te>>18|240,le[Ae++]=te>>12&63|128,le[Ae++]=te>>6&63|128,le[Ae++]=63&te|128):(le[Ae++]=te>>12|224,le[Ae++]=te>>6&63|128,le[Ae++]=63&te|128)}return le},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,le){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ae=le?this.byteToCharMapWebSafe_:this.byteToCharMap_,Je=[];for(let te=0;te<ye.length;te+=3){const se=ye[te],ue=te+1<ye.length,ze=ue?ye[te+1]:0,Xe=te+2<ye.length,St=Xe?ye[te+2]:0;let pn=(15&ze)<<2|St>>6,cr=63&St;Xe||(cr=64,ue||(pn=64)),Je.push(Ae[se>>2],Ae[(3&se)<<4|ze>>4],Ae[pn],Ae[cr])}return Je.join("")},encodeString(ye,le){return this.HAS_NATIVE_SUPPORT&&!le?btoa(ye):this.encodeByteArray(ge(ye),le)},decodeString(ye,le){return this.HAS_NATIVE_SUPPORT&&!le?atob(ye):function(ye){const le=[];let Ae=0,Je=0;for(;Ae<ye.length;){const te=ye[Ae++];if(te<128)le[Je++]=String.fromCharCode(te);else if(te>191&&te<224){const se=ye[Ae++];le[Je++]=String.fromCharCode((31&te)<<6|63&se)}else if(te>239&&te<365){const Xe=((7&te)<<18|(63&ye[Ae++])<<12|(63&ye[Ae++])<<6|63&ye[Ae++])-65536;le[Je++]=String.fromCharCode(55296+(Xe>>10)),le[Je++]=String.fromCharCode(56320+(1023&Xe))}else{const se=ye[Ae++],ue=ye[Ae++];le[Je++]=String.fromCharCode((15&te)<<12|(63&se)<<6|63&ue)}}return le.join("")}(this.decodeStringToByteArray(ye,le))},decodeStringToByteArray(ye,le){this.init_();const Ae=le?this.charToByteMapWebSafe_:this.charToByteMap_,Je=[];for(let te=0;te<ye.length;){const se=Ae[ye.charAt(te++)],ze=te<ye.length?Ae[ye.charAt(te)]:0;++te;const St=te<ye.length?Ae[ye.charAt(te)]:64;++te;const Nt=te<ye.length?Ae[ye.charAt(te)]:64;if(++te,null==se||null==ze||null==St||null==Nt)throw Error();Je.push(se<<2|ze>>4),64!==St&&(Je.push(ze<<4&240|St>>2),64!==Nt&&Je.push(St<<6&192|Nt))}return Je},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}},Me=function(ye){return function(ye){const le=ge(ye);return Te.encodeByteArray(le,!0)}(ye).replace(/\./g,"")},ce=function(ye){try{return Te.decodeString(ye,!0)}catch(le){console.error("base64Decode failed: ",le)}return null};function Pe(ye,le){if(!(le instanceof Object))return le;switch(le.constructor){case Date:return new Date(le.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return le}for(const Ae in le)!le.hasOwnProperty(Ae)||!It(Ae)||(ye[Ae]=Pe(ye[Ae],le[Ae]));return ye}function It(ye){return"__proto__"!==ye}class rt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((le,Ae)=>{this.resolve=le,this.reject=Ae})}wrapCallback(le){return(Ae,Je)=>{Ae?this.reject(Ae):this.resolve(Je),"function"==typeof le&&(this.promise.catch(()=>{}),1===le.length?le(Ae):le(Ae,Je))}}}function ot(ye,le){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Je=le||"demo-project",te=ye.iat||0,se=ye.sub||ye.user_id;if(!se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ue=Object.assign({iss:`https://securetoken.google.com/${Je}`,aud:Je,iat:te,exp:te+3600,auth_time:te,sub:se,user_id:se,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(ue)),""].join(".")}function dt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function We(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function nt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ye){return!1}}function Ot(){return"object"==typeof self&&self.self===self}function Dt(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){return dt().indexOf("Electron/")>=0}function Qe(){const ye=dt();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function mt(){return dt().indexOf("MSAppHost/")>=0}function Ee(){return!nt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oe(){return"object"==typeof indexedDB}function $e(){return new Promise((ye,le)=>{try{let Ae=!0;const Je="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(Je);te.onsuccess=()=>{te.result.close(),Ae||self.indexedDB.deleteDatabase(Je),ye(!0)},te.onupgradeneeded=()=>{Ae=!1},te.onerror=()=>{var se;le((null===(se=te.error)||void 0===se?void 0:se.message)||"")}}catch(Ae){le(Ae)}})}function pe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ue extends Error{constructor(le,Ae,Je){super(Ae),this.code=le,this.customData=Je,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ht.prototype.create)}}class Ht{constructor(le,Ae,Je){this.service=le,this.serviceName=Ae,this.errors=Je}create(le,...Ae){const Je=Ae[0]||{},te=`${this.service}/${le}`,se=this.errors[le],ue=se?function Ut(ye,le){return ye.replace(Gn,(Ae,Je)=>{const te=le[Je];return null!=te?String(te):`<${Je}?>`})}(se,Je):"Error";return new Ue(te,`${this.serviceName}: ${ue} (${te}).`,Je)}}const Gn=/\{\$([^}]+)}/g;function Yt(ye,le){return Object.prototype.hasOwnProperty.call(ye,le)}function zn(ye){for(const le in ye)if(Object.prototype.hasOwnProperty.call(ye,le))return!1;return!0}function Wn(ye,le){if(ye===le)return!0;const Ae=Object.keys(ye),Je=Object.keys(le);for(const te of Ae){if(!Je.includes(te))return!1;const se=ye[te],ue=le[te];if(or(se)&&or(ue)){if(!Wn(se,ue))return!1}else if(se!==ue)return!1}for(const te of Je)if(!Ae.includes(te))return!1;return!0}function or(ye){return null!==ye&&"object"==typeof ye}function Er(ye){const le=[];for(const[Ae,Je]of Object.entries(ye))Array.isArray(Je)?Je.forEach(te=>{le.push(encodeURIComponent(Ae)+"="+encodeURIComponent(te))}):le.push(encodeURIComponent(Ae)+"="+encodeURIComponent(Je));return le.length?"&"+le.join("&"):""}function ar(ye){const le={};return ye.replace(/^\?/,"").split("&").forEach(Je=>{if(Je){const[te,se]=Je.split("=");le[decodeURIComponent(te)]=decodeURIComponent(se)}}),le}function _n(ye){const le=ye.indexOf("?");if(!le)return"";const Ae=ye.indexOf("#",le);return ye.substring(le,Ae>0?Ae:void 0)}function At(ye,le){const Ae=new br(ye,le);return Ae.subscribe.bind(Ae)}class br{constructor(le,Ae){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ae,this.task.then(()=>{le(this)}).catch(Je=>{this.error(Je)})}next(le){this.forEachObserver(Ae=>{Ae.next(le)})}error(le){this.forEachObserver(Ae=>{Ae.error(le)}),this.close(le)}complete(){this.forEachObserver(le=>{le.complete()}),this.close()}subscribe(le,Ae,Je){let te;if(void 0===le&&void 0===Ae&&void 0===Je)throw new Error("Missing Observer.");te=function nn(ye,le){if("object"!=typeof ye||null===ye)return!1;for(const Ae of le)if(Ae in ye&&"function"==typeof ye[Ae])return!0;return!1}(le,["next","error","complete"])?le:{next:le,error:Ae,complete:Je},void 0===te.next&&(te.next=lr),void 0===te.error&&(te.error=lr),void 0===te.complete&&(te.complete=lr);const se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(ue){}}),this.observers.push(te),se}unsubscribeOne(le){void 0===this.observers||void 0===this.observers[le]||(delete this.observers[le],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(le){if(!this.finalized)for(let Ae=0;Ae<this.observers.length;Ae++)this.sendOne(Ae,le)}sendOne(le,Ae){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[le])try{Ae(this.observers[le])}catch(Je){"undefined"!=typeof console&&console.error&&console.error(Je)}})}close(le){this.finalized||(this.finalized=!0,void 0!==le&&(this.finalError=le),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lr(){}function Ur(ye,le=1e3,Ae=2){const Je=le*Math.pow(Ae,ye),te=Math.round(.5*Je*(Math.random()-.5)*2);return Math.min(144e5,Je+te)}function Ct(ye){return ye&&ye._delegate?ye._delegate:ye}function wn(ye,le){return new Promise((Ae,Je)=>{ye.onsuccess=te=>{Ae(te.target.result)},ye.onerror=te=>{var se;Je(`${le}: ${null===(se=te.target.error)||void 0===se?void 0:se.message}`)}})}class fn{constructor(le){this._db=le,this.objectStoreNames=this._db.objectStoreNames}transaction(le,Ae="readonly"){return new xt(this._db.transaction.call(this._db,le,Ae))}createObjectStore(le,Ae){return new Ze(this._db.createObjectStore(le,Ae))}close(){this._db.close()}}class xt{constructor(le){this._transaction=le,this.complete=new Promise((Ae,Je)=>{this._transaction.oncomplete=function(){Ae()},this._transaction.onerror=()=>{Je(this._transaction.error)},this._transaction.onabort=()=>{Je(this._transaction.error)}})}objectStore(le){return new Ze(this._transaction.objectStore(le))}}class Ze{constructor(le){this._store=le}index(le){return new Tt(this._store.index(le))}createIndex(le,Ae,Je){return new Tt(this._store.createIndex(le,Ae,Je))}get(le){return wn(this._store.get(le),"Error reading from IndexedDB")}put(le,Ae){return wn(this._store.put(le,Ae),"Error writing to IndexedDB")}delete(le){return wn(this._store.delete(le),"Error deleting from IndexedDB")}clear(){return wn(this._store.clear(),"Error clearing IndexedDB object store")}}class Tt{constructor(le){this._index=le}get(le){return wn(this._index.get(le),"Error reading from IndexedDB")}}function Gt(ye,le,Ae){return new Promise((Je,te)=>{try{const se=indexedDB.open(ye,le);se.onsuccess=ue=>{Je(new fn(ue.target.result))},se.onerror=ue=>{var ze;te(`Error opening indexedDB: ${null===(ze=ue.target.error)||void 0===ze?void 0:ze.message}`)},se.onupgradeneeded=ue=>{Ae(new fn(se.result),ue.oldVersion,ue.newVersion,new xt(se.transaction))}}catch(se){te(`Error opening indexedDB: ${se.message}`)}})}function dn(ye){return vn.apply(this,arguments)}function vn(){return(vn=(0,m.Z)(function*(ye){return new Promise((le,Ae)=>{try{const Je=indexedDB.deleteDatabase(ye);Je.onsuccess=()=>{le()},Je.onerror=te=>{var se;Ae(`Error deleting indexedDB database "${ye}": ${null===(se=te.target.error)||void 0===se?void 0:se.message}`)}}catch(Je){Ae(`Error deleting indexedDB database "${ye}": ${Je.message}`)}})})).apply(this,arguments)}},5421:(Rt,Ge,B)=>{B.d(Ge,{e:()=>ry});var m=B(573),E=B(2090),K=B(9681),fe=B(1877),ge=B(4859),ve=B(5e3),Te=B(4986),Se=B(8306),Me=B(8996),ce=B(9646),he=B(5813),Pe=B(8675),It=B(4482),rt=B(5403);function ot(){return(0,It.e)((i,e)=>{let t,o=!1;i.subscribe((0,rt.x)(e,u=>{const h=t;t=u,o&&e.next([h,u]),o=!0}))})}var dt=B(4004),We=B(2940),nt=B(4671);function Dt(i,e){return i===e}var pe,it=B(9300),Le=B(2011),Qe=B(9808),Ne=(B(5881),B(3942)),Ee=B(5861),Oe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$e={},qe=qe||{},Fe=Oe||self;function Ue(){}function Ht(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ut(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Pt="closure_uid_"+(1e9*Math.random()>>>0),Lt=0;function Ln(i,e,t){return i.call.apply(i.bind,arguments)}function yn(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function kn(i,e,t){return(kn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ln:yn).apply(null,arguments)}function Zt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Bt(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,h){for(var y=Array(arguments.length-2),S=2;S<arguments.length;S++)y[S-2]=arguments[S];return e.prototype[u].apply(o,y)}}function Yt(){this.s=this.s,this.o=this.o}var zn={};Yt.prototype.s=!1,Yt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Gn(i){return Object.prototype.hasOwnProperty.call(i,Pt)&&i[Pt]||(i[Pt]=++Lt)}(this);delete zn[i]}},Yt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Wn=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,u="string"==typeof i?i.split(""):i;for(let h=0;h<o;h++)h in u&&e.call(t,u[h],h,i)};function Er(i){return Array.prototype.concat.apply([],arguments)}function ar(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function _n(i){return/^[\s\xa0]*$/.test(i)}var In,wr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function At(i,e){return-1!=i.indexOf(e)}function br(i,e){return i<e?-1:i>e?1:0}e:{var nn=Fe.navigator;if(nn){var lr=nn.userAgent;if(lr){In=lr;break e}}In=""}function oi(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function tt(i){const e={};for(const t in i)e[t]=i[t];return e}var we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function De(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let h=0;h<we.length;h++)t=we[h],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function ct(i){return ct[" "](i),i}ct[" "]=Ue;var cn,i,ft=At(In,"Opera"),ht=At(In,"Trident")||At(In,"MSIE"),Vn=At(In,"Edge"),ln=Vn||ht,Xt=At(In,"Gecko")&&!(At(In.toLowerCase(),"webkit")&&!At(In,"Edge"))&&!(At(In,"Trident")||At(In,"MSIE"))&&!At(In,"Edge"),Ur=At(In.toLowerCase(),"webkit")&&!At(In,"Edge");function ir(){var i=Fe.document;return i?i.documentMode:void 0}e:{var Ct="",wn=(i=In,Xt?/rv:([^\);]+)(\)|;)/.exec(i):Vn?/Edge\/([\d\.]+)/.exec(i):ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ur?/WebKit\/(\S+)/.exec(i):ft?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(wn&&(Ct=wn?wn[1]:""),ht){var fn=ir();if(null!=fn&&fn>parseFloat(Ct)){cn=String(fn);break e}}cn=Ct}var xt={};var dn=Fe.document&&ht&&(ir()||parseInt(cn,10))||void 0,vn=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Fe.addEventListener("test",Ue,e),Fe.removeEventListener("test",Ue,e)}catch(t){}return i}();function ye(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function le(i,e){if(ye.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Xt){e:{try{ct(e.nodeName);var u=!0;break e}catch(h){}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Ae[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&le.Z.h.call(this)}}ye.prototype.h=function(){this.defaultPrevented=!0},Bt(le,ye);var Ae={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),te=0;function se(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=u,this.key=++te,this.ca=this.fa=!1}function ue(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function ze(i){this.src=i,this.g={},this.h=0}function Xe(i,e){var t=e.type;if(t in i.g){var h,o=i.g[t],u=Fn(o,e);(h=0<=u)&&Array.prototype.splice.call(o,u,1),h&&(ue(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function St(i,e,t,o){for(var u=0;u<i.length;++u){var h=i[u];if(!h.ca&&h.listener==e&&h.capture==!!t&&h.ia==o)return u}return-1}ze.prototype.add=function(i,e,t,o,u){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var y=St(i,e,o,u);return-1<y?(e=i[y],t||(e.fa=!1)):((e=new se(e,this.src,h,!!o,u)).fa=t,i.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),Nt={};function pn(i,e,t,o,u){if(o&&o.once)return jn(i,e,t,o,u);if(Array.isArray(e)){for(var h=0;h<e.length;h++)pn(i,e[h],t,o,u);return null}return t=bn(t),i&&i[Je]?i.N(e,t,Ut(o)?!!o.capture:!!o,u):cr(i,e,t,!1,o,u)}function cr(i,e,t,o,u,h){if(!e)throw Error("Invalid event type");var y=Ut(u)?!!u.capture:!!u,S=Dn(i);if(S||(i[on]=S=new ze(i)),(t=S.add(e,t,o,y,h)).proxy)return t;if(o=function Ir(){var e=cs;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)vn||(u=y),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(fr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function jn(i,e,t,o,u){if(Array.isArray(e)){for(var h=0;h<e.length;h++)jn(i,e[h],t,o,u);return null}return t=bn(t),i&&i[Je]?i.O(e,t,Ut(o)?!!o.capture:!!o,u):cr(i,e,t,!0,o,u)}function _r(i,e,t,o,u){if(Array.isArray(e))for(var h=0;h<e.length;h++)_r(i,e[h],t,o,u);else o=Ut(o)?!!o.capture:!!o,t=bn(t),i&&i[Je]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=St(h=i.g[e],t,o,u))&&(ue(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=Dn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=St(e,t,o,u)),(t=-1<i?e[i]:null)&&Pr(t))}function Pr(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Je])Xe(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(fr(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Dn(e))?(Xe(t,i),0==t.h&&(t.src=null,e[on]=null)):ue(i)}}}function fr(i){return i in Nt?Nt[i]:Nt[i]="on"+i}function cs(i,e){if(i.ca)i=!0;else{e=new le(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&Pr(i),i=t.call(o,e)}return i}function Dn(i){return(i=i[on])instanceof ze?i:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(i){return"function"==typeof i?i:(i[Mt]||(i[Mt]=function(e){return i.handleEvent(e)}),i[Mt])}function rn(){Yt.call(this),this.i=new ze(this),this.P=this,this.I=null}function Un(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new ye(e,i);else if(e instanceof ye)e.target=e.target||i;else{var u=e;De(e=new ye(o,i),u)}if(u=!0,t)for(var h=t.length-1;0<=h;h--){var y=e.g=t[h];u=vi(y,o,!0,e)&&u}if(u=vi(y=e.g=i,o,!0,e)&&u,u=vi(y,o,!1,e)&&u,t)for(h=0;h<t.length;h++)u=vi(y=e.g=t[h],o,!1,e)&&u}function vi(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,h=0;h<e.length;++h){var y=e[h];if(y&&!y.ca&&y.capture==t){var S=y.listener,$=y.ia||y.src;y.fa&&Xe(i.i,y),u=!1!==S.call($,o)&&u}}return u&&!o.defaultPrevented}Bt(rn,Yt),rn.prototype[Je]=!0,rn.prototype.removeEventListener=function(i,e,t,o){_r(this,i,e,t,o)},rn.prototype.M=function(){if(rn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)ue(t[o]);delete i.g[e],i.h--}}this.I=null},rn.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},rn.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var pr=Fe.JSON.stringify;function Gr(){var i=Dr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ar,gr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Mi,i=>i.reset());class Mi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Cn(i){Fe.setTimeout(()=>{throw i},0)}function xi(i,e){Ar||function Ys(){var i=Fe.Promise.resolve(void 0);Ar=function(){i.then(Br)}}(),ni||(Ar(),ni=!0),Dr.add(i,e)}var ni=!1,Dr=new class Hn{constructor(){this.h=this.g=null}add(e,t){const o=gr.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Br(){for(var i;i=Gr();){try{i.h.call(i.g)}catch(t){Cn(t)}var e=gr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ni=!1}function Cr(i,e){rn.call(this),this.h=i||1,this.g=e||Fe,this.j=kn(this.kb,this),this.l=Date.now()}function Nr(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Rn(i,e,t){if("function"==typeof i)t&&(i=kn(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=kn(i.handleEvent,i)}return 2147483647<Number(e)?-1:Fe.setTimeout(i,e||0)}function ds(i){i.g=Rn(()=>{i.g=null,i.i&&(i.i=!1,ds(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Bt(Cr,rn),(pe=Cr.prototype).da=!1,pe.S=null,pe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Un(this,"tick"),this.da&&(Nr(this),this.start()))}},pe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pe.M=function(){Cr.Z.M.call(this),Nr(this),delete this.g};class Oi extends Yt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ds(this)}M(){super.M(),this.g&&(Fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(i){Yt.call(this),this.h=i,this.g={}}Bt(dr,Yt);var Ri=[];function ts(i,e,t,o){Array.isArray(t)||(t&&(Ri[0]=t.toString()),t=Ri);for(var u=0;u<t.length;u++){var h=pn(e,t[u],o||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function Sn(i){oi(i.g,function(e,t){this.g.hasOwnProperty(t)&&Pr(e)},i),i.g={}}function Pi(){this.g=!0}function ji(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zr(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var y=1;y<u.length;y++)u[y]=""}}}return pr(t)}catch(S){return e}}(i,t)+(o?" "+o:"")})}dr.prototype.M=function(){dr.Z.M.call(this),Sn(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pi.prototype.Aa=function(){this.g=!1},Pi.prototype.info=function(){};var As={},qi=null;function xe(){return qi=qi||new rn}function Ce(i){ye.call(this,As.Ma,i)}function He(i){const e=xe();Un(e,new Ce(e,i))}function at(i,e){ye.call(this,As.STAT_EVENT,i),this.stat=e}function pt(i){const e=xe();Un(e,new at(e,i))}function zt(i,e){ye.call(this,As.Na,i),this.size=e}function er(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Fe.setTimeout(function(){i()},e)}As.Ma="serverreachability",Bt(Ce,ye),As.STAT_EVENT="statevent",Bt(at,ye),As.Na="timingevent",Bt(zt,ye);var Sr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qn={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Qr(){}function vs(){}Qr.prototype.h=null;var Hi,Ei={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Qs(){ye.call(this,"d")}function Ss(){ye.call(this,"c")}function Es(){}function Wr(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new dr(this),this.P=Js,this.W=new Cr(i=ln?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Fo}function Fo(){this.i=null,this.g="",this.h=!1}Bt(Qs,ye),Bt(Ss,ye),Bt(Es,Qr),Es.prototype.g=function(){return new XMLHttpRequest},Es.prototype.i=function(){return{}},Hi=new Es;var Js=45e3,Hs={},Xs={};function wi(i,e,t){i.K=1,i.v=tr(k(e)),i.s=t,i.U=!0,Ko(i,null)}function Ko(i,e){i.F=Date.now(),ws(i),i.A=k(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),N(t.h,"t",o),i.C=0,t=i.l.H,i.h=new Fo,i.g=ca(i.l,t?e:null,!i.s),0<i.O&&(i.L=new Oi(kn(i.Ia,i,i.g),i.O)),ts(i.V,i.g,"readystatechange",i.gb),e=i.H?tt(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),He(1),function Bi(i,e,t,o,u,h){i.info(function(){if(i.g)if(h)for(var y="",S=h.split("&"),$=0;$<S.length;$++){var Z=S[$].split("=");if(1<Z.length){var de=Z[0];Z=Z[1];var be=de.split("_");y=2<=be.length&&"type"==be[1]?y+(de+"=")+Z+"&":y+(de+"=redacted&")}}else y=null;else y=h;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+y})}(i.j,i.u,i.A,i.m,i.X,i.s)}function jr(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ns(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=Co(i,t),u==Xs){4==e&&(i.o=4,pt(14),o=!1),ji(i.j,i.m,null,"[Incomplete Response]");break}if(u==Hs){i.o=4,pt(15),ji(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}ji(i.j,i.m,u,null),Zi(i,u)}jr(i)&&u!=Xs&&u!=Hs&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,pt(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),So(e),e.L=!0,pt(11))):(ji(i.j,i.m,t,"[Invalid Chunked Response]"),Hr(i),Ki(i))}function Co(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Xs:(t=Number(e.substring(t,o)),isNaN(t)?Hs:(o+=1)+t>e.length?Xs:(e=e.substr(o,t),i.C=o+t,e))}function ws(i){i.Y=Date.now()+i.P,Mr(i,i.P)}function Mr(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=er(kn(i.eb,i),e)}function rs(i){i.B&&(Fe.clearTimeout(i.B),i.B=null)}function Ki(i){0==i.l.G||i.I||so(i.l,i)}function Hr(i){rs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Nr(i.W),Sn(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Zi(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||ui(t.i,i)))if(t.I=i.N,!i.J&&ui(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(Z){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(t.u)t.ta=u[1],0<t.ta-t.U&&37500>u[2]&&t.N&&0==t.A&&!t.v&&(t.v=er(kn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;zs(t),Ca(t)}di(t),pt(18)}if(1>=Jr(t.i)&&t.ka){try{t.ka()}catch(Z){}t.ka=void 0}}else hs(t,11)}else if((i.J||t.g==i)&&zs(t),!_n(e))for(u=t.Ca.g.parse(e),e=0;e<u.length;e++){let Z=u[e];if(t.U=Z[0],Z=Z[1],2==t.G)if("c"==Z[0]){t.J=Z[1],t.la=Z[2];const de=Z[3];null!=de&&(t.ma=de,t.h.info("VER="+t.ma));const be=Z[4];null!=be&&(t.za=be,t.h.info("SVER="+t.za));const et=Z[5];null!=et&&"number"==typeof et&&0<et&&(t.K=o=1.5*et,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const _t=i.g;if(_t){const wt=_t.g?_t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wt){var h=o.i;!h.g&&(At(wt,"spdy")||At(wt,"quic")||At(wt,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(bi(h,h.h),h.h=null))}if(o.D){const Kt=_t.g?_t.g.getResponseHeader("X-HTTP-Session-Id"):null;Kt&&(o.sa=Kt,gt(o.F,o.D,Kt))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var y=i;if((o=t).oa=qa(o,o.H?o.la:null,o.W),y.J){li(o.i,y);var S=y,$=o.K;$&&S.setTimeout($),S.B&&(rs(S),ws(S)),o.g=y}else Xr(o);0<t.l.length&&Xo(t)}else"stop"!=Z[0]&&"close"!=Z[0]||hs(t,7);else 3==t.G&&("stop"==Z[0]||"close"==Z[0]?"stop"==Z[0]?hs(t,7):Jo(t):"noop"!=Z[0]&&t.j&&t.j.wa(Z),t.A=0)}He(4)}catch(Z){}}function bs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ht(i)||"string"==typeof i)Wn(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Ht(i)||"string"==typeof i){t=[];for(var o=i.length,u=0;u<o;u++)t.push(u)}else for(u in t=[],o=0,i)t[o++]=u;o=function eo(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Ht(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length;for(var h=0;h<u;h++)e.call(void 0,o[h],t&&t[h],i)}}function kr(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof kr)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function Fr(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];is(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var u={};for(t=e=0;e<i.g.length;)is(u,o=i.g[e])||(i.g[t++]=o,u[o]=1),e++;i.g.length=t}}function is(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(pe=Wr.prototype).setTimeout=function(i){this.P=i},pe.gb=function(i){i=i.target;const e=this.L;e&&3==$i(i)?e.l():this.Ia(i)},pe.Ia=function(i){try{if(i==this.g)e:{const de=$i(this.g);var e=this.g.Da();const be=this.g.ba();if(!(3>de)&&(3!=de||ln||this.g&&(this.h.h||this.g.ga()||Qo(this.g)))){this.I||4!=de||7==e||He(8==e||0>=be?3:2),rs(this);var t=this.g.ba();this.N=t;t:if(jr(this)){var o=Qo(this.g);i="";var u=o.length,h=4==$i(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Hr(this),Ki(this);var y="";break t}this.h.i=new Fe.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:h&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.ga();if(this.i=200==t,function js(i,e,t,o,u,h,y){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+h+" "+y})}(this.j,this.u,this.A,this.m,this.X,de,t),this.i){if(this.$&&!this.J){t:{if(this.g){var S,$=this.g;if((S=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_n(S)){var Z=S;break t}}Z=null}if(!(t=Z)){this.i=!1,this.o=3,pt(12),Hr(this),Ki(this);break e}ji(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zi(this,t)}this.U?(ns(this,de,y),ln&&this.i&&3==de&&(ts(this.V,this.W,"tick",this.fb),this.W.start())):(ji(this.j,this.m,y,null),Zi(this,y)),4==de&&Hr(this),this.i&&!this.I&&(4==de?so(this.l,this):(this.i=!1,ws(this)))}else 400==t&&0<y.indexOf("Unknown SID")?(this.o=3,pt(12)):(this.o=0,pt(13)),Hr(this),Ki(this)}}}catch(de){}},pe.fb=function(){if(this.g){var i=$i(this.g),e=this.g.ga();this.C<e.length&&(rs(this),ns(this,i,e),this.i&&4!=i&&ws(this))}},pe.cancel=function(){this.I=!0,Hr(this)},pe.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function _s(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(He(3),pt(17)),Hr(this),this.o=2,Ki(this)):Mr(this,this.Y-i)},(pe=kr.prototype).R=function(){Fr(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},pe.T=function(){return Fr(this),this.g.concat()},pe.get=function(i,e){return is(this.h,i)?this.h[i]:e},pe.set=function(i,e){is(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},pe.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var u=t[o],h=this.get(u);i.call(e,h,u,this)}};var ur=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function z(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof z){this.g=void 0!==e?e:i.g,X(this,i.j),this.s=i.s,_e(this,i.i),Ke(this,i.m),this.l=i.l,e=i.h;var t=new Is;t.i=e.i,e.g&&(t.g=new kr(e.g),t.h=e.h),ut(this,t),this.o=i.o}else i&&(t=String(i).match(ur))?(this.g=!!e,X(this,t[1]||"",!0),this.s=Pn(t[2]||""),_e(this,t[3]||"",!0),Ke(this,t[4]),this.l=Pn(t[5]||"",!0),ut(this,t[6]||"",!0),this.o=Pn(t[7]||"")):(this.g=!!e,this.h=new Is(null,this.g))}function k(i){return new z(i)}function X(i,e,t){i.j=t?Pn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function _e(i,e,t){i.i=t?Pn(e,!0):e}function Ke(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ut(i,e,t){e instanceof Is?(i.h=e,function j(i,e){e&&!i.j&&(ri(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(To(this,o),N(this,u,t))},i)),i.j=e}(i.h,i.g)):(t||(e=mr(e,en)),i.h=new Is(e,i.g))}function gt(i,e,t){i.h.set(e,t)}function tr(i){return gt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Pn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function mr(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,nr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function nr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}z.prototype.toString=function(){var i=[],e=this.j;e&&i.push(mr(e,vr,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(mr(e,vr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(mr(t,"/"==t.charAt(0)?ai:Ni,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",mr(t,ss)),i.join("")};var vr=/[#\/\?@]/g,Ni=/[#\?:]/g,ai=/[#\?]/g,en=/[#\?@]/g,ss=/#/g;function Is(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ri(i){i.g||(i.g=new kr,i.h=0,i.i&&function F(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var h=i[t].substring(0,o);u=i[t].substring(o+1)}else h=i[t];e(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function To(i,e){ri(i),e=O(i,e),is(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,is((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Fr(i)))}function V(i,e){return ri(i),e=O(i,e),is(i.g.h,e)}function N(i,e,t){To(i,e),0<t.length&&(i.i=null,i.g.set(O(i,e),ar(t)),i.h+=t.length)}function O(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Vt(i){this.l=i||hn,i=Fe.PerformanceNavigationTiming?0<(i=Fe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Fe.g&&Fe.g.Ea&&Fe.g.Ea()&&Fe.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pe=Is.prototype).add=function(i,e){ri(this),this.i=null,i=O(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},pe.forEach=function(i,e){ri(this),this.g.forEach(function(t,o){Wn(t,function(u){i.call(e,u,o,this)},this)},this)},pe.T=function(){ri(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var u=i[o],h=0;h<u.length;h++)t.push(e[o]);return t},pe.R=function(i){ri(this);var e=[];if("string"==typeof i)V(this,i)&&(e=Er(e,this.g.get(O(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=Er(e,i[t])}return e},pe.set=function(i,e){return ri(this),this.i=null,V(this,i=O(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},pe.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],u=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var y=u;""!==o[h]&&(y+="="+encodeURIComponent(String(o[h]))),i.push(y)}}return this.i=i.join("&")};var hn=10;function Lr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Jr(i){return i.h?1:i.g?i.g.size:0}function ui(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function bi(i,e){i.g?i.g.add(e):i.h=e}function li(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Lo(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return ar(i.i)}function wa(){}function Ao(){this.g=new wa}function Vo(i,e,t){const o=t||"";try{bs(i,function(u,h){let y=u;Ut(u)&&(y=pr(u)),e.push(o+h+"="+encodeURIComponent(y))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Yi(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(h){}}function to(i){this.l=i.$b||null,this.j=i.ib||!1}function $s(i,e){rn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=os,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vt.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},wa.prototype.stringify=function(i){return Fe.JSON.stringify(i,void 0)},wa.prototype.parse=function(i){return Fe.JSON.parse(i,void 0)},Bt(to,Qr),to.prototype.g=function(){return new $s(this.l,this.j)},to.prototype.i=function(i){return function(){return i}}({}),Bt($s,rn);var os=0;function za(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function no(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ki(i)}function ki(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(pe=$s.prototype).open=function(i,e){if(this.readyState!=os)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ki(this)},pe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Fe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,no(this)),this.readyState=os},pe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Fe.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;za(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},pe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?no(this):ki(this),3==this.readyState&&za(this)}},pe.Ua=function(i){this.g&&(this.response=this.responseText=i,no(this))},pe.Ta=function(i){this.g&&(this.response=i,no(this))},pe.ha=function(){this.g&&no(this)},pe.setRequestHeader=function(i,e){this.v.append(i,e)},pe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},pe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty($s.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Zo=Fe.JSON.parse;function Vr(i){rn.call(this),this.headers=new kr,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gs,this.K=this.L=!1}Bt(Vr,rn);var Gs="",Wa=/^https?$/i,pu=["POST","PUT"];function aa(i){return"content-type"==i.toLowerCase()}function Yo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Ms(i),ua(i)}function Ms(i){i.D||(i.D=!0,Un(i,"complete"),Un(i,"error"))}function ba(i){if(i.h&&void 0!==qe&&(!i.C[1]||4!=$i(i)||2!=i.ba()))if(i.v&&4==$i(i))Rn(i.Fa,0,i);else if(Un(i,"readystatechange"),4==$i(i)){i.h=!1;try{const S=i.ba();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===S){var u=String(i.H).match(ur)[1]||null;if(!u&&Fe.self&&Fe.self.location){var h=Fe.self.location.protocol;u=h.substr(0,h.length-1)}o=!Wa.test(u?u.toLowerCase():"")}t=o}if(t)Un(i,"complete"),Un(i,"success");else{i.m=6;try{var y=2<$i(i)?i.g.statusText:""}catch($){y=""}i.j=y+" ["+i.ba()+"]",Ms(i)}}finally{ua(i)}}}function ua(i,e){if(i.g){Ia(i);const t=i.g,o=i.C[0]?Ue:null;i.g=null,i.C=null,e||Un(i,"ready");try{t.onreadystatechange=o}catch(u){}}}function Ia(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Fe.clearTimeout(i.A),i.A=null)}function $i(i){return i.g?i.g.readyState:0}function Qo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Gs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ii(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function Da(i){let e="";return oi(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):gt(i,e,t))}function ro(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function qr(i){this.za=0,this.l=[],this.h=new Pi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ro("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ro("baseRetryDelayMs",5e3,i),this.$a=ro("retryDelaySeedMs",1e4,i),this.Ya=ro("forwardChannelMaxRetries",2,i),this.ra=ro("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Vt(i&&i.concurrentRequestLimit),this.Ca=new Ao,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Jo(i){if(gu(i),3==i.G){var e=i.V++,t=k(i.F);gt(t,"SID",i.J),gt(t,"RID",e),gt(t,"TYPE","terminate"),ho(i,t),(e=new Wr(i,i.h,e,void 0)).K=2,e.v=tr(k(t)),t=!1,Fe.navigator&&Fe.navigator.sendBeacon&&(t=Fe.navigator.sendBeacon(e.v.toString(),"")),!t&&Fe.Image&&((new Image).src=e.v,t=!0),t||(e.g=ca(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ws(e)}ea(i)}function Ca(i){i.g&&(So(i),i.g.cancel(),i.g=null)}function gu(i){Ca(i),i.u&&(Fe.clearTimeout(i.u),i.u=null),zs(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Fe.clearTimeout(i.m),i.m=null)}function la(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Xo(i)}function Xo(i){Lr(i.i)||i.m||(i.m=!0,xi(i.Ha,i),i.C=0)}function io(i,e){var t;t=e?e.m:i.V++;const o=k(i.F);gt(o,"SID",i.J),gt(o,"RID",t),gt(o,"AID",i.U),ho(i,o),i.o&&i.s&&Ii(o,i.o,i.s),t=new Wr(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=xs(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),bi(i.i,t),wi(t,o,e)}function ho(i,e){i.j&&bs({},function(t,o){gt(e,o,t)})}function xs(i,e,t){t=Math.min(i.l.length,t);var o=i.j?kn(i.j.Oa,i.j,i):null;e:{var u=i.l;let h=-1;for(;;){const y=["count="+t];-1==h?0<t?(h=u[0].h,y.push("ofs="+h)):h=0:y.push("ofs="+h);let S=!0;for(let $=0;$<t;$++){let Z=u[$].h;const de=u[$].g;if(Z-=h,0>Z)h=Math.max(0,u[$].h-100),S=!1;else try{Vo(de,y,"req"+Z+"_")}catch(be){o&&o(de)}}if(S){o=y.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function Xr(i){i.g||i.u||(i.Y=1,xi(i.Ga,i),i.A=0)}function di(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=er(kn(i.Ga,i),Mo(i,i.A)),i.A++,0))}function So(i){null!=i.B&&(Fe.clearTimeout(i.B),i.B=null)}function Os(i){i.g=new Wr(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=k(i.oa);gt(e,"RID","rpc"),gt(e,"SID",i.J),gt(e,"CI",i.N?"0":"1"),gt(e,"AID",i.U),ho(i,e),gt(e,"TYPE","xmlhttp"),i.o&&i.s&&Ii(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=tr(k(e)),t.s=null,t.U=!0,Ko(t,i)}function zs(i){null!=i.v&&(Fe.clearTimeout(i.v),i.v=null)}function so(i,e){var t=null;if(i.g==e){zs(i),So(i),i.g=null;var o=2}else{if(!ui(i.i,e))return;t=e.D,li(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Un(o=xe(),new zt(o,t,e,u)),Xo(i)}else Xr(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Uo(i,e){return!(Jr(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=er(kn(i.Ha,i,e),Mo(i,i.C)),i.C++,0)))}(i,e)||2==o&&di(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:hs(i,5);break;case 4:hs(i,10);break;case 3:hs(i,6);break;default:hs(i,2)}}function Mo(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function hs(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=kn(i.jb,i);t||(t=new z("//www.google.com/images/cleardot.gif"),Fe.location&&"http"==Fe.location.protocol||X(t,"https"),tr(t)),function ci(i,e){const t=new Pi;if(Fe.Image){const o=new Image;o.onload=Zt(Yi,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Zt(Yi,t,o,"TestLoadImage: error",!1,e),o.onabort=Zt(Yi,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Zt(Yi,t,o,"TestLoadImage: timeout",!1,e),Fe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else pt(2);i.G=0,i.j&&i.j.va(e),ea(i),gu(i)}function ea(i){i.G=0,i.I=-1,i.j&&((0!=Lo(i.i).length||0!=i.l.length)&&(i.i.i.length=0,ar(i.l),i.l.length=0),i.j.ua())}function qa(i,e,t){let o=function Kn(i){return i instanceof z?k(i):new z(i,void 0)}(t);if(""!=o.i)e&&_e(o,e+"."+o.i),Ke(o,o.m);else{const u=Fe.location;o=function On(i,e,t,o){var u=new z(null,void 0);return i&&X(u,i),e&&_e(u,e),t&&Ke(u,t),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,t)}return i.aa&&oi(i.aa,function(u,h){gt(o,h,u)}),t=i.sa,(e=i.D)&&t&&gt(o,e,t),gt(o,"VER",i.ma),ho(i,o),o}function ca(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vr(t&&i.Ba&&!i.qa?new to({ib:!0}):i.qa)).L=i.H,e}function da(){}function Fi(){if(ht&&!(10<=Number(dn)))throw Error("Environmental error: no available transport.")}function hi(i,e){rn.call(this),this.g=new qr(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!_n(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_n(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new fs(this)}function Ka(i){Qs.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function oo(){Ss.call(this),this.status=1}function fs(i){this.g=i}(pe=Vr.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hi.g(),this.C=function Do(i){return i.h||(i.h=i.i())}(this.u?this.u:Hi),this.g.onreadystatechange=kn(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void Yo(this,h)}i=t||"";const u=new kr(this.headers);o&&bs(o,function(h,y){u.set(y,h)}),o=function or(i){e:{var e=aa;const t=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<t;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),t=Fe.FormData&&i instanceof Fe.FormData,!(0<=Fn(pu,e))||o||t||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(h,y){this.g.setRequestHeader(y,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ia(this),0<this.B&&((this.K=function oa(i){return ht&&function Ze(){return function ke(i){var e=xt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=wr(String(cn)).split("."),t=wr("9").split("."),o=Math.max(e.length,t.length);for(let y=0;0==i&&y<o;y++){var u=e[y]||"",h=t[y]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==u[0].length&&0==h[0].length)break;i=br(0==u[1].length?0:parseInt(u[1],10),0==h[1].length?0:parseInt(h[1],10))||br(0==u[2].length,0==h[2].length)||br(u[2],h[2]),u=u[3],h=h[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kn(this.pa,this)):this.A=Rn(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){Yo(this,h)}},pe.pa=function(){void 0!==qe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Un(this,"timeout"),this.abort(8))},pe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Un(this,"complete"),Un(this,"abort"),ua(this))},pe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ua(this,!0)),Vr.Z.M.call(this)},pe.Fa=function(){this.s||(this.F||this.v||this.l?ba(this):this.cb())},pe.cb=function(){ba(this)},pe.ba=function(){try{return 2<$i(this)?this.g.status:-1}catch(i){return-1}},pe.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},pe.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Zo(e)}},pe.Da=function(){return this.m},pe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(pe=qr.prototype).ma=8,pe.G=1,pe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},pe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new Wr(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=tt(h),De(h,this.P)):h=this.P),null===this.o&&(u.H=h),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xs(this,u,e),gt(t=k(this.F),"RID",i),gt(t,"CVER",22),this.D&&gt(t,"X-HTTP-Session-Id",this.D),ho(this,t),this.o&&h&&Ii(t,this.o,h),bi(this.i,u),this.Ra&&gt(t,"TYPE","init"),this.ja?(gt(t,"$req",e),gt(t,"SID","null"),u.$=!0,wi(u,t,null)):wi(u,t,e),this.G=2}}else 3==this.G&&(i?io(this,i):0==this.l.length||Lr(this.i)||io(this))},pe.Ga=function(){if(this.u=null,Os(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=er(kn(this.bb,this),i)}},pe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,pt(10),Ca(this),Os(this))},pe.ab=function(){null!=this.v&&(this.v=null,Ca(this),di(this),pt(19))},pe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),pt(2)):(this.h.info("Failed to ping google.com"),pt(1))},(pe=da.prototype).xa=function(){},pe.wa=function(){},pe.va=function(){},pe.ua=function(){},pe.Oa=function(){},Fi.prototype.g=function(i,e){return new hi(i,e)},Bt(hi,rn),hi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),xi(kn(i.hb,i,e))),pt(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=qa(i,null,i.W),Xo(i)},hi.prototype.close=function(){Jo(this.g)},hi.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,la(this.g,e)}else this.v?((e={}).__data__=pr(i),la(this.g,e)):la(this.g,i)},hi.prototype.M=function(){this.g.j=null,delete this.j,Jo(this.g),delete this.g,hi.Z.M.call(this)},Bt(Ka,Qs),Bt(oo,Ss),Bt(fs,da),fs.prototype.xa=function(){Un(this.g,"a")},fs.prototype.wa=function(i){Un(this.g,new Ka(i))},fs.prototype.va=function(i){Un(this.g,new oo(i))},fs.prototype.ua=function(){Un(this.g,"b")},Fi.prototype.createWebChannel=Fi.prototype.g,hi.prototype.send=hi.prototype.u,hi.prototype.open=hi.prototype.m,hi.prototype.close=hi.prototype.close,Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,qn.COMPLETE="complete",vs.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",rn.prototype.listen=rn.prototype.N,Vr.prototype.listenOnce=Vr.prototype.O,Vr.prototype.getLastError=Vr.prototype.La,Vr.prototype.getLastErrorCode=Vr.prototype.Da,Vr.prototype.getStatus=Vr.prototype.ba,Vr.prototype.getResponseJson=Vr.prototype.Qa,Vr.prototype.getResponseText=Vr.prototype.ga,Vr.prototype.send=Vr.prototype.ea;var Ta=$e.createWebChannelTransport=function(){return new Fi},Di=$e.getStatEventTarget=function(){return xe()},ao=$e.ErrorCode=Sr,Za=$e.EventType=qn,xo=$e.Event=As,Oo=$e.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},fo=$e.FetchXmlHttpFactory=to,Aa=$e.WebChannel=vs,Ya=$e.XhrIo=Vr;const Qa="@firebase/firestore";class ei{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ei.UNAUTHENTICATED=new ei(null),ei.GOOGLE_CREDENTIALS=new ei("google-credentials-uid"),ei.FIRST_PARTY=new ei("first-party-uid"),ei.MOCK_USER=new ei("mock-user");let po="9.6.11";const Qi=new fe.Yd("@firebase/firestore");function Rs(){return Qi.logLevel}function yt(i,...e){if(Qi.logLevel<=fe.in.DEBUG){const t=e.map(w);Qi.debug(`Firestore (${po}): ${i}`,...t)}}function T(i,...e){if(Qi.logLevel<=fe.in.ERROR){const t=e.map(w);Qi.error(`Firestore (${po}): ${i}`,...t)}}function D(i,...e){if(Qi.logLevel<=fe.in.WARN){const t=e.map(w);Qi.warn(`Firestore (${po}): ${i}`,...t)}}function w(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function M(i="Unexpected state"){const e=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+i;throw T(e),new Error(e)}function L(i,e){i||M()}function ee(i,e){return i}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends E.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $n{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ei.UNAUTHENTICATED))}shutdown(){}}class sr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Jn{constructor(e){this.t=e,this.currentUser=ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const h=Z=>this.i!==u?(u=this.i,t(Z)):Promise.resolve();let y=new bt;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new bt,e.enqueueRetryable(()=>h(this.currentUser))};const S=()=>{const Z=y;e.enqueueRetryable((0,Ee.Z)(function*(){yield Z.promise,yield h(o.currentUser)}))},$=Z=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Z,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(Z=>$(Z)),setTimeout(()=>{if(!this.auth){const Z=this.t.getImmediate({optional:!0});Z?$(Z):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new bt)}},0),S()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(L("string"==typeof o.accessToken),new $n(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e),new ei(e)}}class Ps{constructor(e,t,o){this.type="FirstParty",this.user=ei.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class ps{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Ps(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ta{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class go{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=h=>{null!=h.error&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const y=h.token!==this.p;return this.p=h.token,yt("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const u=h=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.g.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.g.getImmediate({optional:!0});h?u(h):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(L("string"==typeof t.token),this.p=t.token,new ta(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class fi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Yu(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}fi.A=-1;class Xa{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Yu(40);for(let h=0;h<u.length;++h)o.length<20&&u[h]<t&&(o+=e.charAt(u[h]%e.length))}return o}}function Mn(i,e){return i<e?-1:i>e?1:0}function pi(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function Sa(i){return i+"\0"}class Zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Zn(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mn(this.nanoseconds,e.nanoseconds):Mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xn(e)}static min(){return new xn(new Zn(0,0))}static max(){return new xn(new Zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Cl(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Bo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Pu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class jo{constructor(e,t,o){void 0===t?t=0:t>e.length&&M(),void 0===o?o=e.length-t:o>e.length-t&&M(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===jo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jo?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const h=e.get(u),y=t.get(u);if(h<y)return-1;if(h>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hr extends jo{construct(e,t,o){return new hr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new hr(t)}static emptyPath(){return new hr([])}}const Nu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends jo{construct(e,t,o){return new ti(e,t,o)}static isValidIdentifier(e){return Nu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ti(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const h=()=>{if(0===o.length)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let y=!1;for(;u<e.length;){const S=e[u];if("\\"===S){if(u+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[u+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=$,u+=2}else"`"===S?(y=!y,u++):"."!==S||y?(o+=S,u++):(h(),u++)}if(h(),y)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(t)}static emptyPath(){return new ti([])}}class ha{constructor(e){this.fields=e,e.sort(ti.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pi(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class ii{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ii(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new ii(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const mu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ho(i){if(L(!!i),"string"==typeof i){let e=0;const t=mu.exec(i);if(L(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Kr(i.seconds),nanos:Kr(i.nanos)}}function Kr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ci(i){return"string"==typeof i?ii.fromBase64String(i):ii.fromUint8Array(i)}function Ds(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ma(i){const e=i.mapValue.fields.__previous_value__;return Ds(e)?Ma(e):e}function Ro(i){const e=Ho(i.mapValue.fields.__local_write_time__.timestampValue);return new Zn(e.seconds,e.nanos)}class Ns{constructor(e,t,o,u,h,y,S,$){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=h,this.forceLongPolling=y,this.autoDetectLongPolling=S,this.useFetchStreams=$}}class ks{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ks("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ks&&e.projectId===this.projectId&&e.database===this.database}}function $o(i){return null==i}function fa(i){return 0===i&&1/i==-1/0}function ku(i){return"number"==typeof i&&Number.isInteger(i)&&!fa(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class kt{constructor(e){this.path=e}static fromPath(e){return new kt(hr.fromString(e))}static fromName(e){return new kt(hr.fromString(e).popFirst(5))}static empty(){return new kt(hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new hr(e.slice()))}}const Fu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Fs={nullValue:"NULL_VALUE"};function Go(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ds(i)?4:_u(i)?9:10:M()}function Ji(i,e){if(i===e)return!0;const t=Go(i);if(t!==Go(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ro(i).isEqual(Ro(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ho(o.timestampValue),y=Ho(u.timestampValue);return h.seconds===y.seconds&&h.nanos===y.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Ci(i.bytesValue).isEqual(Ci(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Kr(o.geoPointValue.latitude)===Kr(u.geoPointValue.latitude)&&Kr(o.geoPointValue.longitude)===Kr(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Kr(o.integerValue)===Kr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Kr(o.doubleValue),y=Kr(u.doubleValue);return h===y?fa(h)===fa(y):isNaN(h)&&isNaN(y)}return!1}(i,e);case 9:return pi(i.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:return function(o,u){const h=o.mapValue.fields||{},y=u.mapValue.fields||{};if(Cl(h)!==Cl(y))return!1;for(const S in h)if(h.hasOwnProperty(S)&&(void 0===y[S]||!Ji(h[S],y[S])))return!1;return!0}(i,e);default:return M()}var u}function yu(i,e){return void 0!==(i.values||[]).find(t=>Ji(t,e))}function gs(i,e){if(i===e)return 0;const t=Go(i),o=Go(e);if(t!==o)return Mn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Mn(i.booleanValue,e.booleanValue);case 2:return function(u,h){const y=Kr(u.integerValue||u.doubleValue),S=Kr(h.integerValue||h.doubleValue);return y<S?-1:y>S?1:y===S?0:isNaN(y)?isNaN(S)?0:-1:1}(i,e);case 3:return Qu(i.timestampValue,e.timestampValue);case 4:return Qu(Ro(i),Ro(e));case 5:return Mn(i.stringValue,e.stringValue);case 6:return function(u,h){const y=Ci(u),S=Ci(h);return y.compareTo(S)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const y=u.split("/"),S=h.split("/");for(let $=0;$<y.length&&$<S.length;$++){const Z=Mn(y[$],S[$]);if(0!==Z)return Z}return Mn(y.length,S.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const y=Mn(Kr(u.latitude),Kr(h.latitude));return 0!==y?y:Mn(Kr(u.longitude),Kr(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,h){const y=u.values||[],S=h.values||[];for(let $=0;$<y.length&&$<S.length;++$){const Z=gs(y[$],S[$]);if(Z)return Z}return Mn(y.length,S.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,h){const y=u.fields||{},S=Object.keys(y),$=h.fields||{},Z=Object.keys($);S.sort(),Z.sort();for(let de=0;de<S.length&&de<Z.length;++de){const be=Mn(S[de],Z[de]);if(0!==be)return be;const et=gs(y[S[de]],$[Z[de]]);if(0!==et)return et}return Mn(S.length,Z.length)}(i.mapValue,e.mapValue);default:throw M()}}function Qu(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Mn(i,e);const t=Ho(i),o=Ho(e),u=Mn(t.seconds,o.seconds);return 0!==u?u:Mn(t.nanos,o.nanos)}function na(i){return eu(i)}function eu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Ho(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ci(i.bytesValue).toBase64():"referenceValue"in i?kt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",h=!0;for(const y of o.values||[])h?h=!1:u+=",",u+=eu(y);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let h="{",y=!0;for(const S of u)y?y=!1:h+=",",h+=`${S}:${eu(o.fields[S])}`;return h+"}"}(i.mapValue):M();var e}function Ls(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function tu(i){return!!i&&"integerValue"in i}function uo(i){return!!i&&"arrayValue"in i}function Lu(i){return!!i&&"nullValue"in i}function xa(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Oa(i){return!!i&&"mapValue"in i}function mo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Bo(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=mo(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mo(i.arrayValue.values[t]);return e}return Object.assign({},i)}function _u(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function vu(i){return"nullValue"in i?Fs:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Ls(ks.empty(),kt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:M()}function R(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Ls(ks.empty(),kt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Fu:M()}function U(i,e){return void 0===i?e:void 0===e||gs(i,e)>0?i:e}function Y(i,e){return void 0===i?e:void 0===e||gs(i,e)<0?i:e}class ae{constructor(e){this.value=e}static empty(){return new ae({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Oa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mo(t)}setAll(e){let t=ti.emptyPath(),o={},u=[];e.forEach((y,S)=>{if(!t.isImmediateParentOf(S)){const $=this.getFieldsMap(t);this.applyChanges($,o,u),o={},u=[],t=S.popLast()}y?o[S.lastSegment()]=mo(y):u.push(S.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,o,u)}delete(e){const t=this.field(e.popLast());Oa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Oa(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){Bo(t,(u,h)=>e[u]=h);for(const u of o)delete e[u]}clone(){return new ae(mo(this.value))}}function v(i){const e=[];return Bo(i.fields,(t,o)=>{const u=new ti([t]);if(Oa(o)){const h=v(o.mapValue).fields;if(0===h.length)e.push(u);else for(const y of h)e.push(u.child(y))}else e.push(u)}),new ha(e)}class c{constructor(e,t,o,u,h,y){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=h,this.documentState=y}static newInvalidDocument(e){return new c(e,0,xn.min(),xn.min(),ae.empty(),0)}static newFoundDocument(e,t,o){return new c(e,1,t,xn.min(),o,0)}static newNoDocument(e,t){return new c(e,2,t,xn.min(),ae.empty(),0)}static newUnknownDocument(e,t){return new c(e,3,t,xn.min(),ae.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ae.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ae.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof c&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new c(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class d{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function b(i){return i.fields.find(e=>2===e.kind)}function P(i){return i.fields.filter(e=>2!==e.kind)}d.UNKNOWN_ID=-1;class G{constructor(e,t){this.fieldPath=e,this.kind=t}}class ne{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ne(0,Ye.min())}}function re(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=xn.fromTimestamp(1e9===o?new Zn(t+1,0):new Zn(t,o));return new Ye(u,kt.empty(),e)}function Re(i){return new Ye(i.readTime,i.key,-1)}class Ye{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Ye(xn.min(),kt.empty(),-1)}static max(){return new Ye(xn.max(),kt.empty(),-1)}}function jt(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=kt.comparator(i.documentKey,e.documentKey),0!==t?t:Mn(i.largestBatchId,e.largestBatchId))}class Qt{constructor(e,t=null,o=[],u=[],h=null,y=null,S=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=h,this.startAt=y,this.endAt=S,this.P=null}}function Tn(i,e=null,t=[],o=[],u=null,h=null,y=null){return new Qt(i,e,t,o,u,h,y)}function En(i){const e=ee(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+na(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),$o(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>na(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>na(o)).join(",")),e.P=t}return e.P}function An(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Gl(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!Ji(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!mn(i.startAt,e.startAt)&&mn(i.endAt,e.endAt)}function xr(i){return kt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function gi(i,e){return i.filters.filter(t=>t instanceof yr&&t.field.isEqual(e))}function Ti(i,e,t){let o,u=!0;for(const h of gi(i,e)){let y,S=!0;switch(h.op){case"<":case"<=":y=vu(h.value);break;case"==":case"in":case">=":y=h.value;break;case">":y=h.value,S=!1;break;case"!=":case"not-in":y=Fs}U(o,y)===y&&(o=y,u=S)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const y=t.position[h];U(o,y)===y&&(o=y,u=t.inclusive);break}return{value:o,inclusive:u}}function us(i,e,t){let o,u=!0;for(const h of gi(i,e)){let y,S=!0;switch(h.op){case">=":case">":y=R(h.value),S=!1;break;case"==":case"in":case"<=":y=h.value;break;case"<":y=h.value,S=!1;break;case"!=":case"not-in":y=Fu}Y(o,y)===y&&(o=y,u=S)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const y=t.position[h];Y(o,y)===y&&(o=y,u=t.inclusive);break}return{value:o,inclusive:u}}class yr extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new Eu(e,t,o):"array-contains"===t?new ra(e,o):"in"===t?new Ra(e,o):"not-in"===t?new wu(e,o):"array-contains-any"===t?new Vu(e,o):new yr(e,t,o)}static V(e,t,o){return"in"===t?new Po(e,o):new Xi(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(gs(t,this.value)):null!==t&&Go(this.value)===Go(t)&&this.v(gs(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return M()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Eu extends yr{constructor(e,t,o){super(e,t,o),this.key=kt.fromName(o.referenceValue)}matches(e){const t=kt.comparator(e.key,this.key);return this.v(t)}}class Po extends yr{constructor(e,t){super(e,"in",t),this.keys=lo(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Xi extends yr{constructor(e,t){super(e,"not-in",t),this.keys=lo(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lo(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>kt.fromName(o.referenceValue))}class ra extends yr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uo(t)&&yu(t.arrayValue,this.value)}}class Ra extends yr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yu(this.value.arrayValue,t)}}class wu extends yr{constructor(e,t){super(e,"not-in",t)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yu(this.value.arrayValue,t)}}class Vu extends yr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>yu(this.value.arrayValue,o))}}class yo{constructor(e,t){this.position=e,this.inclusive=t}}class nu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gl(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Jt(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const h=e[u],y=i.position[u];if(o=h.field.isKeyField()?kt.comparator(kt.fromName(y.referenceValue),t.key):gs(y,t.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function mn(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ji(i.position[t],e.position[t]))return!1;return!0}class gn{constructor(e,t=null,o=[],u=[],h=null,y="F",S=null,$=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=h,this.limitType=y,this.startAt=S,this.endAt=$,this.D=null,this.C=null}}function rr(i,e,t,o,u,h,y,S){return new gn(i,e,t,o,u,h,y,S)}function si(i){return new gn(i)}function _o(i){return!$o(i.limit)&&"F"===i.limitType}function Ws(i){return!$o(i.limit)&&"L"===i.limitType}function vo(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Zr(i){for(const e of i.filters)if(e.S())return e.field;return null}function Uu(i){return null!==i.collectionGroup}function Pa(i){const e=ee(i);if(null===e.D){e.D=[];const t=Zr(e),o=vo(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new nu(t)),e.D.push(new nu(ti.keyField(),"asc"));else{let u=!1;for(const h of e.explicitOrderBy)e.D.push(h),h.field.isKeyField()&&(u=!0);if(!u){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new nu(ti.keyField(),h))}}}return e.D}function Yr(i){const e=ee(i);if(!e.C)if("F"===e.limitType)e.C=Tn(e.path,e.collectionGroup,Pa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of Pa(e))t.push(new nu(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new yo(e.endAt.position,!e.endAt.inclusive):null,u=e.startAt?new yo(e.startAt.position,!e.startAt.inclusive):null;e.C=Tn(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.C}function pa(i,e,t){return new gn(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function No(i,e){return An(Yr(i),Yr(e))&&i.limitType===e.limitType}function Na(i){return`${En(Yr(i))}|lt:${i.limitType}`}function ru(i){return`Query(target=${function an(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${na(o.value)}`;var o}).join(", ")}]`),$o(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>na(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>na(t)).join(",")),`Target(${e})`}(Yr(i))}; limitType=${i.limitType})`}function Ac(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):kt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,h,y){const S=Jt(u,h,y);return u.inclusive?S<=0:S<0}(t.startAt,Pa(t),o)||t.endAt&&!function(u,h,y){const S=Jt(u,h,y);return u.inclusive?S>=0:S>0}(t.endAt,Pa(t),o)));var t,o}function zl(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function iu(i){return(e,t)=>{let o=!1;for(const u of Pa(i)){const h=Ju(u,e,t);if(0!==h)return h;o=o||u.field.isKeyField()}return 0}}function Ju(i,e,t){const o=i.field.isKeyField()?kt.comparator(e.key,t.key):function(u,h,y){const S=h.data.field(u),$=y.data.field(u);return null!==S&&null!==$?gs(S,$):M()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return M()}}function Ld(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fa(e)?"-0":e}}function Sc(i){return{integerValue:""+i}}function Gh(i,e){return ku(e)?Sc(e):Ld(i,e)}class Wl{constructor(){this._=void 0}}function zh(i,e,t){return i instanceof Xu?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):i instanceof el?I(i,e):i instanceof p?g(i,e):function(o,u){const h=Mc(o,u),y=W(h)+W(o.k);return tu(h)&&tu(o.k)?Sc(y):Ld(o.M,y)}(i,e)}function Rp(i,e,t){return i instanceof el?I(i,e):i instanceof p?g(i,e):t}function Mc(i,e){return i instanceof A?tu(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Xu extends Wl{}class el extends Wl{constructor(e){super(),this.elements=e}}function I(i,e){const t=ie(e);for(const o of i.elements)t.some(u=>Ji(u,o))||t.push(o);return{arrayValue:{values:t}}}class p extends Wl{constructor(e){super(),this.elements=e}}function g(i,e){let t=ie(e);for(const o of i.elements)t=t.filter(u=>!Ji(u,o));return{arrayValue:{values:t}}}class A extends Wl{constructor(e,t){super(),this.M=e,this.k=t}}function W(i){return Kr(i.integerValue||i.doubleValue)}function ie(i){return uo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Be{constructor(e,t){this.field=e,this.transform=t}}class sn{constructor(e,t){this.version=e,this.transformResults=t}}class qt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qt}static exists(e){return new qt(void 0,e)}static updateTime(e){return new qt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yn(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class mi{}function su(i,e,t){i instanceof Al?function(o,u,h){const y=o.value.clone(),S=xc(o.fieldTransforms,u,h.transformResults);y.setAll(S),u.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(i,e,t):i instanceof Bu?function(o,u,h){if(!Yn(o.precondition,u))return void u.convertToUnknownDocument(h.version);const y=xc(o.fieldTransforms,u,h.transformResults),S=u.data;S.setAll(Sl(o)),S.setAll(y),u.convertToFoundDocument(h.version,S).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ou(i,e,t){var u;i instanceof Al?function(o,u,h){if(!Yn(o.precondition,u))return;const y=o.value.clone(),S=Oc(o.fieldTransforms,h,u);y.setAll(S),u.convertToFoundDocument(nl(u),y).setHasLocalMutations()}(i,e,t):i instanceof Bu?function(o,u,h){if(!Yn(o.precondition,u))return;const y=Oc(o.fieldTransforms,h,u),S=u.data;S.setAll(Sl(o)),S.setAll(y),u.convertToFoundDocument(nl(u),S).setHasLocalMutations()}(i,e,t):Yn(i.precondition,u=e)&&u.convertToNoDocument(xn.min())}function tl(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),h=Mc(o.transform,u||null);null!=h&&(null==t&&(t=ae.empty()),t.set(o.field,h))}return t||null}function Tl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&pi(t,o,(u,h)=>function vt(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof el&&o instanceof el||t instanceof p&&o instanceof p?pi(t.elements,o.elements,Ji):t instanceof A&&o instanceof A?Ji(t.k,o.k):t instanceof Xu&&o instanceof Xu);var t,o}(u,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function nl(i){return i.isFoundDocument()?i.version:xn.min()}class Al extends mi{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}}class Bu extends mi{constructor(e,t,o,u,h=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=h,this.type=1}}function Sl(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function xc(i,e,t){const o=new Map;L(i.length===t.length);for(let u=0;u<t.length;u++){const h=i[u],y=h.transform,S=e.data.field(h.field);o.set(h.field,Rp(y,S,t[u]))}return o}function Oc(i,e,t){const o=new Map;for(const u of i){const h=u.transform,y=t.data.field(u.field);o.set(u.field,zh(h,y,e))}return o}class ju extends mi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class ql extends mi{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Vd{constructor(e){this.count=e}}var Ai,Tr;function Ud(i){switch(i){default:return M();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function Pp(i){if(void 0===i)return T("GRPC error has no .code"),J.UNKNOWN;switch(i){case Ai.OK:return J.OK;case Ai.CANCELLED:return J.CANCELLED;case Ai.UNKNOWN:return J.UNKNOWN;case Ai.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ai.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ai.INTERNAL:return J.INTERNAL;case Ai.UNAVAILABLE:return J.UNAVAILABLE;case Ai.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ai.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ai.NOT_FOUND:return J.NOT_FOUND;case Ai.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ai.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ai.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ai.ABORTED:return J.ABORTED;case Ai.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ai.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ai.DATA_LOSS:return J.DATA_LOSS;default:return M()}}(Tr=Ai||(Ai={}))[Tr.OK=0]="OK",Tr[Tr.CANCELLED=1]="CANCELLED",Tr[Tr.UNKNOWN=2]="UNKNOWN",Tr[Tr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tr[Tr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tr[Tr.NOT_FOUND=5]="NOT_FOUND",Tr[Tr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tr[Tr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tr[Tr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tr[Tr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tr[Tr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tr[Tr.ABORTED=10]="ABORTED",Tr[Tr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tr[Tr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tr[Tr.INTERNAL=13]="INTERNAL",Tr[Tr.UNAVAILABLE=14]="UNAVAILABLE",Tr[Tr.DATA_LOSS=15]="DATA_LOSS";class Si{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,h]of o)if(this.equalsFn(u,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Bo(this.inner,(t,o)=>{for(const[u,h]of o)e(u,h)})}isEmpty(){return Pu(this.inner)}size(){return this.innerSize}}class Cs{constructor(e,t){this.comparator=e,this.root=t||qs.EMPTY}insert(e,t){return new Cs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qs.BLACK,null,null))}remove(e){return new Cs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bd(this.root,e,this.comparator,!0)}}class Bd{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?o(e.key,t):1,t&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qs{constructor(e,t,o,u,h){this.key=e,this.value=t,this.color=null!=o?o:qs.RED,this.left=null!=u?u:qs.EMPTY,this.right=null!=h?h:qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,h){return new qs(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const h=o(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===h?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return qs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return qs.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw M();const e=this.left.check();if(e!==this.right.check())throw M();return e+(this.isRed()?0:1)}}qs.EMPTY=null,qs.RED=!0,qs.BLACK=!1,qs.EMPTY=new class{constructor(){this.size=0}get key(){throw M()}get value(){throw M()}get color(){throw M()}get left(){throw M()}get right(){throw M()}copy(i,e,t,o,u){return this}insert(i,e,t){return new qs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vi{constructor(e){this.comparator=e,this.data=new Cs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Np(this.data.getIterator())}getIteratorFrom(e){return new Np(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Vi)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,h=o.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vi(this.comparator);return t.data=e,t}}class Np{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Kl(i){return i.hasNext()?i.getNext():void 0}const fy=new Cs(kt.comparator);function ka(){return fy}const py=new Cs(kt.comparator);function kp(){return py}function jd(){return new Si(i=>i.toString(),(i,e)=>i.isEqual(e))}const Rc=new Cs(kt.comparator),zo=new Vi(kt.comparator);function $r(...i){let e=zo;for(const t of i)e=e.add(t);return e}const Fp=new Vi(Mn);function Pc(){return Fp}class Vs{constructor(e,t,o,u,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,t)),new Vs(xn.min(),o,Pc(),ka(),$r())}}class Hu{constructor(e,t,o,u,h){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Hu(ii.EMPTY_BYTE_STRING,t,$r(),$r(),$r())}}class Zl{constructor(e,t,o,u){this.O=e,this.removedTargetIds=t,this.key=o,this.F=u}}class Lp{constructor(e,t){this.targetId=e,this.$=t}}class Vp{constructor(e,t,o=ii.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Wh{constructor(){this.B=0,this.L=Up(),this.U=ii.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=$r(),t=$r(),o=$r();return this.L.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:M()}}),new Hu(this.U,this.q,e,t,o)}J(){this.K=!1,this.L=Up()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class gy{constructor(e){this.nt=e,this.st=new Map,this.it=ka(),this.rt=qh(),this.ot=new Vi(Mn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:M()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,u)=>{this.ft(u)&&t(u)})}_t(e){const t=e.targetId,o=e.$.count,u=this.wt(t);if(u){const h=u.target;if(xr(h))if(0===o){const y=new kt(h.path);this.ct(t,y,c.newNoDocument(y,xn.min()))}else L(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((h,y)=>{const S=this.wt(y);if(S){if(h.current&&xr(S.target)){const $=new kt(S.target.path);null!==this.it.get($)||this.It(y,$)||this.ct(y,$,c.newNoDocument($,e))}h.j&&(t.set(y,h.H()),h.J())}});let o=$r();this.rt.forEach((h,y)=>{let S=!0;y.forEachWhile($=>{const Z=this.wt($);return!Z||2===Z.purpose||(S=!1,!1)}),S&&(o=o.add(h))}),this.it.forEach((h,y)=>y.setReadTime(e));const u=new Vs(e,t,this.ot,this.it,o);return this.it=ka(),this.rt=qh(),this.ot=new Vi(Mn),u}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const u=this.lt(e);this.It(e,t)?u.Y(t,1):u.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Wh,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Vi(Mn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||yt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Wh),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function qh(){return new Cs(kt.comparator)}function Up(){return new Cs(kt.comparator)}const Bp={asc:"ASCENDING",desc:"DESCENDING"},my={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class yy{constructor(e,t){this.databaseId=e,this.N=t}}function Ml(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jp(i,e){return i.N?e.toBase64():e.toUint8Array()}function _y(i,e){return Ml(i,e.toTimestamp())}function Us(i){return L(!!i),xn.fromTimestamp(function(e){const t=Ho(e);return new Zn(t.seconds,t.nanos)}(i))}function Kh(i,e){return(t=i,new hr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Hp(i){const e=hr.fromString(i);return L(ef(e)),e}function rl(i,e){return Kh(i.databaseId,e.path)}function bu(i,e){const t=Hp(e);if(t.get(1)!==i.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new kt(Gp(t))}function Zh(i,e){return Kh(i.databaseId,e)}function $p(i){const e=Hp(i);return 4===e.length?hr.emptyPath():Gp(e)}function Nc(i){return new hr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Gp(i){return L(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Yh(i,e,t){return{name:rl(i,e),fields:t.value.mapValue.fields}}function zp(i,e,t){const o=bu(i,e.name),u=Us(e.updateTime),h=new ae({mapValue:{fields:e.fields}}),y=c.newFoundDocument(o,u,h);return t&&y.setHasCommittedMutations(),t?y.setHasCommittedMutations():y}function kc(i,e){let t;if(e instanceof Al)t={update:Yh(i,e.key,e.value)};else if(e instanceof ju)t={delete:rl(i,e.key)};else if(e instanceof Bu)t={update:Yh(i,e.key,e.data),updateMask:Iy(e.fieldMask)};else{if(!(e instanceof ql))return M();t={verify:rl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,h){const y=h.transform;if(y instanceof Xu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof el)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof p)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof A)return{fieldPath:h.field.canonicalString(),increment:y.k};throw M()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:_y(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:M()),t;var u}function Qh(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?qt.updateTime(Us(u.updateTime)):void 0!==u.exists?qt.exists(u.exists):qt.none():qt.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(h,y){let S=null;"setToServerValue"in y?(L("REQUEST_TIME"===y.setToServerValue),S=new Xu):"appendMissingElements"in y?S=new el(y.appendMissingElements.values||[]):"removeAllFromArray"in y?S=new p(y.removeAllFromArray.values||[]):"increment"in y?S=new A(h,y.increment):M();const $=ti.fromServerFormat(y.fieldPath);return new Be($,S)}(i,u)):[];var u;if(e.update){const u=bu(i,e.update.name),h=new ae({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new ha((e.updateMask.fieldPaths||[]).map(Z=>ti.fromServerFormat(Z)));return new Bu(u,h,y,t,o)}return new Al(u,h,t,o)}if(e.delete){const u=bu(i,e.delete);return new ju(u,t)}if(e.verify){const u=bu(i,e.verify);return new ql(u,t)}return M()}function Wp(i,e){return{documents:[Zh(i,e.path)]}}function qp(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Zh(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Zh(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function($){if(0===$.length)return;const Z=$.map(de=>function(be){if("=="===be.op){if(xa(be.value))return{unaryFilter:{field:Fc(be.field),op:"IS_NAN"}};if(Lu(be.value))return{unaryFilter:{field:Fc(be.field),op:"IS_NULL"}}}else if("!="===be.op){if(xa(be.value))return{unaryFilter:{field:Fc(be.field),op:"IS_NOT_NAN"}};if(Lu(be.value))return{unaryFilter:{field:Fc(be.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fc(be.field),op:Kp(be.op),value:be.value}}}(de));return 1===Z.length?Z[0]:{compositeFilter:{op:"AND",filters:Z}}}(e.filters);u&&(t.structuredQuery.where=u);const h=function($){if(0!==$.length)return $.map(Z=>{return{field:Fc((de=Z).field),direction:Uv(de.dir)};var de})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const y=(Z=e.limit,i.N||$o(Z)?Z:{value:Z});var Z,S,$;return null!==y&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt={before:(S=e.startAt).inclusive,values:S.position}),e.endAt&&(t.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),t}function xl(i){let e=$p(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){L(1===o);const de=t.from[0];de.allDescendants?u=de.collectionId:e=e.child(de.collectionId)}let h=[];t.where&&(h=by(t.where));let y=[];t.orderBy&&(y=t.orderBy.map(de=>{return new nu(Wo((be=de).field),function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(be.direction));var be}));let S=null;t.limit&&(S=function(de){let be;return be="object"==typeof de?de.value:de,$o(be)?null:be}(t.limit));let $=null;var de;t.startAt&&($=new yo((de=t.startAt).values||[],!!de.before));let Z=null;return t.endAt&&(Z=function(de){return new yo(de.values||[],!de.before)}(t.endAt)),rr(e,u,y,h,S,"F",$,Z)}function by(i){return i?void 0!==i.unaryFilter?[Xh(i)]:void 0!==i.fieldFilter?[Jh(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>by(e)).reduce((e,t)=>e.concat(t)):M():[]}function Uv(i){return Bp[i]}function Kp(i){return my[i]}function Fc(i){return{fieldPath:i.canonicalString()}}function Wo(i){return ti.fromServerFormat(i.fieldPath)}function Jh(i){return yr.create(Wo(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return M()}}(i.fieldFilter.op),i.fieldFilter.value)}function Xh(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Wo(i.unaryFilter.field);return yr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Wo(i.unaryFilter.field);return yr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wo(i.unaryFilter.field);return yr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Wo(i.unaryFilter.field);return yr.create(u,"!=",{nullValue:"NULL_VALUE"});default:return M()}}function Iy(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ef(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ks(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=tf(e)),e=Zp(i.get(t),e);return tf(e)}function Zp(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const h=i.charAt(u);switch(h){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=h}}return t}function tf(i){return i+"\x01\x01"}function Fa(i){const e=i.length;if(L(e>=2),2===e)return L("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),hr.emptyPath();const t=e-2,o=[];let u="";for(let h=0;h<e;){const y=i.indexOf("\x01",h);switch((y<0||y>t)&&M(),i.charAt(y+1)){case"\x01":const S=i.substring(h,y);let $;0===u.length?$=S:(u+=S,$=u,u=""),o.push($);break;case"\x10":u+=i.substring(h,y),u+="\0";break;case"\x11":u+=i.substring(h,y+1);break;default:M()}h=y+2}return new hr(o)}const Hd=["userId","batchId"];function Lc(i,e){return[i,Ks(e)]}function Dy(i,e,t){return[i,Ks(e),t]}const Yl={},nf=["prefixPath","collectionGroup","readTime","documentId"],Yp=["prefixPath","collectionGroup","documentId"],Cy=["collectionGroup","readTime","prefixPath","documentId"],rf=["canonicalId","targetId"],Ty=["targetId","path"],Ay=["path","targetId"],Sy=["collectionId","parent"],My=["indexId","uid"],xy=["uid","sequenceNumber"],Oy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Qp=["indexId","uid","orderedDocumentKey"],sf=["userId","collectionPath","documentId"],Jp=["userId","collectionPath","largestBatchId"],of=["userId","collectionGroup","largestBatchId"],Xp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ry=[...Xp,"documentOverlays"],af=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eg=[...af,"indexConfiguration","indexState","indexEntries"],il="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class st{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&M(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new st((o,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,u)},this.catchCallback=h=>{this.wrapFailure(t,h).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof st?t:st.resolve(t)}catch(t){return st.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):st.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):st.reject(t)}static resolve(e){return new st((t,o)=>{t(e)})}static reject(e){return new st((t,o)=>{o(e)})}static waitFor(e){return new st((t,o)=>{let u=0,h=0,y=!1;e.forEach(S=>{++u,S.next(()=>{++h,y&&h===u&&t()},$=>o($))}),y=!0,h===u&&t()})}static or(e){let t=st.resolve(!1);for(const o of e)t=t.next(u=>u?st.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,h)=>{o.push(t.call(this,u,h))}),this.waitFor(o)}}class $d{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new bt,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Ql(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const u=Jl(o.target.error);this.At.reject(new Ql(e,u))}}static open(e,t,o,u){try{return new $d(t,e.transaction(u,o))}catch(h){throw new Ql(t,h)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(yt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new tg(t)}}class ia{constructor(e,t,o){this.name=e,this.version=t,this.bt=o,12.2===ia.Vt((0,E.z$)())&&T("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return yt("SimpleDb","Removing database:",e),$u(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,E.hl)())return!1;if(ia.St())return!0;const e=(0,E.z$)(),t=ia.Vt(e),o=0<t&&t<10,u=ia.Dt(e),h=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||h)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(yt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const h=indexedDB.open(t.name,t.version);h.onsuccess=y=>{o(y.target.result)},h.onblocked=()=>{u(new Ql(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=y=>{const S=y.target.error;u("VersionError"===S.name?new me(J.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new me(J.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new Ql(e,S))},h.onupgradeneeded=y=>{yt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',y.oldVersion),t.bt.kt(y.target.result,h.transaction,y.oldVersion,t.version).next(()=>{yt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var h=this;return(0,Ee.Z)(function*(){const y="readonly"===t;let S=0;for(;;){++S;try{h.db=yield h.Nt(e);const $=$d.open(h.db,e,y?"readonly":"readwrite",o),Z=u($).next(de=>($.Pt(),de)).catch(de=>($.abort(de),st.reject(de))).toPromise();return Z.catch(()=>{}),yield $.Rt,Z}catch($){const Z="FirebaseError"!==$.name&&S<3;if(yt("SimpleDb","Transaction failed with error:",$.message,"Retrying:",Z),h.close(),!Z)return Promise.reject($)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Py{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return $u(this.Ft.delete())}}class Ql extends me{constructor(e,t){super(J.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function sl(i){return"IndexedDbTransactionError"===i.name}class tg{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(yt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(yt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),$u(o)}add(e){return yt("SimpleDb","ADD",this.store.name,e,e),$u(this.store.add(e))}get(e){return $u(this.store.get(e)).next(t=>(void 0===t&&(t=null),yt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return yt("SimpleDb","DELETE",this.store.name,e),$u(this.store.delete(e))}count(){return yt("SimpleDb","COUNT",this.store.name),$u(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),h=[];return this.Kt(u,(y,S)=>{h.push(S)}).next(()=>h)}{const u=this.store.getAll(o.range);return new st((h,y)=>{u.onerror=S=>{y(S.target.error)},u.onsuccess=S=>{h(S.target.result)}})}}Gt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new st((u,h)=>{o.onerror=y=>{h(y.target.error)},o.onsuccess=y=>{u(y.target.result)}})}Qt(e,t){yt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const u=this.cursor(o);return this.Kt(u,(h,y,S)=>S.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.Kt(u,t)}zt(e){const t=this.cursor({});return new st((o,u)=>{t.onerror=h=>{const y=Jl(h.target.error);u(y)},t.onsuccess=h=>{const y=h.target.result;y?e(y.primaryKey,y.value).next(S=>{S?y.continue():o()}):o()}})}Kt(e,t){const o=[];return new st((u,h)=>{e.onerror=y=>{h(y.target.error)},e.onsuccess=y=>{const S=y.target.result;if(!S)return void u();const $=new Py(S),Z=t(S.primaryKey,S.value,$);if(Z instanceof st){const de=Z.catch(be=>($.done(),st.reject(be)));o.push(de)}$.isDone?u():null===$.Lt?S.continue():S.continue($.Lt)}}).next(()=>st.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $u(i){return new st((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Jl(o.target.error);t(u)}})}let lf=!1;function Jl(i){const e=ia.Vt((0,E.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lf||(lf=!0,setTimeout(()=>{throw o},0)),o}}return i}class Vc extends uf{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Zs(i,e){const t=ee(i);return ia.xt(t.Ht,e)}class Uc{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&su(h,e,o[u])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&ou(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&ou(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(xn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$r())}isEqual(e){return this.batchId===e.batchId&&pi(this.mutations,e.mutations,(t,o)=>Tl(t,o))&&pi(this.baseMutations,e.baseMutations,(t,o)=>Tl(t,o))}}class Gd{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){L(e.mutations.length===o.length);let u=Rc;const h=e.mutations;for(let y=0;y<h.length;y++)u=u.insert(h[y].key,o[y].version);return new Gd(e,t,o,u)}}class Bc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class La{constructor(e,t,o,u,h=xn.min(),y=xn.min(),S=ii.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=S}withSequenceNumber(e){return new La(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ng{constructor(e){this.Jt=e}}function ig(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:rl(u=i.Jt,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:Ml(u,h.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:ol(e.version)};else{if(!e.isUnknownDocument())return M();o.unknownDocument={path:t.path.toArray(),version:ol(e.version)}}var u,h;return o}function zd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ol(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Gu(i){const e=new Zn(i.seconds,i.nanoseconds);return xn.fromTimestamp(e)}function Ol(i,e){const t=(e.baseMutations||[]).map(h=>Qh(i.Jt,h));for(let h=0;h<e.mutations.length-1;++h){const y=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(y.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const o=e.mutations.map(h=>Qh(i.Jt,h)),u=Zn.fromMillis(e.localWriteTimeMs);return new Uc(e.batchId,u,t,o)}function Wd(i){const e=Gu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Gu(i.lastLimboFreeSnapshotVersion):xn.min();let o;var u;return void 0!==i.query.documents?(L(1===(u=i.query).documents.length),o=Yr(si($p(u.documents[0])))):o=Yr(xl(i.query)),new La(o,i.targetId,0,i.lastListenSequenceNumber,e,t,ii.fromBase64String(i.resumeToken))}function cf(i,e){const t=ol(e.snapshotVersion),o=ol(e.lastLimboFreeSnapshotVersion);let u;u=xr(e.target)?Wp(i.Jt,e.target):qp(i.Jt,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:En(e.target),readTime:t,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function df(i){const e=xl({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?pa(e,e.limit,"L"):e}function qd(i,e){return new Bc(e.largestBatchId,Qh(i.Jt,e.overlayMutation))}function sg(i,e){const t=e.path.lastSegment();return[i,Ks(e.path.popLast()),t]}class Ny{getBundleMetadata(e,t){return Va(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Gu(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Va(e).put({bundleId:(o=t).id,createTime:ol(Us(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return og(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:df(u.bundledQuery),readTime:Gu(u.readTime)};var u})}saveNamedQuery(e,t){return og(e).put({name:(o=t).name,readTime:ol(Us(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Va(i){return Zs(i,"bundles")}function og(i){return Zs(i,"namedQueries")}class Kd{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Kd(e,t.uid||"")}getOverlay(e,t){return jc(e).get(sg(this.userId,t)).next(o=>o?qd(this.M,o):null)}saveOverlays(e,t,o){const u=[];return o.forEach((h,y)=>{const S=new Bc(t,y);u.push(this.Xt(e,S))}),st.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(y=>u.add(Ks(y.getCollectionPath())));const h=[];return u.forEach(y=>{const S=IDBKeyRange.bound([this.userId,y,o],[this.userId,y,o+1],!1,!0);h.push(jc(e).Qt("collectionPathOverlayIndex",S))}),st.waitFor(h)}getOverlaysForCollection(e,t,o){const u=jd(),h=Ks(t),y=IDBKeyRange.bound([this.userId,h,o],[this.userId,h,Number.POSITIVE_INFINITY],!0);return jc(e).qt("collectionPathOverlayIndex",y).next(S=>{for(const $ of S){const Z=qd(this.M,$);u.set(Z.getKey(),Z)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const h=jd();let y;const S=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jc(e).Wt({index:"collectionGroupOverlayIndex",range:S},($,Z,de)=>{const be=qd(this.M,Z);h.size()<u||be.largestBatchId===y?(h.set(be.getKey(),be),y=be.largestBatchId):de.done()}).next(()=>h)}Xt(e,t){return jc(e).put(function(o,u,h){const[y,S,$]=sg(u,h.mutation.key);return{userId:u,collectionPath:S,documentId:$,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:kc(o.Jt,h.mutation)}}(this.M,this.userId,t))}}function jc(i){return Zs(i,"documentOverlays")}class Rl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Kr(e.integerValue));else if("doubleValue"in e){const o=Kr(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),fa(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Ci(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?_u(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):M()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const u of Object.keys(o))this.re(u,t),this.te(o[u],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const u of o)this.te(u,t)}ae(e,t){this.ne(t,37),kt.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function ky(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function ag(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const h=ky(255&t[u]);if(o+=h,8!==h)break}return o}(i);return Math.ceil(e/8)}Rl.fe=new Rl;class ug{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const u=t.codePointAt(0);this._e(240|u>>>18),this._e(128|63&u>>>12),this._e(128|63&u>>>6),this._e(128|63&u)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const u=t.codePointAt(0);this.ge(240|u>>>18),this.ge(128|63&u>>>12),this.ge(128|63&u>>>6),this.ge(128|63&u)}}this.ye()}Te(e){const t=this.Ee(e),o=ag(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Re(e){const t=this.Ee(e),o=ag(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(u){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,u,!1),new Uint8Array(h.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Fy{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Ly{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Hc{constructor(){this.De=new ug,this.Ce=new Fy(this.De),this.xe=new Ly(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Bn{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Bn(this.indexId,this.documentKey,this.arrayValue,o)}}function al(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=hf(i.arrayValue,e.arrayValue),0!==t?t:(t=hf(i.directionalValue,e.directionalValue),0!==t?t:kt.comparator(i.documentKey,e.documentKey)))}function hf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class lg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=b(e);if(void 0!==t&&!this.Be(t))return!1;const o=P(e);let u=0,h=0;for(;u<o.length&&this.Be(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Fe){const y=o[u];if(!this.Le(this.Fe,y)||!this.Ue(this.Me[h++],y))return!1;++u}for(;u<o.length;++u){const y=o[u];if(h>=this.Me.length||!this.Ue(this.Me[h++],y))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Zd{constructor(){this.qe=new ga}addToCollectionParentIndex(e,t){return this.qe.add(t),st.resolve()}getCollectionParents(e,t){return st.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return st.resolve()}deleteFieldIndex(e,t){return st.resolve()}getDocumentsMatchingTarget(e,t){return st.resolve(null)}getFieldIndex(e,t){return st.resolve(null)}getFieldIndexes(e,t){return st.resolve([])}getNextCollectionGroupToUpdate(e){return st.resolve(null)}updateCollectionGroup(e,t,o){return st.resolve()}updateIndexEntries(e,t){return st.resolve()}}class ga{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new Vi(hr.comparator),h=!u.has(o);return this.index[t]=u.add(o),h}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Vi(hr.comparator)).toArray()}}const Pl=new Uint8Array(0);class Vy{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new ga,this.Ge=new Si(o=>En(o),(o,u)=>An(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const h={collectionId:o,parent:Ks(u)};return Yd(e).put(h)}return st.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[Sa(t),""],!1,!0);return Yd(e).qt(u).next(h=>{for(const y of h){if(y.collectionId!==t)break;o.push(Fa(y.parent))}return o})}addFieldIndex(e,t){const o=Xl(e),u={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(y=>[y.fieldPath.canonicalString(),y.kind])};var h;return delete u.indexId,o.add(u).next()}deleteFieldIndex(e,t){const o=Xl(e),u=$c(e),h=ma(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=ma(e);let u=!0;const h=new Map;return st.forEach(this.Qe(t),y=>this.getFieldIndex(e,y).next(S=>{u&&(u=!!S),h.set(y,S)})).next(()=>{if(u){let y=$r();const S=[];return st.forEach(h,($,Z)=>{var de;yt("IndexedDbIndexManager",`Using index ${de=$,`id=${de.indexId}|cg=${de.collectionGroup}|f=${de.fields.map(yi=>`${yi.fieldPath}:${yi.kind}`).join(",")}`} to execute ${En(t)}`);const be=function(yi,Bs){const Ui=b(Bs);if(void 0===Ui)return null;for(const ls of gi(yi,Ui.fieldPath))switch(ls.op){case"array-contains-any":return ls.value.arrayValue.values||[];case"array-contains":return[ls.value]}return null}(Z,$),et=function(yi,Bs){const Ui=new Map;for(const ls of P(Bs))for(const ko of gi(yi,ls.fieldPath))switch(ko.op){case"==":case"in":Ui.set(ls.fieldPath.canonicalString(),ko.value);break;case"not-in":case"!=":return Ui.set(ls.fieldPath.canonicalString(),ko.value),Array.from(Ui.values())}return null}(Z,$),_t=function(yi,Bs){const Ui=[];let ls=!0;for(const ko of P(Bs)){const Ga=0===ko.kind?Ti(yi,ko.fieldPath,yi.startAt):us(yi,ko.fieldPath,yi.startAt);if(!Ga.value)return null;Ui.push(Ga.value),ls&&(ls=Ga.inclusive)}return new yo(Ui,ls)}(Z,$),wt=function(yi,Bs){const Ui=[];let ls=!0;for(const ko of P(Bs)){const Ga=0===ko.kind?us(yi,ko.fieldPath,yi.endAt):Ti(yi,ko.fieldPath,yi.endAt);if(!Ga.value)return null;Ui.push(Ga.value),ls&&(ls=Ga.inclusive)}return new yo(Ui,ls)}(Z,$),Kt=this.je($,Z,_t),Qn=this.je($,Z,wt),Wi=this.We($,Z,et),Ts=this.ze($.indexId,be,Kt,!!_t&&_t.inclusive,Qn,!!wt&&wt.inclusive,Wi);return st.forEach(Ts,yi=>o.Gt(yi,t.limit).next(Bs=>{Bs.forEach(Ui=>{const ls=kt.fromSegments(Ui.documentKey);y.has(ls)||(y=y.add(ls),S.push(ls))})}))}).next(()=>S)}return st.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,o,u,h,y,S){const $=(null!=t?t.length:1)*Math.max(null!=o?o.length:1,null!=h?h.length:1),Z=$/(null!=t?t.length:1),de=[];for(let be=0;be<$;++be){const et=t?this.He(t[be/Z]):Pl,_t=o?this.Je(e,et,o[be%Z],u):this.Ye(e),wt=h?this.Xe(e,et,h[be%Z],y):this.Ye(e+1);de.push(...this.createRange(_t,wt,S.map(Kt=>this.Je(e,et,Kt,!0))))}return de}Je(e,t,o,u){const h=new Bn(e,kt.empty(),t,o);return u?h:h.ke()}Xe(e,t,o,u){const h=new Bn(e,kt.empty(),t,o);return u?h.ke():h}Ye(e){return new Bn(e,kt.empty(),Pl,Pl)}getFieldIndex(e,t){const o=new lg(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(h=>{const y=h.filter(S=>o.$e(S));return y.sort((S,$)=>$.fields.length-S.fields.length),y.length>0?y[0]:null})}Ze(e,t){const o=new Hc;for(const u of P(e)){const h=t.data.field(u.fieldPath);if(null==h)return null;const y=o.Ne(u.kind);Rl.fe.Zt(h,y)}return o.Se()}He(e){const t=new Hc;return Rl.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const o=new Hc;return Rl.fe.Zt(Ls(this.databaseId,t),o.Ne(function(u){const h=P(u);return 0===h.length?0:h[h.length-1].kind}(e))),o.Se()}We(e,t,o){if(null===o)return[];let u=[];u.push(new Hc);let h=0;for(const y of P(e)){const S=o[h++];for(const $ of u)if(this.en(t,y.fieldPath)&&uo(S))u=this.nn(u,y,S);else{const Z=$.Ne(y.kind);Rl.fe.Zt(S,Z)}}return this.sn(u)}je(e,t,o){return null==o?null:this.We(e,t,o.position)}sn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}nn(e,t,o){const u=[...e],h=[];for(const y of o.arrayValue.values||[])for(const S of u){const $=new Hc;$.seed(S.Se()),Rl.fe.Zt(y,$.Ne(t.kind)),h.push($)}return h}en(e,t){return!!e.filters.find(o=>o instanceof yr&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Xl(e),u=$c(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(h=>{const y=[];return st.forEach(h,S=>u.get([S.indexId,this.uid]).next($=>{y.push(function(Z,de){const be=de?new ne(de.sequenceNumber,new Ye(Gu(de.readTime),new kt(Fa(de.documentKey)),de.largestBatchId)):ne.empty(),et=Z.fields.map(([_t,wt])=>new G(ti.fromServerFormat(_t),wt));return new d(Z.indexId,Z.collectionGroup,et,be)}(S,$))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const h=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==h?h:Mn(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=Xl(e),h=$c(e);return this.rn(e).next(y=>u.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(S=>st.forEach(S,$=>{return h.put({indexId:$.indexId,uid:this.user.uid||"",sequenceNumber:y,readTime:ol((et=o).readTime),documentKey:Ks(et.documentKey.path),largestBatchId:et.largestBatchId});var et})))}updateIndexEntries(e,t){const o=new Map;return st.forEach(t,(u,h)=>{const y=o.get(u.collectionGroup);return(y?st.resolve(y):this.getFieldIndexes(e,u.collectionGroup)).next(S=>(o.set(u.collectionGroup,S),st.forEach(S,$=>this.on(e,u,$).next(Z=>{const de=this.un(h,$);return Z.isEqual(de)?st.resolve():this.an(e,h,$,Z,de)}))))})}cn(e,t,o,u){return ma(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.tn(o,t.key),documentKey:t.key.path.toArray()})}hn(e,t,o,u){return ma(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.tn(o,t.key),t.key.path.toArray()])}on(e,t,o){const u=ma(e);let h=new Vi(al);return u.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,t)])},(y,S)=>{h=h.add(new Bn(o.indexId,t,S.arrayValue,S.directionalValue))}).next(()=>h)}un(e,t){let o=new Vi(al);const u=this.Ze(t,e);if(null==u)return o;const h=b(t);if(null!=h){const y=e.data.field(h.fieldPath);if(uo(y))for(const S of y.arrayValue.values||[])o=o.add(new Bn(t.indexId,e.key,this.He(S),u))}else o=o.add(new Bn(t.indexId,e.key,Pl,u));return o}an(e,t,o,u,h){yt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const y=[];return function(S,$,Z,de,be){const et=S.getIterator(),_t=$.getIterator();let wt=Kl(et),Kt=Kl(_t);for(;wt||Kt;){let Qn=!1,Wi=!1;if(wt&&Kt){const Ts=Z(wt,Kt);Ts<0?Wi=!0:Ts>0&&(Qn=!0)}else null!=wt?Wi=!0:Qn=!0;Qn?(de(Kt),Kt=Kl(_t)):Wi?(be(wt),wt=Kl(et)):(wt=Kl(et),Kt=Kl(_t))}}(u,h,al,S=>{y.push(this.cn(e,t,o,S))},S=>{y.push(this.hn(e,t,o,S))}),st.waitFor(y)}rn(e){let t=1;return $c(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,h)=>{h.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((y,S)=>al(y,S)).filter((y,S,$)=>!S||0!==al(y,$[S-1]));const u=[];u.push(e);for(const y of o){const S=al(y,e),$=al(y,t);if(0===S)u[0]=e.ke();else if(S>0&&$<0)u.push(y),u.push(y.ke());else if($>0)break}u.push(t);const h=[];for(let y=0;y<u.length;y+=2)h.push(IDBKeyRange.bound([u[y].indexId,this.uid,u[y].arrayValue,u[y].directionalValue,Pl,[]],[u[y+1].indexId,this.uid,u[y+1].arrayValue,u[y+1].directionalValue,Pl,[]]));return h}}function Yd(i){return Zs(i,"collectionParents")}function ma(i){return Zs(i,"indexEntries")}function Xl(i){return Zs(i,"indexConfiguration")}function $c(i){return Zs(i,"indexState")}const Qd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ya{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ya(e,ya.DEFAULT_COLLECTION_PERCENTILE,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ff(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),h=[],y=IDBKeyRange.only(t.batchId);let S=0;const $=o.Wt({range:y},(de,be,et)=>(S++,et.delete()));h.push($.next(()=>{L(1===S)}));const Z=[];for(const de of t.mutations){const be=Dy(e,de.key.path,t.batchId);h.push(u.delete(be)),Z.push(de.key)}return st.waitFor(h).next(()=>Z)}function pf(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw M();e=i.noDocument}return JSON.stringify(e).length}ya.DEFAULT_COLLECTION_PERCENTILE=10,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ya.DEFAULT=new ya(41943040,ya.DEFAULT_COLLECTION_PERCENTILE,ya.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ya.DISABLED=new ya(-1,0,0);class ec{constructor(e,t,o,u){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=u,this.ln={}}static Yt(e,t,o,u){L(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new ec(h,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Du(e).Wt({index:"userMutationsIndex",range:o},(u,h,y)=>{t=!1,y.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const h=ul(e),y=Du(e);return y.add({}).next(S=>{L("number"==typeof S);const $=new Uc(S,t,o,u),Z=function(et,_t,wt){const Kt=wt.baseMutations.map(Wi=>kc(et.Jt,Wi)),Qn=wt.mutations.map(Wi=>kc(et.Jt,Wi));return{userId:_t,batchId:wt.batchId,localWriteTimeMs:wt.localWriteTime.toMillis(),baseMutations:Kt,mutations:Qn}}(this.M,this.userId,$),de=[];let be=new Vi((et,_t)=>Mn(et.canonicalString(),_t.canonicalString()));for(const et of u){const _t=Dy(this.userId,et.key.path,S);be=be.add(et.key.path.popLast()),de.push(y.put(Z)),de.push(h.put(_t,Yl))}return be.forEach(et=>{de.push(this.indexManager.addToCollectionParentIndex(e,et))}),e.addOnCommittedListener(()=>{this.ln[S]=$.keys()}),st.waitFor(de).next(()=>$)})}lookupMutationBatch(e,t){return Du(e).get(t).next(o=>o?(L(o.userId===this.userId),Ol(this.M,o)):null)}fn(e,t){return this.ln[t]?st.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.ln[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return Du(e).Wt({index:"userMutationsIndex",range:u},(y,S,$)=>{S.userId===this.userId&&(L(S.batchId>=o),h=Ol(this.M,S)),$.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Du(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(u,h,y)=>{o=h.batchId,y.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Du(e).qt("userMutationsIndex",t).next(o=>o.map(u=>Ol(this.M,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=Lc(this.userId,t.path),u=IDBKeyRange.lowerBound(o),h=[];return ul(e).Wt({range:u},(y,S,$)=>{const[Z,de,be]=y,et=Fa(de);if(Z===this.userId&&t.path.isEqual(et))return Du(e).get(be).next(_t=>{if(!_t)throw M();L(_t.userId===this.userId),h.push(Ol(this.M,_t))});$.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Vi(Mn);const u=[];return t.forEach(h=>{const y=Lc(this.userId,h.path),S=IDBKeyRange.lowerBound(y),$=ul(e).Wt({range:S},(Z,de,be)=>{const[et,_t,wt]=Z,Kt=Fa(_t);et===this.userId&&h.path.isEqual(Kt)?o=o.add(wt):be.done()});u.push($)}),st.waitFor(u).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,h=Lc(this.userId,o),y=IDBKeyRange.lowerBound(h);let S=new Vi(Mn);return ul(e).Wt({range:y},($,Z,de)=>{const[be,et,_t]=$,wt=Fa(et);be===this.userId&&o.isPrefixOf(wt)?wt.length===u&&(S=S.add(_t)):de.done()}).next(()=>this.dn(e,S))}dn(e,t){const o=[],u=[];return t.forEach(h=>{u.push(Du(e).get(h).next(y=>{if(null===y)throw M();L(y.userId===this.userId),o.push(Ol(this.M,y))}))}),st.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return ff(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),st.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return st.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return ul(e).Wt({range:o},(h,y,S)=>{if(h[0]===this.userId){const $=Fa(h[1]);u.push($)}else S.done()}).next(()=>{L(0===u.length)})})}containsKey(e,t){return Gc(e,this.userId,t)}wn(e){return Jd(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Gc(i,e,t){const o=Lc(e,t.path),u=o[1],h=IDBKeyRange.lowerBound(o);let y=!1;return ul(i).Wt({range:h,jt:!0},(S,$,Z)=>{const[de,be,et]=S;de===e&&be===u&&(y=!0),Z.done()}).next(()=>y)}function Du(i){return Zs(i,"mutations")}function ul(i){return Zs(i,"documentMutations")}function Jd(i){return Zs(i,"mutationQueues")}class tc{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new tc(0)}static yn(){return new tc(-1)}}class Uy{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const o=new tc(t.highestTargetId);return t.highestTargetId=o.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>xn.fromTimestamp(new Zn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.pn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.In(e,u)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(t,o),this.In(e,o))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>nc(e).delete(t.targetId)).next(()=>this.pn(e)).next(o=>(L(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,t,o){let u=0;const h=[];return nc(e).Wt((y,S)=>{const $=Wd(S);$.sequenceNumber<=t&&null===o.get($.targetId)&&(u++,h.push(this.removeTargetData(e,$)))}).next(()=>st.waitFor(h)).next(()=>u)}forEachTarget(e,t){return nc(e).Wt((o,u)=>{const h=Wd(u);t(h)})}pn(e){return cg(e).get("targetGlobalKey").next(t=>(L(null!==t),t))}In(e,t){return cg(e).put("targetGlobalKey",t)}Tn(e,t){return nc(e).put(cf(this.M,t))}En(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=En(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return nc(e).Wt({range:u,index:"queryTargetsIndex"},(y,S,$)=>{const Z=Wd(S);An(t,Z.target)&&(h=Z,$.done())}).next(()=>h)}addMatchingKeys(e,t,o){const u=[],h=ll(e);return t.forEach(y=>{const S=Ks(y.path);u.push(h.put({targetId:o,path:S})),u.push(this.referenceDelegate.addReference(e,o,y))}),st.waitFor(u)}removeMatchingKeys(e,t,o){const u=ll(e);return st.forEach(t,h=>{const y=Ks(h.path);return st.waitFor([u.delete([o,y]),this.referenceDelegate.removeReference(e,o,h)])})}removeMatchingKeysForTargetId(e,t){const o=ll(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=ll(e);let h=$r();return u.Wt({range:o,jt:!0},(y,S,$)=>{const Z=Fa(y[1]),de=new kt(Z);h=h.add(de)}).next(()=>h)}containsKey(e,t){const o=Ks(t.path),u=IDBKeyRange.bound([o],[Sa(o)],!1,!0);let h=0;return ll(e).Wt({index:"documentTargetsIndex",jt:!0,range:u},([y,S],$,Z)=>{0!==y&&(h++,Z.done())}).next(()=>h>0)}Et(e,t){return nc(e).get(t).next(o=>o?Wd(o):null)}}function nc(i){return Zs(i,"targets")}function cg(i){return Zs(i,"targetGlobal")}function ll(i){return Zs(i,"targetDocuments")}function cl(i){return dg.apply(this,arguments)}function dg(){return dg=(0,Ee.Z)(function*(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==il)throw i;yt("LocalStore","Unexpectedly lost primary lease")}),dg.apply(this,arguments)}function hg([i,e],[t,o]){const u=Mn(i,t);return 0===u?Mn(e,o):u}class Bv{constructor(e){this.An=e,this.buffer=new Vi(hg),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();hg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fg{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const o=this.Vn?3e5:6e4;yt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,Ee.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(u){sl(u)?yt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield cl(u)}yield t.Sn(e)}))}}class pg{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return st.resolve(fi.A);const o=new Bv(t);return this.Dn.forEachTarget(e,u=>o.bn(u.sequenceNumber)).next(()=>this.Dn.xn(e,u=>o.bn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Dn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(Qd)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qd):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let o,u,h,y,S,$,Z;const de=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(be=>(be>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${be}`),u=this.params.maximumSequenceNumbersToCollect):u=be,y=Date.now(),this.nthSequenceNumber(e,u))).next(be=>(o=be,S=Date.now(),this.removeTargets(e,o,t))).next(be=>(h=be,$=Date.now(),this.removeOrphanedDocuments(e,o))).next(be=>(Z=Date.now(),Rs()<=fe.in.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-de}ms\n\tDetermined least recently used ${u} in `+(S-y)+`ms\n\tRemoved ${h} targets in `+($-S)+`ms\n\tRemoved ${be} documents in `+(Z-$)+`ms\nTotal Duration: ${Z-de}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:be})))}}class By{constructor(e,t){this.db=e,this.garbageCollector=new pg(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}kn(e){let t=0;return this.xn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(o,u)=>t(u))}addReference(e,t,o){return rc(e,o)}removeReference(e,t,o){return rc(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return rc(e,t)}On(e,t){return function(o,u){let h=!1;return Jd(o).zt(y=>Gc(o,y,u).next(S=>(S&&(h=!0),st.resolve(!S)))).next(()=>h)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let h=0;return this.Mn(e,(y,S)=>{if(S<=t){const $=this.On(e,y).next(Z=>{if(!Z)return h++,o.getEntry(e,y).next(()=>(o.removeEntry(y,xn.min()),ll(e).delete([0,Ks(y.path)])))});u.push($)}}).next(()=>st.waitFor(u)).next(()=>o.apply(e)).next(()=>h)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return rc(e,t)}Mn(e,t){const o=ll(e);let u,h=fi.A;return o.Wt({index:"documentTargetsIndex"},([y,S],{path:$,sequenceNumber:Z})=>{0===y?(h!==fi.A&&t(new kt(Fa(u)),h),h=Z,u=$):h=fi.A}).next(()=>{h!==fi.A&&t(new kt(Fa(u)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rc(i,e){return ll(i).put((o=i.currentSequenceNumber,{targetId:0,path:Ks(e.path),sequenceNumber:o}));var o}class jy{constructor(){this.changes=new Si(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,c.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?st.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jv{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return ic(e).put(o)}removeEntry(e,t,o){return ic(e).delete(function(u,h){const y=u.path.toArray();return[y.slice(0,y.length-2),y[y.length-2],zd(h),y[y.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Fn(e,o)))}getEntry(e,t){let o=c.newInvalidDocument(t);return ic(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xd(t))},(u,h)=>{o=this.$n(t,h)}).next(()=>o)}Bn(e,t){let o={size:0,document:c.newInvalidDocument(t)};return ic(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Xd(t))},(u,h)=>{o={document:this.$n(t,h),size:pf(h)}}).next(()=>o)}getEntries(e,t){let o=ka();return this.Ln(e,t,(u,h)=>{const y=this.$n(u,h);o=o.insert(u,y)}).next(()=>o)}Un(e,t){let o=ka(),u=new Cs(kt.comparator);return this.Ln(e,t,(h,y)=>{const S=this.$n(h,y);o=o.insert(h,S),u=u.insert(h,pf(y))}).next(()=>({documents:o,qn:u}))}Ln(e,t,o){if(t.isEmpty())return st.resolve();let u=new Vi(Gy);t.forEach($=>u=u.add($));const h=IDBKeyRange.bound(Xd(u.first()),Xd(u.last())),y=u.getIterator();let S=y.getNext();return ic(e).Wt({index:"documentKeyIndex",range:h},($,Z,de)=>{const be=kt.fromSegments([...Z.prefixPath,Z.collectionGroup,Z.documentId]);for(;S&&Gy(S,be)<0;)o(S,null),S=y.getNext();S&&S.isEqual(be)&&(o(S,Z),S=y.hasNext()?y.getNext():null),S?de.Ut(Xd(S)):de.done()}).next(()=>{for(;S;)o(S,null),S=y.hasNext()?y.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),zd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],h=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ic(e).qt(IDBKeyRange.bound(u,h,!0)).next(y=>{let S=ka();for(const $ of y){const Z=this.$n(kt.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);S=S.insert(Z.key,Z)}return S})}getAllFromCollectionGroup(e,t,o,u){let h=ka();const y=$y(t,o),S=$y(t,Ye.max());return ic(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,S,!0)},($,Z,de)=>{const be=this.$n(kt.fromSegments(Z.prefixPath.concat(Z.collectionGroup,Z.documentId)),Z);h=h.insert(be.key,be),h.size===u&&de.done()}).next(()=>h)}newChangeBuffer(e){return new Hv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Hy(e).get("remoteDocumentGlobalKey").next(t=>(L(!!t),t))}Fn(e,t){return Hy(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const o=function rg(i,e){let t;if(e.document)t=zp(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=kt.fromSegments(e.noDocument.path),u=Gu(e.noDocument.readTime);t=c.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return M();{const o=kt.fromSegments(e.unknownDocument.path),u=Gu(e.unknownDocument.version);t=c.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new Zn(o[0],o[1]);return xn.fromTimestamp(u)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual(xn.min()))return o}return c.newInvalidDocument(e)}}class Hv extends jy{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Si(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new Vi((h,y)=>Mn(h.canonicalString(),y.canonicalString()));return this.changes.forEach((h,y)=>{const S=this.Gn.get(h);if(t.push(this.Kn.removeEntry(e,h,S.readTime)),y.isValidDocument()){const $=ig(this.Kn.M,y);u=u.add(h.path.popLast()),o+=pf($)-S.size,t.push(this.Kn.addEntry(e,h,$))}else if(o-=S.size,this.trackRemovals){const $=ig(this.Kn.M,y.convertToNoDocument(xn.min()));t.push(this.Kn.addEntry(e,h,$))}}),u.forEach(h=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,h))}),t.push(this.Kn.updateMetadata(e,o)),st.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:o,qn:u})=>(u.forEach((h,y)=>{this.Gn.set(h,{size:y,readTime:o.get(h).readTime})}),o))}}function Hy(i){return Zs(i,"remoteDocumentGlobal")}function ic(i){return Zs(i,"remoteDocumentsV14")}function Xd(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function $y(i,e){const t=e.documentKey.path.toArray();return[i,zd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gy(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let h=0;h<t.length-2&&h<o.length-2;++h)if(u=Mn(t[h],o[h]),u)return u;return u=Mn(t.length,o.length),u||(u=Mn(t[t.length-2],o[o.length-2]),u||Mn(t[t.length-1],o[o.length-1]))}class $v{constructor(e){this.M=e}kt(e,t,o,u){const h=new $d("createOrUpgrade",t);var S;o<1&&u>=1&&(e.createObjectStore("owner"),(S=e).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hd,{unique:!0}),S.createObjectStore("documentMutations"),zy(e),function(S){S.createObjectStore("remoteDocuments")}(e));let y=st.resolve();return o<3&&u>=3&&(0!==o&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(e),zy(e)),y=y.next(()=>function(S){const $=S.store("targetGlobal"),Z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xn.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",Z)}(h))),o<4&&u>=4&&(0!==o&&(y=y.next(()=>function(S,$){return $.store("mutations").qt().next(Z=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hd,{unique:!0});const de=$.store("mutations"),be=Z.map(et=>de.put(et));return st.waitFor(be)})}(e,h))),y=y.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(y=y.next(()=>this.Qn(h))),o<6&&u>=6&&(y=y.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(e),this.jn(h)))),o<7&&u>=7&&(y=y.next(()=>this.Wn(h))),o<8&&u>=8&&(y=y.next(()=>this.zn(e,h))),o<9&&u>=9&&(y=y.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(y=y.next(()=>this.Hn(h))),o<11&&u>=11&&(y=y.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(y=y.next(()=>{!function(S){const $=S.createObjectStore("documentOverlays",{keyPath:sf});$.createIndex("collectionPathOverlayIndex",Jp,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",of,{unique:!1})}(e)})),o<13&&u>=13&&(y=y.next(()=>function(S){const $=S.createObjectStore("remoteDocumentsV14",{keyPath:nf});$.createIndex("documentKeyIndex",Yp),$.createIndex("collectionGroupIndex",Cy)}(e)).next(()=>this.Jn(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(y=y.next(()=>{!function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:My}).createIndex("sequenceNumberIndex",xy,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:Oy}).createIndex("documentKeyIndex",Qp,{unique:!1})}(e)})),y}jn(e){let t=0;return e.store("remoteDocuments").Wt((o,u)=>{t+=pf(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(u=>st.forEach(u,h=>{const y=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",y).next(S=>st.forEach(S,$=>{L($.userId===h.userId);const Z=Ol(this.M,$);return ff(e,h.userId,Z).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const h=[];return o.Wt((y,S)=>{const $=new hr(y),Z=[0,Ks($)];h.push(t.get(Z).next(de=>de?st.resolve():t.put({targetId:0,path:Ks($),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>st.waitFor(h))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Sy});const o=t.store("collectionParents"),u=new ga,h=y=>{if(u.add(y)){const S=y.lastSegment(),$=y.popLast();return o.put({collectionId:S,parent:Ks($)})}};return t.store("remoteDocuments").Wt({jt:!0},(y,S)=>{const $=new hr(y);return h($.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([y,S,$],Z)=>{const de=Fa(S);return h(de.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((o,u)=>{const h=Wd(u),y=cf(this.M,h);return t.put(y)})}Jn(e,t){const o=t.store("remoteDocuments"),u=[];return o.Wt((h,y)=>{const S=t.store("remoteDocumentsV14"),$=(Z=y,Z.document?new kt(hr.fromString(Z.document.name).popFirst(5)):Z.noDocument?kt.fromSegments(Z.noDocument.path):Z.unknownDocument?kt.fromSegments(Z.unknownDocument.path):M()).path.toArray();var Z;const de={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};u.push(S.put(de))}).next(()=>st.waitFor(u))}}function zy(i){i.createObjectStore("targetDocuments",{keyPath:Ty}).createIndex("documentTargetsIndex",Ay,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rf,{unique:!0}),i.createObjectStore("targetGlobal")}const Cu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zc{constructor(e,t,o,u,h,y,S,$,Z,de,be=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Yn=h,this.window=y,this.document=S,this.Xn=Z,this.Zn=de,this.ts=be,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=et=>Promise.resolve(),!zc.vt())throw new me(J.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new By(this,u),this.hs=t+"main",this.M=new ng($),this.ls=new ia(this.hs,this.ts,new $v(this.M)),this.fs=new Uy(this.referenceDelegate,this.M),this.ds=new jv(this.M),this._s=new Ny,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===de&&T("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new me(J.FAILED_PRECONDITION,Cu);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new fi(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var o=(0,Ee.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Ee.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(sl(e))return yt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return yt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Wc(e).get("owner").next(t=>st.resolve(this.bs(t)))}Vs(e){return qc(e).delete(this.clientId)}vs(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Zs(o,"clientMetadata");return u.qt().next(h=>{const y=e.Ds(h,18e5),S=h.filter($=>-1===y.indexOf($));return st.forEach(S,$=>u.delete($.clientId)).next(()=>S)})}).catch(()=>[]);if(e.ws)for(const o of t)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?st.resolve(!0):Wc(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new me(J.FAILED_PRECONDITION,Cu);return!1}}return!(!this.networkEnabled||!this.inForeground)||qc(e).qt().next(o=>void 0===this.Ds(o,5e3).find(u=>{if(this.clientId!==u.clientId){const y=!this.inForeground&&u.inForeground,S=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||y&&S)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&yt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Vc(t,fi.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(o=>this.Ss(o.updateTimeMs,t)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>qc(e).qt().next(t=>this.Ds(t,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return ec.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Vy(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Kd.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,o){yt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",h=14===(y=this.ts)?eg:13===y?af:12===y?Ry:11===y?Xp:void M();var y;let S;return this.ls.runTransaction(e,u,h,$=>(S=new Vc($,this.es?this.es.next():fi.A),"readwrite-primary"===t?this.Es(S).next(Z=>!!Z||this.As(S)).next(Z=>{if(!Z)throw T(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new me(J.FAILED_PRECONDITION,il);return o(S)}).next(Z=>this.Ps(S).next(()=>Z)):this.$s(S).next(()=>o(S)))).then($=>(S.raiseOnCommittedEvent(),$))}$s(e){return Wc(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new me(J.FAILED_PRECONDITION,Cu)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wc(e).put("owner",t)}static vt(){return ia.vt()}Rs(e){const t=Wc(e);return t.get("owner").next(o=>this.bs(o)?(yt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):st.resolve())}Ss(e,t){const o=Date.now();return!(e<o-t||e>o&&(T(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,E.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const o=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return yt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return T("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){T("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wc(i){return Zs(i,"owner")}function qc(i){return Zs(i,"clientMetadata")}function Kc(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class gg{constructor(e,t,o){this.ds=e,this.Bs=t,this.indexManager=o}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Us(e,t,o))}Us(e,t,o){return this.ds.getEntry(e,t).next(u=>{for(const h of o)h.applyToLocalView(u);return u})}qs(e,t){e.forEach((o,u)=>{for(const h of t)h.applyToLocalView(u)})}Ks(e,t){return this.ds.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.qs(t,o))}Qs(e,t,o){return kt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.js(e,t.path):Uu(t)?this.Ws(e,t,o):this.zs(e,t,o);var u}js(e,t){return this.Ls(e,new kt(t)).next(o=>{let u=kp();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Ws(e,t,o){const u=t.collectionGroup;let h=kp();return this.indexManager.getCollectionParents(e,u).next(y=>st.forEach(y,S=>{const $=(Z=t,de=S.child(u),new gn(de,null,Z.explicitOrderBy.slice(),Z.filters.slice(),Z.limit,Z.limitType,Z.startAt,Z.endAt));var Z,de;return this.zs(e,$,o).next(Z=>{Z.forEach((de,be)=>{h=h.insert(de,be)})})}).next(()=>h))}zs(e,t,o){let u;return this.ds.getAllFromCollection(e,t.path,o).next(h=>(u=h,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(h=>{for(const y of h)for(const S of y.mutations){const $=S.key;let Z=u.get($);null==Z&&(Z=c.newInvalidDocument($),u=u.insert($,Z)),ou(S,Z,y.localWriteTime),Z.isFoundDocument()||(u=u.remove($))}}).next(()=>(u.forEach((h,y)=>{Ac(t,y)||(u=u.remove(h))}),u))}}class Zc{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Hs=o,this.Js=u}static Ys(e,t){let o=$r(),u=$r();for(const h of t.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Zc(e,t.fromCache,o,u)}}class mg{Xs(e){this.Zs=e}Qs(e,t,o,u){return 0===(h=t).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual(xn.min())?this.ti(e,t):this.Zs.Ks(e,u).next(h=>{const y=this.ei(t,h);return(_o(t)||Ws(t))&&this.ni(t.limitType,y,u,o)?this.ti(e,t):(Rs()<=fe.in.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ru(t)),this.Zs.Qs(e,t,re(o,-1)).next(S=>(y.forEach($=>{S=S.insert($.key,$)}),S)))});var h}ei(e,t){let o=new Vi(iu(e));return t.forEach((u,h)=>{Ac(e,h)&&(o=o.add(h))}),o}ni(e,t,o,u){if(o.size!==t.size)return!0;const h="F"===e?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}ti(e,t){return Rs()<=fe.in.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",ru(t)),this.Zs.Qs(e,t,Ye.min())}}class dl{constructor(e,t,o,u){this.persistence=e,this.si=t,this.M=u,this.ii=new Cs(Mn),this.ri=new Si(h=>En(h),An),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(o)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new gg(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function gf(i,e,t,o){return new dl(i,e,t,o)}function yg(i,e){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,Ee.Z)(function*(i,e){const t=ee(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.Bs.getAllMutationBatches(o).next(h=>(u=h,t.ai(e),t.Bs.getAllMutationBatches(o))).next(h=>{const y=[],S=[];let $=$r();for(const Z of u){y.push(Z.batchId);for(const de of Z.mutations)$=$.add(de.key)}for(const Z of h){S.push(Z.batchId);for(const de of Z.mutations)$=$.add(de.key)}return t.ci.Ks(o,$).next(Z=>({hi:Z,removedBatchIds:y,addedBatchIds:S}))})})}),Yc.apply(this,arguments)}function Wy(i,e){const t=ee(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),h=t.ui.newChangeBuffer({trackRemovals:!0});return function(y,S,$,Z){const de=$.batch,be=de.keys();let et=st.resolve();return be.forEach(_t=>{et=et.next(()=>Z.getEntry(S,_t)).next(wt=>{const Kt=$.docVersions.get(_t);L(null!==Kt),wt.version.compareTo(Kt)<0&&(de.applyToRemoteDocument(wt,$),wt.isValidDocument()&&(wt.setReadTime($.commitVersion),Z.addEntry(wt)))})}),et.next(()=>y.Bs.removeMutationBatch(S,de))}(t,o,e,h).next(()=>h.apply(o)).next(()=>t.Bs.performConsistencyCheck(o)).next(()=>t.ci.Ks(o,u))})}function mf(i){const e=ee(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function qy(i,e){const t=ee(i),o=e.snapshotVersion;let u=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const y=t.ui.newChangeBuffer({trackRemovals:!0});u=t.ii;const S=[];e.targetChanges.forEach((Z,de)=>{const be=u.get(de);if(!be)return;S.push(t.fs.removeMatchingKeys(h,Z.removedDocuments,de).next(()=>t.fs.addMatchingKeys(h,Z.addedDocuments,de)));let et=be.withSequenceNumber(h.currentSequenceNumber);var _t,wt,Kt;e.targetMismatches.has(de)?et=et.withResumeToken(ii.EMPTY_BYTE_STRING,xn.min()).withLastLimboFreeSnapshotVersion(xn.min()):Z.resumeToken.approximateByteSize()>0&&(et=et.withResumeToken(Z.resumeToken,o)),u=u.insert(de,et),wt=et,Kt=Z,(0===(_t=be).resumeToken.approximateByteSize()||wt.snapshotVersion.toMicroseconds()-_t.snapshotVersion.toMicroseconds()>=3e8||Kt.addedDocuments.size+Kt.modifiedDocuments.size+Kt.removedDocuments.size>0)&&S.push(t.fs.updateTargetData(h,et))});let $=ka();if(e.documentUpdates.forEach(Z=>{e.resolvedLimboDocuments.has(Z)&&S.push(t.persistence.referenceDelegate.updateLimboDocument(h,Z))}),S.push(_g(h,y,e.documentUpdates).next(Z=>{$=Z})),!o.isEqual(xn.min())){const Z=t.fs.getLastRemoteSnapshotVersion(h).next(de=>t.fs.setTargetsMetadata(h,h.currentSequenceNumber,o));S.push(Z)}return st.waitFor(S).next(()=>y.apply(h)).next(()=>t.ci.Gs(h,$)).next(()=>$)}).then(h=>(t.ii=u,h))}function _g(i,e,t){let o=$r();return t.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let h=ka();return t.forEach((y,S)=>{const $=u.get(y);S.isNoDocument()&&S.version.isEqual(xn.min())?(e.removeEntry(y,S.readTime),h=h.insert(y,S)):!$.isValidDocument()||S.version.compareTo($.version)>0||0===S.version.compareTo($.version)&&$.hasPendingWrites?(e.addEntry(S),h=h.insert(y,S)):yt("LocalStore","Ignoring outdated watch update for ",y,". Current version:",$.version," Watch version:",S.version)}),h})}function Qc(i,e){const t=ee(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(o,e)))}function au(i,e){const t=ee(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.fs.getTargetData(o,e).next(h=>h?(u=h,st.resolve(u)):t.fs.allocateTargetId(o).next(y=>(u=new La(e,y,0,o.currentSequenceNumber),t.fs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.ii.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.ii=t.ii.insert(o.targetId,o),t.ri.set(e,o.targetId)),o})}function hl(i,e,t){return fl.apply(this,arguments)}function fl(){return fl=(0,Ee.Z)(function*(i,e,t){const o=ee(i),u=o.ii.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",h,y=>o.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!sl(y))throw y;yt("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}o.ii=o.ii.remove(e),o.ri.delete(u.target)}),fl.apply(this,arguments)}function pl(i,e,t){const o=ee(i);let u=xn.min(),h=$r();return o.persistence.runTransaction("Execute query","readonly",y=>function(S,$,Z){const de=ee(S),be=de.ri.get(Z);return void 0!==be?st.resolve(de.ii.get(be)):de.fs.getTargetData($,Z)}(o,y,Yr(e)).next(S=>{if(S)return u=S.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(y,S.targetId).next($=>{h=$})}).next(()=>o.si.Qs(y,e,t?u:xn.min(),t?h:$r())).next(S=>(yf(o,zl(e),S),{documents:S,li:h})))}function Nl(i,e){const t=ee(i),o=ee(t.fs),u=t.ii.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",h=>o.Et(h,e).next(y=>y?y.target:null))}function vg(i,e){const t=ee(i),o=t.oi.get(e)||xn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.ui.getAllFromCollectionGroup(u,e,re(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(yf(t,e,u),u))}function yf(i,e,t){let o=xn.min();t.forEach((u,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),i.oi.set(e,o)}function Jc(){return Jc=(0,Ee.Z)(function*(i,e,t,o){const u=ee(i);let h=$r(),y=ka();for(const Z of t){const de=e.fi(Z.metadata.name);Z.document&&(h=h.add(de));const be=e.di(Z);be.setReadTime(e._i(Z.metadata.readTime)),y=y.insert(de,be)}const S=u.ui.newChangeBuffer({trackRemovals:!0}),$=yield au(u,(Z=o,Yr(si(hr.fromString(`__bundle__/docs/${Z}`)))));var Z;return u.persistence.runTransaction("Apply bundle documents","readwrite",Z=>_g(Z,S,y).next(de=>(S.apply(Z),de)).next(de=>u.fs.removeMatchingKeysForTargetId(Z,$.targetId).next(()=>u.fs.addMatchingKeys(Z,h,$.targetId)).next(()=>u.ci.Gs(Z,de)).next(()=>de)))}),Jc.apply(this,arguments)}function _f(i,e){return eh.apply(this,arguments)}function eh(){return eh=(0,Ee.Z)(function*(i,e,t=$r()){const o=yield au(i,Yr(df(e.bundledQuery))),u=ee(i);return u.persistence.runTransaction("Save named query","readwrite",h=>{const y=Us(e.readTime);if(o.snapshotVersion.compareTo(y)>=0)return u._s.saveNamedQuery(h,e);const S=o.withResumeToken(ii.EMPTY_BYTE_STRING,y);return u.ii=u.ii.insert(S.targetId,S),u.fs.updateTargetData(h,S).next(()=>u.fs.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>u.fs.addMatchingKeys(h,t,o.targetId)).next(()=>u._s.saveNamedQuery(h,e))})}),eh.apply(this,arguments)}class th{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return st.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var o;return this.wi.set(t.id,{id:(o=t).id,version:o.version,createTime:Us(o.createTime)}),st.resolve()}getNamedQuery(e,t){return st.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(o=t).name,query:df(o.bundledQuery),readTime:Us(o.readTime)}),st.resolve();var o}}class Ky{constructor(){this.overlays=new Cs(kt.comparator),this.gi=new Map}getOverlay(e,t){return st.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((u,h)=>{this.Xt(e,t,h)}),st.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.gi.get(o);return void 0!==u&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.gi.delete(o)),st.resolve()}getOverlaysForCollection(e,t,o){const u=jd(),h=t.length+1,y=new kt(t.child("")),S=this.overlays.getIteratorFrom(y);for(;S.hasNext();){const $=S.getNext().value,Z=$.getKey();if(!t.isPrefixOf(Z.path))break;Z.path.length===h&&$.largestBatchId>o&&u.set($.getKey(),$)}return st.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let h=new Cs((Z,de)=>Z-de);const y=this.overlays.getIterator();for(;y.hasNext();){const Z=y.getNext().value;if(Z.getKey().getCollectionGroup()===t&&Z.largestBatchId>o){let de=h.get(Z.largestBatchId);null===de&&(de=jd(),h=h.insert(Z.largestBatchId,de)),de.set(Z.getKey(),Z)}}const S=jd(),$=h.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((Z,de)=>S.set(Z,de)),!(S.size()>=u)););return st.resolve(S)}Xt(e,t,o){if(null===o)return;const u=this.overlays.get(o.key);if(null!==u){const y=this.gi.get(u.largestBatchId).delete(o.key);this.gi.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(o.key,new Bc(t,o));let h=this.gi.get(t);void 0===h&&(h=$r(),this.gi.set(t,h)),this.gi.set(t,h.add(o.key))}}class nh{constructor(){this.yi=new Vi(Eo.pi),this.Ii=new Vi(Eo.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const o=new Eo(e,t);this.yi=this.yi.add(o),this.Ii=this.Ii.add(o)}Ei(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Ai(new Eo(e,t))}Ri(e,t){e.forEach(o=>this.removeReference(o,t))}Pi(e){const t=new kt(new hr([])),o=new Eo(t,e),u=new Eo(t,e+1),h=[];return this.Ii.forEachInRange([o,u],y=>{this.Ai(y),h.push(y.key)}),h}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new kt(new hr([])),o=new Eo(t,e),u=new Eo(t,e+1);let h=$r();return this.Ii.forEachInRange([o,u],y=>{h=h.add(y.key)}),h}containsKey(e){const t=new Eo(e,0),o=this.yi.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Eo{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return kt.comparator(e.key,t.key)||Mn(e.vi,t.vi)}static Ti(e,t){return Mn(e.vi,t.vi)||kt.comparator(e.key,t.key)}}class wg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new Vi(Eo.pi)}checkEmpty(e){return st.resolve(0===this.Bs.length)}addMutationBatch(e,t,o,u){const h=this.Si;this.Si++;const y=new Uc(h,t,o,u);this.Bs.push(y);for(const S of u)this.Di=this.Di.add(new Eo(S.key,h)),this.indexManager.addToCollectionParentIndex(e,S.key.path.popLast());return st.resolve(y)}lookupMutationBatch(e,t){return st.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.xi(t+1),h=u<0?0:u;return st.resolve(this.Bs.length>h?this.Bs[h]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return st.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Eo(t,0),u=new Eo(t,Number.POSITIVE_INFINITY),h=[];return this.Di.forEachInRange([o,u],y=>{const S=this.Ci(y.vi);h.push(S)}),st.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Vi(Mn);return t.forEach(u=>{const h=new Eo(u,0),y=new Eo(u,Number.POSITIVE_INFINITY);this.Di.forEachInRange([h,y],S=>{o=o.add(S.vi)})}),st.resolve(this.Ni(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let h=o;kt.isDocumentKey(h)||(h=h.child(""));const y=new Eo(new kt(h),0);let S=new Vi(Mn);return this.Di.forEachWhile($=>{const Z=$.key.path;return!!o.isPrefixOf(Z)&&(Z.length===u&&(S=S.add($.vi)),!0)},y),st.resolve(this.Ni(S))}Ni(e){const t=[];return e.forEach(o=>{const u=this.Ci(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){L(0===this.ki(t.batchId,"removed")),this.Bs.shift();let o=this.Di;return st.forEach(t.mutations,u=>{const h=new Eo(u.key,t.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Di=o})}_n(e){}containsKey(e,t){const o=new Eo(t,0),u=this.Di.firstAfterOrEqual(o);return st.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return st.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class bg{constructor(e){this.Mi=e,this.docs=new Cs(kt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),h=u?u.size:0,y=this.Mi(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:y}),this.size+=y-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return st.resolve(o?o.document.mutableCopy():c.newInvalidDocument(t))}getEntries(e,t){let o=ka();return t.forEach(u=>{const h=this.docs.get(u);o=o.insert(u,h?h.document.mutableCopy():c.newInvalidDocument(u))}),st.resolve(o)}getAllFromCollection(e,t,o){let u=ka();const h=new kt(t.child("")),y=this.docs.getIteratorFrom(h);for(;y.hasNext();){const{key:S,value:{document:$}}=y.getNext();if(!t.isPrefixOf(S.path))break;S.path.length>t.length+1||jt(Re($),o)<=0||(u=u.insert($.key,$.mutableCopy()))}return st.resolve(u)}getAllFromCollectionGroup(e,t,o,u){M()}Oi(e,t){return st.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Zy(this)}getSize(e){return st.resolve(this.size)}}class Zy extends jy{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Kn.addEntry(e,u)):this.Kn.removeEntry(o)}),st.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class Ig{constructor(e){this.persistence=e,this.Fi=new Si(t=>En(t),An),this.lastRemoteSnapshotVersion=xn.min(),this.highestTargetId=0,this.$i=0,this.Bi=new nh,this.targetCount=0,this.Li=tc.gn()}forEachTarget(e,t){return this.Fi.forEach((o,u)=>t(u)),st.resolve()}getLastRemoteSnapshotVersion(e){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return st.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.$i&&(this.$i=t),st.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new tc(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,st.resolve()}updateTargetData(e,t){return this.Tn(t),st.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,st.resolve()}removeTargets(e,t,o){let u=0;const h=[];return this.Fi.forEach((y,S)=>{S.sequenceNumber<=t&&null===o.get(S.targetId)&&(this.Fi.delete(y),h.push(this.removeMatchingKeysForTargetId(e,S.targetId)),u++)}),st.waitFor(h).next(()=>u)}getTargetCount(e){return st.resolve(this.targetCount)}getTargetData(e,t){const o=this.Fi.get(t)||null;return st.resolve(o)}addMatchingKeys(e,t,o){return this.Bi.Ei(t,o),st.resolve()}removeMatchingKeys(e,t,o){this.Bi.Ri(t,o);const u=this.persistence.referenceDelegate,h=[];return u&&t.forEach(y=>{h.push(u.markPotentiallyOrphaned(e,y))}),st.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),st.resolve()}getMatchingKeysForTargetId(e,t){const o=this.Bi.Vi(t);return st.resolve(o)}containsKey(e,t){return st.resolve(this.Bi.containsKey(t))}}class Yy{constructor(e,t){this.Ui={},this.overlays={},this.es=new fi(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Ig(this),this.indexManager=new Zd,this.ds=new bg(o=>this.referenceDelegate.qi(o)),this.M=new ng(t),this._s=new th(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ky,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ui[e.toKey()];return o||(o=new wg(t,this.referenceDelegate),this.Ui[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,o){yt("MemoryPersistence","Starting transaction:",e);const u=new Qy(this.es.next());return this.referenceDelegate.Ki(),o(u).next(h=>this.referenceDelegate.Gi(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Qi(e,t){return st.or(Object.values(this.Ui).map(o=>()=>o.containsKey(e,t)))}}class Qy extends uf{constructor(e){super(),this.currentSequenceNumber=e}}class qo{constructor(e){this.persistence=e,this.ji=new nh,this.Wi=null}static zi(e){return new qo(e)}get Hi(){if(this.Wi)return this.Wi;throw M()}addReference(e,t,o){return this.ji.addReference(o,t),this.Hi.delete(o.toString()),st.resolve()}removeReference(e,t,o){return this.ji.removeReference(o,t),this.Hi.add(o.toString()),st.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),st.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(u=>this.Hi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(h=>this.Hi.add(h.toString()))}).next(()=>o.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.Hi,o=>{const u=kt.fromPath(o);return this.Ji(e,u).next(h=>{h||t.removeEntry(u,xn.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(o=>{o?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return st.or([()=>st.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function Dg(i,e){return`firestore_clients_${i}_${e}`}function Cg(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Tg(i,e){return`firestore_targets_${i}_${e}`}class vf{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Yi(e,t,o){const u=JSON.parse(o);let h,y="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return y&&u.error&&(y="string"==typeof u.error.message&&"string"==typeof u.error.code,y&&(h=new me(u.error.code,u.error.message))),y?new vf(e,t,u.state,h):(T("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sc{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Yi(e,t){const o=JSON.parse(t);let u,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new me(o.error.code,o.error.message))),h?new sc(e,o.state,u):(T("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ef{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,h=Pc();for(let y=0;u&&y<o.activeTargetIds.length;++y)u=ku(o.activeTargetIds[y]),h=h.add(o.activeTargetIds[y]);return u?new Ef(e,h):(T("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class wf{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new wf(t.clientId,t.onlineState):(T("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Xc{constructor(){this.activeTargetIds=Pc()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rh{constructor(e,t,o,u,h){this.window=e,this.Yn=t,this.persistenceKey=o,this.er=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Cs(Mn),this.started=!1,this.rr=[];const y=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.ur=Dg(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Xc),this.cr=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.Fs();for(const u of t){if(u===e.er)continue;const h=e.getItem(Dg(e.persistenceKey,u));if(h){const y=Ef.Yi(u,h);y&&(e.ir=e.ir.insert(y.clientId,y))}}e.wr();const o=e.storage.getItem(e.dr);if(o){const u=e.mr(o);u&&e.gr(u)}for(const u of e.rr)e.sr(u);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,o){this.pr(e,t,o),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Tg(this.persistenceKey,e));if(o){const u=sc.Yi(e,o);u&&(t=u.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Tg(this.persistenceKey,e))}updateQueryState(e,t,o){this.Er(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Ir(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return yt("SharedClientState","READ",e,t),t}setItem(e,t){yt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){yt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(yt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ur)return void T("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==o.key)if(t.cr.test(o.key)){if(null==o.newValue){const u=t.Pr(o.key);return t.br(u,null)}{const u=t.Vr(o.key,o.newValue);if(u)return t.br(u.clientId,u)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const u=t.vr(o.key,o.newValue);if(u)return t.Sr(u)}}else if(t.lr.test(o.key)){if(null!==o.newValue){const u=t.Dr(o.key,o.newValue);if(u)return t.Cr(u)}}else if(o.key===t.dr){if(null!==o.newValue){const u=t.mr(o.newValue);if(u)return t.gr(u)}}else if(o.key===t.ar){const u=function(h){let y=fi.A;if(null!=h)try{const S=JSON.parse(h);L("number"==typeof S),y=S}catch(S){T("SharedClientState","Failed to read sequence number from WebStorage",S)}return y}(o.newValue);u!==fi.A&&t.sequenceNumberHandler(u)}else if(o.key===t._r){const u=t.Nr(o.newValue);yield Promise.all(u.map(h=>t.syncEngine.kr(h)))}}else t.rr.push(o)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,o){const u=new vf(this.currentUser,e,t,o),h=Cg(this.persistenceKey,this.currentUser,e);this.setItem(h,u.Xi())}Ir(e){const t=Cg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,o){const u=Tg(this.persistenceKey,e),h=new sc(e,t,o);this.setItem(u,h.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const o=this.Pr(e);return Ef.Yi(o,t)}vr(e,t){const o=this.hr.exec(e),u=Number(o[1]);return vf.Yi(new ei(void 0!==o[2]?o[2]:null),u,t)}Dr(e,t){const o=this.lr.exec(e),u=Number(o[1]);return sc.Yi(u,t)}mr(e){return wf.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);yt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const o=t?this.ir.insert(e,t):this.ir.remove(e),u=this.yr(this.ir),h=this.yr(o),y=[],S=[];return h.forEach($=>{u.has($)||y.push($)}),u.forEach($=>{h.has($)||S.push($)}),this.syncEngine.Fr(y,S).then(()=>{this.ir=o})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=Pc();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class Ag{constructor(){this.$r=new Xc,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,o){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Xc,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Jy{Lr(e){}shutdown(){}}class Sg{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){yt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){yt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Mg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Xy{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class xg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,o,u,h){const y=this.uo(e,t);yt("RestConnection","Sending: ",y,o);const S={};return this.ao(S,u,h),this.co(e,y,S,o).then($=>(yt("RestConnection","Received: ",$),$),$=>{throw D("RestConnection",`${e} failed with error: `,$,"url: ",y,"request:",o),$})}ho(e,t,o,u,h){return this.oo(e,t,o,u,h)}ao(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+po,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,h)=>e[h]=u),o&&o.headers.forEach((u,h)=>e[h]=u)}uo(e,t){return`${this.io}/v1/${t}:${Mg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,o,u){return new Promise((h,y)=>{const S=new Ya;S.listenOnce(Za.COMPLETE,()=>{try{switch(S.getLastErrorCode()){case ao.NO_ERROR:const Z=S.getResponseJson();yt("Connection","XHR received:",JSON.stringify(Z)),h(Z);break;case ao.TIMEOUT:yt("Connection",'RPC "'+e+'" timed out'),y(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case ao.HTTP_ERROR:const de=S.getStatus();if(yt("Connection",'RPC "'+e+'" failed with status:',de,"response text:",S.getResponseText()),de>0){const be=S.getResponseJson().error;if(be&&be.status&&be.message){const et=function(_t){const wt=_t.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(wt)>=0?wt:J.UNKNOWN}(be.status);y(new me(et,be.message))}else y(new me(J.UNKNOWN,"Server responded with status "+S.getStatus()))}else y(new me(J.UNAVAILABLE,"Connection failed."));break;default:M()}}finally{yt("Connection",'RPC "'+e+'" completed.')}});const $=JSON.stringify(u);S.send(t,"POST",$,o,15)})}lo(e,t,o){const u=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ta(),y=Di(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new fo({})),this.ao(S.initMessageHeaders,t,o),(0,E.uI)()||(0,E.b$)()||(0,E.d)()||(0,E.w1)()||(0,E.Mn)()||(0,E.ru)()||(S.httpHeadersOverwriteParam="$httpHeaders");const $=u.join("");yt("Connection","Creating WebChannel: "+$,S);const Z=h.createWebChannel($,S);let de=!1,be=!1;const et=new Xy({Wr:wt=>{be?yt("Connection","Not sending because WebChannel is closed:",wt):(de||(yt("Connection","Opening WebChannel transport."),Z.open(),de=!0),yt("Connection","WebChannel sending:",wt),Z.send(wt))},zr:()=>Z.close()}),_t=(wt,Kt,Qn)=>{wt.listen(Kt,Wi=>{try{Qn(Wi)}catch(Ts){setTimeout(()=>{throw Ts},0)}})};return _t(Z,Aa.EventType.OPEN,()=>{be||yt("Connection","WebChannel transport opened.")}),_t(Z,Aa.EventType.CLOSE,()=>{be||(be=!0,yt("Connection","WebChannel transport closed"),et.no())}),_t(Z,Aa.EventType.ERROR,wt=>{be||(be=!0,D("Connection","WebChannel transport errored:",wt),et.no(new me(J.UNAVAILABLE,"The operation could not be completed")))}),_t(Z,Aa.EventType.MESSAGE,wt=>{var Kt;if(!be){const Qn=wt.data[0];L(!!Qn);const Wi=Qn,Ts=Wi.error||(null===(Kt=Wi[0])||void 0===Kt?void 0:Kt.error);if(Ts){yt("Connection","WebChannel received error:",Ts);const yi=Ts.status;let Bs=function(ls){const ko=Ai[ls];if(void 0!==ko)return Pp(ko)}(yi),Ui=Ts.message;void 0===Bs&&(Bs=J.INTERNAL,Ui="Unknown error status: "+yi+" with message "+Ts.message),be=!0,et.no(new me(Bs,Ui)),Z.close()}else yt("Connection","WebChannel received:",Qn),et.so(Qn)}}),_t(y,xo.STAT_EVENT,wt=>{wt.stat===Oo.PROXY?yt("Connection","Detected buffering proxy"):wt.stat===Oo.NOPROXY&&yt("Connection","Detected no buffering proxy")}),setTimeout(()=>{et.eo()},0),et}}function Og(){return"undefined"!=typeof window?window:null}function ih(){return"undefined"!=typeof document?document:null}function oc(i){return new yy(i,!0)}class sh{constructor(e,t,o=1e3,u=1.5,h=6e4){this.Yn=e,this.timerId=t,this.fo=o,this._o=u,this.wo=h,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),o=Math.max(0,Date.now()-this.po),u=Math.max(0,t-o);u>0&&yt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,u,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class Rg{constructor(e,t,o,u,h,y,S,$){this.Yn=e,this.Ro=o,this.Po=u,this.bo=h,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=S,this.listener=$,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new sh(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Ee.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Ee.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var o=this;return(0,Ee.Z)(function*(){o.$o(),o.Bo(),o.Do.cancel(),o.Vo++,4!==e?o.Do.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(T(t.toString()),T("Using maximum backoff delay to prevent overloading the backend."),o.Do.Io()):t&&t.code===J.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Lo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Vo===t&&this.qo(o,u)},o=>{e(()=>{const u=new me(J.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Ko(u)})})}qo(e,t){const o=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{o(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(u=>{o(()=>this.Ko(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}No(){var e=this;this.state=5,this.Do.To((0,Ee.Z)(function*(){e.state=0,e.start()}))}Ko(e){return yt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(yt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tu extends Rg{constructor(e,t,o,u,h,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,y),this.M=h}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function Ey(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:M(),u=e.targetChange.targetIds||[],h=function($,Z){return $.N?(L(void 0===Z||"string"==typeof Z),ii.fromBase64String(Z||"")):(L(void 0===Z||Z instanceof Uint8Array),ii.fromUint8Array(Z||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,S=y&&function($){const Z=void 0===$.code?J.UNKNOWN:Pp($.code);return new me(Z,$.message||"")}(y);t=new Vp(o,u,h,S||null)}else if("documentChange"in e){const o=e.documentChange,u=bu(i,o.document.name),h=Us(o.document.updateTime),y=new ae({mapValue:{fields:o.document.fields}}),S=c.newFoundDocument(u,h,y);t=new Zl(o.targetIds||[],o.removedTargetIds||[],S.key,S)}else if("documentDelete"in e){const o=e.documentDelete,u=bu(i,o.document),h=o.readTime?Us(o.readTime):xn.min(),y=c.newNoDocument(u,h);t=new Zl([],o.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const o=e.documentRemove,u=bu(i,o.document);t=new Zl([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return M();{const o=e.filter,h=new Vd(o.count||0);t=new Lp(o.targetId,h)}}var $;return t}(this.M,e),o=function(u){if(!("targetChange"in u))return xn.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?xn.min():h.readTime?Us(h.readTime):xn.min()}(e);return this.listener.Qo(t,o)}jo(e){const t={};t.database=Nc(this.M),t.addTarget=function(u,h){let y;const S=h.target;return y=xr(S)?{documents:Wp(u,S)}:{query:qp(u,S)},y.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?y.resumeToken=jp(u,h.resumeToken):h.snapshotVersion.compareTo(xn.min())>0&&(y.readTime=Ml(u,h.snapshotVersion.toTimestamp())),y}(this.M,e);const o=function Iu(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return M()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Fo(t)}Wo(e){const t={};t.database=Nc(this.M),t.removeTarget=e,this.Fo(t)}}class bf extends Rg{constructor(e,t,o,u,h,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,y),this.M=h,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(L(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function wy(i,e){return i&&i.length>0?(L(void 0!==e),i.map(t=>function(o,u){let h=Us(o.updateTime?o.updateTime:u);return h.isEqual(xn.min())&&(h=Us(u)),new sn(h,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Us(e.commitTime);return this.listener.Yo(o,t)}return L(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Nc(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>kc(this.M,o))};this.Fo(t)}}class e_ extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.M=u,this.tu=!1}eu(){if(this.tu)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.bo.oo(e,t,o,u,h)).catch(u=>{throw"FirebaseError"===u.name?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(J.UNKNOWN,u.toString())})}ho(e,t,o){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.bo.ho(e,t,o,u,h)).catch(u=>{throw"FirebaseError"===u.name?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(J.UNKNOWN,u.toString())})}terminate(){this.tu=!0}}class t_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(T(t),this.iu=!1):yt("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Gv{constructor(e,t,o,u,h){var y=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=h,this._u.Lr(S=>{o.enqueueAndForget((0,Ee.Z)(function*(){var $;Au(y)&&(yt("RemoteStore","Restarting streams for network reachability change."),yield($=(0,Ee.Z)(function*(Z){const de=ee(Z);de.fu.add(4),yield uc(de),de.wu.set("Unknown"),de.fu.delete(4),yield ac(de)}),function(Z){return $.apply(this,arguments)})(y))}))}),this.wu=new t_(o,u)}}function ac(i){return If.apply(this,arguments)}function If(){return If=(0,Ee.Z)(function*(i){if(Au(i))for(const e of i.du)yield e(!0)}),If.apply(this,arguments)}function uc(i){return Df.apply(this,arguments)}function Df(){return Df=(0,Ee.Z)(function*(i){for(const e of i.du)yield e(!1)}),Df.apply(this,arguments)}function lc(i,e){const t=ee(i);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),Tf(t)?nd(t):cc(t).xo()&&Cf(t,e))}function ed(i,e){const t=ee(i),o=cc(t);t.lu.delete(e),o.xo()&&td(t,e),0===t.lu.size&&(o.xo()?o.Mo():Au(t)&&t.wu.set("Unknown"))}function Cf(i,e){i.mu.Z(e.targetId),cc(i).jo(e)}function td(i,e){i.mu.Z(e),cc(i).Wo(e)}function nd(i){i.mu=new gy({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.lu.get(e)||null}),cc(i).start(),i.wu.ru()}function Tf(i){return Au(i)&&!cc(i).Co()&&i.lu.size>0}function Au(i){return 0===ee(i).fu.size}function oh(i){i.mu=void 0}function Pg(i){return Af.apply(this,arguments)}function Af(){return Af=(0,Ee.Z)(function*(i){i.lu.forEach((e,t)=>{Cf(i,e)})}),Af.apply(this,arguments)}function n_(i,e){return rd.apply(this,arguments)}function rd(){return rd=(0,Ee.Z)(function*(i,e){oh(i),Tf(i)?(i.wu.au(e),nd(i)):i.wu.set("Unknown")}),rd.apply(this,arguments)}function zv(i,e,t){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,Ee.Z)(function*(i,e,t){if(i.wu.set("Online"),e instanceof Vp&&2===e.state&&e.cause)try{yield(o=(0,Ee.Z)(function*(u,h){const y=h.cause;for(const S of h.targetIds)u.lu.has(S)&&(yield u.remoteSyncer.rejectListen(S,y),u.lu.delete(S),u.mu.removeTarget(S))}),function(u,h){return o.apply(this,arguments)})(i,e)}catch(o){yt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield id(i,o)}else if(e instanceof Zl?i.mu.ut(e):e instanceof Lp?i.mu._t(e):i.mu.ht(e),!t.isEqual(xn.min()))try{const o=yield mf(i.localStore);t.compareTo(o)>=0&&(yield function(u,h){const y=u.mu.yt(h);return y.targetChanges.forEach((S,$)=>{if(S.resumeToken.approximateByteSize()>0){const Z=u.lu.get($);Z&&u.lu.set($,Z.withResumeToken(S.resumeToken,h))}}),y.targetMismatches.forEach(S=>{const $=u.lu.get(S);if(!$)return;u.lu.set(S,$.withResumeToken(ii.EMPTY_BYTE_STRING,$.snapshotVersion)),td(u,S);const Z=new La($.target,S,1,$.sequenceNumber);Cf(u,Z)}),u.remoteSyncer.applyRemoteEvent(y)}(i,t))}catch(o){yt("RemoteStore","Failed to raise snapshot:",o),yield id(i,o)}var o}),Sf.apply(this,arguments)}function id(i,e,t){return ah.apply(this,arguments)}function ah(){return ah=(0,Ee.Z)(function*(i,e,t){if(!sl(e))throw e;i.fu.add(1),yield uc(i),i.wu.set("Offline"),t||(t=()=>mf(i.localStore)),i.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){yt("RemoteStore","Retrying IndexedDB access"),yield t(),i.fu.delete(1),yield ac(i)}))}),ah.apply(this,arguments)}function Mf(i,e){return e().catch(t=>id(i,t,e))}function kl(i){return uh.apply(this,arguments)}function uh(){return uh=(0,Ee.Z)(function*(i){const e=ee(i),t=gl(e);let o=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;zu(e);)try{const u=yield Qc(e.localStore,o);if(null===u){0===e.hu.length&&t.Mo();break}o=u.batchId,lh(e,u)}catch(u){yield id(e,u)}Ng(e)&&kg(e)}),uh.apply(this,arguments)}function zu(i){return Au(i)&&i.hu.length<10}function lh(i,e){i.hu.push(e);const t=gl(i);t.xo()&&t.Ho&&t.Jo(e.mutations)}function Ng(i){return Au(i)&&!gl(i).Co()&&i.hu.length>0}function kg(i){gl(i).start()}function Wv(i){return sd.apply(this,arguments)}function sd(){return sd=(0,Ee.Z)(function*(i){gl(i).Zo()}),sd.apply(this,arguments)}function Fg(i){return od.apply(this,arguments)}function od(){return od=(0,Ee.Z)(function*(i){const e=gl(i);for(const t of i.hu)e.Jo(t.mutations)}),od.apply(this,arguments)}function ad(i,e,t){return xf.apply(this,arguments)}function xf(){return xf=(0,Ee.Z)(function*(i,e,t){const o=i.hu.shift(),u=Gd.from(o,e,t);yield Mf(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield kl(i)}),xf.apply(this,arguments)}function Of(i,e){return ch.apply(this,arguments)}function ch(){return ch=(0,Ee.Z)(function*(i,e){var t;e&&gl(i).Ho&&(yield(t=(0,Ee.Z)(function*(o,u){if(Ud(h=u.code)&&h!==J.ABORTED){const y=o.hu.shift();gl(o).ko(),yield Mf(o,()=>o.remoteSyncer.rejectFailedWrite(y.batchId,u)),yield kl(o)}var h}),function(o,u){return t.apply(this,arguments)})(i,e)),Ng(i)&&kg(i)}),ch.apply(this,arguments)}function Rf(i,e){return dh.apply(this,arguments)}function dh(){return dh=(0,Ee.Z)(function*(i,e){const t=ee(i);t.asyncQueue.verifyOperationInProgress(),yt("RemoteStore","RemoteStore received new credentials");const o=Au(t);t.fu.add(3),yield uc(t),o&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield ac(t)}),dh.apply(this,arguments)}function Pf(i,e){return ud.apply(this,arguments)}function ud(){return ud=(0,Ee.Z)(function*(i,e){const t=ee(i);e?(t.fu.delete(2),yield ac(t)):e||(t.fu.add(2),yield uc(t),t.wu.set("Unknown"))}),ud.apply(this,arguments)}function cc(i){return i.gu||(i.gu=function(e,t,o){const u=ee(e);return u.eu(),new Tu(t,u.bo,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Hr:Pg.bind(null,i),Yr:n_.bind(null,i),Qo:zv.bind(null,i)}),i.du.push(function(){var e=(0,Ee.Z)(function*(t){t?(i.gu.ko(),Tf(i)?nd(i):i.wu.set("Unknown")):(yield i.gu.stop(),oh(i))});return function(t){return e.apply(this,arguments)}}())),i.gu}function gl(i){return i.yu||(i.yu=function(e,t,o){const u=ee(e);return u.eu(),new bf(t,u.bo,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Hr:Wv.bind(null,i),Yr:Of.bind(null,i),Xo:Fg.bind(null,i),Yo:ad.bind(null,i)}),i.du.push(function(){var e=(0,Ee.Z)(function*(t){t?(i.yu.ko(),yield kl(i)):(yield i.yu.stop(),i.hu.length>0&&(yt("RemoteStore",`Stopping write stream with ${i.hu.length} pending writes`),i.hu=[]))});return function(t){return e.apply(this,arguments)}}())),i.yu}class hh{constructor(e,t,o,u,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=h,this.deferred=new bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,t,o,u,h){const y=Date.now()+o,S=new hh(e,t,y,u,h);return S.start(o),S}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uu(i,e){if(T("AsyncQueue",`${e}: ${i}`),sl(i))return new me(J.UNAVAILABLE,`${e}: ${i}`);throw i}class Fl{constructor(e){this.comparator=e?(t,o)=>e(t,o)||kt.comparator(t.key,o.key):(t,o)=>kt.comparator(t.key,o.key),this.keyedMap=kp(),this.sortedSet=new Cs(this.comparator)}static emptySet(e){return new Fl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,h=o.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Fl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Lg{constructor(){this.pu=new Cs(kt.comparator)}track(e){const t=e.doc.key,o=this.pu.get(t);o?0!==e.type&&3===o.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==o.type?this.pu=this.pu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.pu=this.pu.remove(t):1===e.type&&2===o.type?this.pu=this.pu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):M():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,o)=>{e.push(o)}),e}}class dc{constructor(e,t,o,u,h,y,S,$){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=h,this.fromCache=y,this.syncStateChanged=S,this.excludesMetadataChanges=$}static fromInitialDocuments(e,t,o,u){const h=[];return t.forEach(y=>{h.push({type:0,doc:y})}),new dc(e,t,Fl.emptySet(t),h,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&No(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class hc{constructor(){this.Tu=void 0,this.listeners=[]}}class r_{constructor(){this.queries=new Si(e=>Na(e),No),this.onlineState="Unknown",this.Eu=new Set}}function Nf(i,e){return kf.apply(this,arguments)}function kf(){return kf=(0,Ee.Z)(function*(i,e){const t=ee(i),o=e.query;let u=!1,h=t.queries.get(o);if(h||(u=!0,h=new hc),u)try{h.Tu=yield t.onListen(o)}catch(y){const S=uu(y,`Initialization of query '${ru(e.query)}' failed`);return void e.onError(S)}t.queries.set(o,h),h.listeners.push(e),e.Au(t.onlineState),h.Tu&&e.Ru(h.Tu)&&fh(t)}),kf.apply(this,arguments)}function Ff(i,e){return _a.apply(this,arguments)}function _a(){return _a=(0,Ee.Z)(function*(i,e){const t=ee(i),o=e.query;let u=!1;const h=t.queries.get(o);if(h){const y=h.listeners.indexOf(e);y>=0&&(h.listeners.splice(y,1),u=0===h.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),_a.apply(this,arguments)}function Lf(i,e){const t=ee(i);let o=!1;for(const u of e){const y=t.queries.get(u.query);if(y){for(const S of y.listeners)S.Ru(u)&&(o=!0);y.Tu=u}}o&&fh(t)}function Vg(i,e,t){const o=ee(i),u=o.queries.get(e);if(u)for(const h of u.listeners)h.onError(t);o.queries.delete(e)}function fh(i){i.Eu.forEach(e=>{e.next()})}class ph{constructor(e,t,o){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}Ru(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new dc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=dc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class Ug{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class Bg{constructor(e){this.M=e}fi(e){return bu(this.M,e)}di(e){return e.metadata.exists?zp(this.M,e.document,!1):c.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Us(e)}}class i_{constructor(e,t,o){this.Nu=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jg(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=hr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,o=new Bg(this.M);for(const u of e)if(u.metadata.queries){const h=o.fi(u.metadata.name);for(const y of u.metadata.queries){const S=(t.get(y)||$r()).add(h);t.set(y,S)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function Eg(i,e,t,o){return Jc.apply(this,arguments)}(e.localStore,new Bg(e.M),e.documents,e.Nu.id),o=e.Mu(e.documents);for(const u of e.queries)yield _f(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function jg(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Hg{constructor(e){this.key=e}}class Vf{constructor(e){this.key=e}}class s_{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=$r(),this.mutatedKeys=$r(),this.Uu=iu(e),this.qu=new Fl(this.Uu)}get Ku(){return this.$u}Gu(e,t){const o=t?t.Qu:new Lg,u=t?t.qu:this.qu;let h=t?t.mutatedKeys:this.mutatedKeys,y=u,S=!1;const $=_o(this.query)&&u.size===this.query.limit?u.last():null,Z=Ws(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((de,be)=>{const et=u.get(de),_t=Ac(this.query,be)?be:null,wt=!!et&&this.mutatedKeys.has(et.key),Kt=!!_t&&(_t.hasLocalMutations||this.mutatedKeys.has(_t.key)&&_t.hasCommittedMutations);let Qn=!1;et&&_t?et.data.isEqual(_t.data)?wt!==Kt&&(o.track({type:3,doc:_t}),Qn=!0):this.ju(et,_t)||(o.track({type:2,doc:_t}),Qn=!0,($&&this.Uu(_t,$)>0||Z&&this.Uu(_t,Z)<0)&&(S=!0)):!et&&_t?(o.track({type:0,doc:_t}),Qn=!0):et&&!_t&&(o.track({type:1,doc:et}),Qn=!0,($||Z)&&(S=!0)),Qn&&(_t?(y=y.add(_t),h=Kt?h.add(de):h.delete(de)):(y=y.delete(de),h=h.delete(de)))}),_o(this.query)||Ws(this.query))for(;y.size>this.query.limit;){const de=_o(this.query)?y.last():y.first();y=y.delete(de.key),h=h.delete(de.key),o.track({type:1,doc:de})}return{qu:y,Qu:o,ni:S,mutatedKeys:h}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const h=e.Qu.Iu();h.sort((Z,de)=>function(be,et){const _t=wt=>{switch(wt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return M()}};return _t(be)-_t(et)}(Z.type,de.type)||this.Uu(Z.doc,de.doc)),this.Wu(o);const y=t?this.zu():[],S=0===this.Lu.size&&this.current?1:0,$=S!==this.Bu;return this.Bu=S,0!==h.length||$?{snapshot:new dc(this.query,e.qu,u,h,e.mutatedKeys,0===S,$,!1),Hu:y}:{Hu:y}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Lg,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=$r(),this.qu.forEach(o=>{this.Ju(o.key)&&(this.Lu=this.Lu.add(o.key))});const t=[];return e.forEach(o=>{this.Lu.has(o)||t.push(new Vf(o))}),this.Lu.forEach(o=>{e.has(o)||t.push(new Hg(o))}),t}Yu(e){this.$u=e.li,this.Lu=$r();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return dc.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class $g{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class o_{constructor(e){this.key=e,this.Zu=!1}}class a_{constructor(e,t,o,u,h,y){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=y,this.ta={},this.ea=new Si(S=>Na(S),No),this.na=new Map,this.sa=new Set,this.ia=new Cs(kt.comparator),this.ra=new Map,this.oa=new nh,this.ua={},this.aa=new Map,this.ca=tc.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function qv(i,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,Ee.Z)(function*(i,e){const t=vl(i);let o,u;const h=t.ea.get(e);if(h)o=h.targetId,t.sharedClientState.addLocalQueryTarget(o),u=h.view.Xu();else{const y=yield au(t.localStore,Yr(e));t.isPrimaryClient&&lc(t.remoteStore,y);const S=t.sharedClientState.addLocalQueryTarget(y.targetId);o=y.targetId,u=yield ld(t,e,o,"current"===S)}return u}),Gg.apply(this,arguments)}function ld(i,e,t,o){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,Ee.Z)(function*(i,e,t,o){i.la=(de,be,et)=>{return(_t=(0,Ee.Z)(function*(wt,Kt,Qn,Wi){let Ts=Kt.view.Gu(Qn);Ts.ni&&(Ts=yield pl(wt.localStore,Kt.query,!1).then(({documents:Ui})=>Kt.view.Gu(Ui,Ts)));const yi=Wi&&Wi.targetChanges.get(Kt.targetId),Bs=Kt.view.applyChanges(Ts,wt.isPrimaryClient,yi);return $f(wt,Kt.targetId,Bs.Hu),Bs.snapshot}),function(wt,Kt,Qn,Wi){return _t.apply(this,arguments)})(i,de,be,et);var _t};const u=yield pl(i.localStore,e,!0),h=new s_(e,u.li),y=h.Gu(u.documents),S=Hu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),$=h.applyChanges(y,i.isPrimaryClient,S);$f(i,t,$.Hu);const Z=new $g(e,t,h);return i.ea.set(e,Z),i.na.has(t)?i.na.get(t).push(e):i.na.set(t,[e]),$.snapshot}),Uf.apply(this,arguments)}function zg(i,e){return gh.apply(this,arguments)}function gh(){return gh=(0,Ee.Z)(function*(i,e){const t=ee(i),o=t.ea.get(e),u=t.na.get(o.targetId);if(u.length>1)return t.na.set(o.targetId,u.filter(h=>!No(h,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield hl(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),ed(t.remoteStore,o.targetId),fc(t,o.targetId)}).catch(cl))):(fc(t,o.targetId),yield hl(t.localStore,o.targetId,!0))}),gh.apply(this,arguments)}function va(){return va=(0,Ee.Z)(function*(i,e,t){const o=yh(i);try{const u=yield function(h,y){const S=ee(h),$=Zn.now(),Z=y.reduce((be,et)=>be.add(et.key),$r());let de;return S.persistence.runTransaction("Locally write mutations","readwrite",be=>S.ci.Ks(be,Z).next(et=>{de=et;const _t=[];for(const wt of y){const Kt=tl(wt,de.get(wt.key));null!=Kt&&_t.push(new Bu(wt.key,Kt,v(Kt.value.mapValue),qt.exists(!0)))}return S.Bs.addMutationBatch(be,$,_t,y)})).then(be=>(be.applyToLocalDocumentSet(de),{batchId:be.batchId,changes:de}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(h,y,S){let $=h.ua[h.currentUser.toKey()];$||($=new Cs(Mn)),$=$.insert(y,S),h.ua[h.currentUser.toKey()]=$}(o,u.batchId,t),yield sa(o,u.changes),yield kl(o.remoteStore)}catch(u){const h=uu(u,"Failed to persist write");t.reject(h)}}),va.apply(this,arguments)}function u_(i,e){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,Ee.Z)(function*(i,e){const t=ee(i);try{const o=yield qy(t.localStore,e);e.targetChanges.forEach((u,h)=>{const y=t.ra.get(h);y&&(L(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.Zu=!0:u.modifiedDocuments.size>0?L(y.Zu):u.removedDocuments.size>0&&(L(y.Zu),y.Zu=!1))}),yield sa(t,o,e)}catch(o){yield cl(o)}}),Wg.apply(this,arguments)}function Bf(i,e,t){const o=ee(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ea.forEach((h,y)=>{const S=y.view.Au(e);S.snapshot&&u.push(S.snapshot)}),function(h,y){const S=ee(h);S.onlineState=y;let $=!1;S.queries.forEach((Z,de)=>{for(const be of de.listeners)be.Au(y)&&($=!0)}),$&&fh(S)}(o.eventManager,e),u.length&&o.ta.Qo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function qg(i,e,t){return mh.apply(this,arguments)}function mh(){return mh=(0,Ee.Z)(function*(i,e,t){const o=ee(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.ra.get(e),h=u&&u.key;if(h){let y=new Cs(kt.comparator);y=y.insert(h,c.newNoDocument(h,xn.min()));const S=$r().add(h),$=new Vs(xn.min(),new Map,new Vi(Mn),y,S);yield u_(o,$),o.ia=o.ia.remove(h),o.ra.delete(e),pc(o)}else yield hl(o.localStore,e,!1).then(()=>fc(o,e,t)).catch(cl)}),mh.apply(this,arguments)}function l_(i,e){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,Ee.Z)(function*(i,e){const t=ee(i),o=e.batch.batchId;try{const u=yield Wy(t.localStore,e);Hf(t,o,null),jf(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield sa(t,u)}catch(u){yield cl(u)}}),Kg.apply(this,arguments)}function Zg(i,e,t){return cd.apply(this,arguments)}function cd(){return cd=(0,Ee.Z)(function*(i,e,t){const o=ee(i);try{const u=yield function(h,y){const S=ee(h);return S.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let Z;return S.Bs.lookupMutationBatch($,y).next(de=>(L(null!==de),Z=de.keys(),S.Bs.removeMutationBatch($,de))).next(()=>S.Bs.performConsistencyCheck($)).next(()=>S.ci.Ks($,Z))})}(o.localStore,e);Hf(o,e,t),jf(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield sa(o,u)}catch(u){yield cl(u)}}),cd.apply(this,arguments)}function dd(){return dd=(0,Ee.Z)(function*(i,e){const t=ee(i);Au(t.remoteStore)||yt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const y=ee(h);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>y.Bs.getHighestUnacknowledgedBatchId(S))}(t.localStore);if(-1===o)return void e.resolve();const u=t.aa.get(o)||[];u.push(e),t.aa.set(o,u)}catch(o){const u=uu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),dd.apply(this,arguments)}function jf(i,e){(i.aa.get(e)||[]).forEach(t=>{t.resolve()}),i.aa.delete(e)}function Hf(i,e,t){const o=ee(i);let u=o.ua[o.currentUser.toKey()];if(u){const h=u.get(e);h&&(t?h.reject(t):h.resolve(),u=u.remove(e)),o.ua[o.currentUser.toKey()]=u}}function fc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.na.get(e))i.ea.delete(o),t&&i.ta.fa(o,t);i.na.delete(e),i.isPrimaryClient&&i.oa.Pi(e).forEach(o=>{i.oa.containsKey(o)||Yg(i,o)})}function Yg(i,e){i.sa.delete(e.path.canonicalString());const t=i.ia.get(e);null!==t&&(ed(i.remoteStore,t),i.ia=i.ia.remove(e),i.ra.delete(t),pc(i))}function $f(i,e,t){for(const o of t)o instanceof Hg?(i.oa.addReference(o.key,e),d_(i,o)):o instanceof Vf?(yt("SyncEngine","Document no longer in limbo: "+o.key),i.oa.removeReference(o.key,e),i.oa.containsKey(o.key)||Yg(i,o.key)):M()}function d_(i,e){const t=e.key,o=t.path.canonicalString();i.ia.get(t)||i.sa.has(o)||(yt("SyncEngine","New document in limbo: "+t),i.sa.add(o),pc(i))}function pc(i){for(;i.sa.size>0&&i.ia.size<i.maxConcurrentLimboResolutions;){const e=i.sa.values().next().value;i.sa.delete(e);const t=new kt(hr.fromString(e)),o=i.ca.next();i.ra.set(o,new o_(t)),i.ia=i.ia.insert(t,o),lc(i.remoteStore,new La(Yr(si(t.path)),o,2,fi.A))}}function sa(i,e,t){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,Ee.Z)(function*(i,e,t){const o=ee(i),u=[],h=[],y=[];var S;o.ea.isEmpty()||(o.ea.forEach((S,$)=>{y.push(o.la($,e,t).then(Z=>{if(Z){o.isPrimaryClient&&o.sharedClientState.updateQueryState($.targetId,Z.fromCache?"not-current":"current"),u.push(Z);const de=Zc.Ys($.targetId,Z);h.push(de)}}))}),yield Promise.all(y),o.ta.Qo(u),yield(S=(0,Ee.Z)(function*($,Z){const de=ee($);try{yield de.persistence.runTransaction("notifyLocalViewChanges","readwrite",be=>st.forEach(Z,et=>st.forEach(et.Hs,_t=>de.persistence.referenceDelegate.addReference(be,et.targetId,_t)).next(()=>st.forEach(et.Js,_t=>de.persistence.referenceDelegate.removeReference(be,et.targetId,_t)))))}catch(be){if(!sl(be))throw be;yt("LocalStore","Failed to update sequence numbers: "+be)}for(const be of Z){const et=be.targetId;if(!be.fromCache){const _t=de.ii.get(et),Kt=_t.withLastLimboFreeSnapshotVersion(_t.snapshotVersion);de.ii=de.ii.insert(et,Kt)}}}),function($,Z){return S.apply(this,arguments)})(o.localStore,h))}),Gf.apply(this,arguments)}function hd(i,e){return zf.apply(this,arguments)}function zf(){return zf=(0,Ee.Z)(function*(i,e){const t=ee(i);if(!t.currentUser.isEqual(e)){yt("SyncEngine","User change. New user:",e.toKey());const o=yield yg(t.localStore,e);t.currentUser=e,(u=t).aa.forEach(y=>{y.forEach(S=>{S.reject(new me(J.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.aa.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield sa(t,o.hi)}var u}),zf.apply(this,arguments)}function h_(i,e){const t=ee(i),o=t.ra.get(e);if(o&&o.Zu)return $r().add(o.key);{let u=$r();const h=t.na.get(e);if(!h)return u;for(const y of h){const S=t.ea.get(y);u=u.unionWith(S.view.Ku)}return u}}function Wf(i,e){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,Ee.Z)(function*(i,e){const t=ee(i),o=yield pl(t.localStore,e.query,!0),u=e.view.Yu(o);return t.isPrimaryClient&&$f(t,e.targetId,u.Hu),u}),Ua.apply(this,arguments)}function fd(i,e){return co.apply(this,arguments)}function co(){return co=(0,Ee.Z)(function*(i,e){const t=ee(i);return vg(t.localStore,e).then(o=>sa(t,o))}),co.apply(this,arguments)}function Ll(i,e,t,o){return gc.apply(this,arguments)}function gc(){return gc=(0,Ee.Z)(function*(i,e,t,o){const u=ee(i),h=yield function(y,S){const $=ee(y),Z=ee($.Bs);return $.persistence.runTransaction("Lookup mutation documents","readonly",de=>Z.fn(de,S).next(be=>be?$.ci.Ks(de,be):st.resolve(null)))}(u.localStore,e);var S;null!==h?("pending"===t?yield kl(u.remoteStore):"acknowledged"===t||"rejected"===t?(Hf(u,e,o||null),jf(u,e),S=e,ee(ee(u.localStore).Bs)._n(S)):M(),yield sa(u,h)):yt("SyncEngine","Cannot apply mutation batch with id: "+e)}),gc.apply(this,arguments)}function pd(){return pd=(0,Ee.Z)(function*(i,e){const t=ee(i);if(vl(t),yh(t),!0===e&&!0!==t.ha){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Vl(t,o.toArray());t.ha=!0,yield Pf(t.remoteStore,!0);for(const h of u)lc(t.remoteStore,h)}else if(!1===e&&!1!==t.ha){const o=[];let u=Promise.resolve();t.na.forEach((h,y)=>{t.sharedClientState.isLocalQueryTarget(y)?o.push(y):u=u.then(()=>(fc(t,y),hl(t.localStore,y,!0))),ed(t.remoteStore,y)}),yield u,yield Vl(t,o),function(h){const y=ee(h);y.ra.forEach((S,$)=>{ed(y.remoteStore,$)}),y.oa.bi(),y.ra=new Map,y.ia=new Cs(kt.comparator)}(t),t.ha=!1,yield Pf(t.remoteStore,!1)}}),pd.apply(this,arguments)}function Vl(i,e,t){return ml.apply(this,arguments)}function ml(){return ml=(0,Ee.Z)(function*(i,e,t){const o=ee(i),u=[],h=[];for(const y of e){let S;const $=o.na.get(y);if($&&0!==$.length){S=yield au(o.localStore,Yr($[0]));for(const Z of $){const de=o.ea.get(Z),be=yield Wf(o,de);be.snapshot&&h.push(be.snapshot)}}else{const Z=yield Nl(o.localStore,y);S=yield au(o.localStore,Z),yield ld(o,Ul(Z),y,!1)}u.push(S)}return o.ta.Qo(h),u}),ml.apply(this,arguments)}function Ul(i){return rr(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function mc(i){const e=ee(i);return ee(ee(e.localStore).persistence).Fs()}function yc(i,e,t,o){return yl.apply(this,arguments)}function yl(){return yl=(0,Ee.Z)(function*(i,e,t,o){const u=ee(i);if(u.ha)return void yt("SyncEngine","Ignoring unexpected query state notification.");const h=u.na.get(e);if(h&&h.length>0)switch(t){case"current":case"not-current":{const y=yield vg(u.localStore,zl(h[0])),S=Vs.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield sa(u,y,S);break}case"rejected":yield hl(u.localStore,e,!0),fc(u,e,o);break;default:M()}}),yl.apply(this,arguments)}function _c(i,e,t){return _l.apply(this,arguments)}function _l(){return _l=(0,Ee.Z)(function*(i,e,t){const o=vl(i);if(o.ha){for(const u of e){if(o.na.has(u)){yt("SyncEngine","Adding an already active target "+u);continue}const h=yield Nl(o.localStore,u),y=yield au(o.localStore,h);yield ld(o,Ul(h),y.targetId,!1),lc(o.remoteStore,y)}for(const u of t)o.na.has(u)&&(yield hl(o.localStore,u,!1).then(()=>{ed(o.remoteStore,u),fc(o,u)}).catch(cl))}}),_l.apply(this,arguments)}function vl(i){const e=ee(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=u_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h_.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qg.bind(null,e),e.ta.Qo=Lf.bind(null,e.eventManager),e.ta.fa=Vg.bind(null,e.eventManager),e}function yh(i){const e=ee(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zg.bind(null,e),e}class qf{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.M=oc(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return gf(this.persistence,new mg,e.initialUser,this.M)}wa(e){return new Yy(qo.zi,this.M)}_a(e){return new Ag}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Kf extends qf{constructor(e,t,o){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,Ee.Z)(function*(){yield t().call(o,e),yield o.ya.initialize(o,e),yield yh(o.ya.syncEngine),yield kl(o.ya.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ga(e){return gf(this.persistence,new mg,e.initialUser,this.M)}ma(e){return new fg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=Kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ya.withCacheSize(this.cacheSizeBytes):ya.DEFAULT;return new zc(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,Og(),ih(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new Ag}}class Jg extends Kf{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,Ee.Z)(function*(){yield t().call(o,e);const u=o.ya.syncEngine;o.sharedClientState instanceof rh&&(o.sharedClientState.syncEngine={Mr:Ll.bind(null,u),Or:yc.bind(null,u),Fr:_c.bind(null,u),Fs:mc.bind(null,u),kr:fd.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var h=(0,Ee.Z)(function*(y){yield function Ba(i,e){return pd.apply(this,arguments)}(o.ya.syncEngine,y),o.gcScheduler&&(y&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):y||o.gcScheduler.stop())});return function(y){return h.apply(this,arguments)}}())})()}_a(e){const t=Og();if(!rh.vt(t))throw new me(J.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Kc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rh(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class _h{initialize(e,t){var o=this;return(0,Ee.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Bf(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=hd.bind(null,o.syncEngine),yield Pf(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new r_}createDatastore(e){const t=oc(e.databaseInfo.databaseId),o=new xg(e.databaseInfo);return new e_(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,h=S=>Bf(this.syncEngine,S,0),y=Sg.vt()?new Sg:new Jy,new Gv(t,o,u,h,y);var t,o,u,h,y}createSyncEngine(e,t){return function(o,u,h,y,S,$,Z){const de=new a_(o,u,h,y,S,$);return Z&&(de.ha=!0),de}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ee.Z)(function*(t){const o=ee(t);yt("RemoteStore","RemoteStore shutting down."),o.fu.add(5),yield uc(o),o._u.shutdown(),o.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Zf(i,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class gd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Xg{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new bt,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(o=>{o&&o.xu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const o=e.Ea.decode(t),u=Number(o);isNaN(u)&&e.Pa(`length string (${o}) is not valid number`);const h=yield e.ba(u);return new Ug(JSON.parse(h),t.length+u)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Ee.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}ba(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const o=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class f_{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new me(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,Ee.Z)(function*(h,y){const S=ee(h),$=Nc(S.M)+"/documents",Z={documents:y.map(_t=>rl(S.M,_t))},de=yield S.ho("BatchGetDocuments",$,Z),be=new Map;de.forEach(_t=>{const wt=function vy(i,e){return"found"in e?function(t,o){L(!!o.found);const u=bu(t,o.found.name),h=Us(o.found.updateTime),y=new ae({mapValue:{fields:o.found.fields}});return c.newFoundDocument(u,h,y)}(i,e):"missing"in e?function(t,o){L(!!o.missing),L(!!o.readTime);const u=bu(t,o.missing),h=Us(o.readTime);return c.newNoDocument(u,h)}(i,e):M()}(S.M,_t);be.set(wt.key.toString(),wt)});const et=[];return y.forEach(_t=>{const wt=be.get(_t.toString());L(!!wt),et.push(wt)}),et}),function(h,y){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ju(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const h=kt.fromPath(u);e.mutations.push(new ql(h,e.precondition(h)))}),yield(o=(0,Ee.Z)(function*(u,h){const y=ee(u),S=Nc(y.M)+"/documents",$={writes:h.map(Z=>kc(y.M,Z))};yield y.oo("Commit",S,$)}),function(u,h){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw M();t=xn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new me(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?qt.updateTime(t):qt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xn.min()))throw new me(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qt.updateTime(t)}return qt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class em{constructor(e,t,o,u){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=u,this.Sa=5,this.Do=new sh(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Ee.Z)(function*(){const t=new f_(e.datastore),o=e.Ca(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(h=>{e.xa(h)}))}).catch(u=>{e.xa(u)})}))}Ca(e){try{const t=this.updateFunction(e);return!$o(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ud(t)}return!1}}class p_{constructor(e,t,o,u){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=ei.UNAUTHENTICATED,this.clientId=Xa.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var y=(0,Ee.Z)(function*(S){yt("FirestoreClient","Received user=",S.uid),yield h.authCredentialListener(S),h.user=S});return function(S){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(o,y=>(yt("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=uu(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Yf(i,e){return vh.apply(this,arguments)}function vh(){return vh=(0,Ee.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),yt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,Ee.Z)(function*(h){o.isEqual(h)||(yield yg(e.localStore,h),o=h)});return function(h){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),vh.apply(this,arguments)}function tm(i,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,Ee.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Eh(i);yt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Rf(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,h)=>Rf(e.remoteStore,h)),i.onlineComponents=e}),Qf.apply(this,arguments)}function Eh(i){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,Ee.Z)(function*(i){return i.offlineComponents||(yt("FirestoreClient","Using default OfflineComponentProvider"),yield Yf(i,new qf)),i.offlineComponents}),Jf.apply(this,arguments)}function md(i){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,Ee.Z)(function*(i){return i.onlineComponents||(yt("FirestoreClient","Using default OnlineComponentProvider"),yield tm(i,new _h)),i.onlineComponents}),Xf.apply(this,arguments)}function nm(i){return Eh(i).then(e=>e.persistence)}function rm(i){return Eh(i).then(e=>e.localStore)}function im(i){return md(i).then(e=>e.remoteStore)}function yd(i){return md(i).then(e=>e.syncEngine)}function El(i){return ep.apply(this,arguments)}function ep(){return ep=(0,Ee.Z)(function*(i){const e=yield md(i),t=e.eventManager;return t.onListen=qv.bind(null,e.syncEngine),t.onUnlisten=zg.bind(null,e.syncEngine),t}),ep.apply(this,arguments)}function sm(i,e,t={}){const o=new bt;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(u,h,y,S,$){const Z=new gd({next:be=>{h.enqueueAndForget(()=>Ff(u,de));const et=be.docs.has(y);!et&&be.fromCache?$.reject(new me(J.UNAVAILABLE,"Failed to get document because the client is offline.")):et&&be.fromCache&&S&&"server"===S.source?$.reject(new me(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(be)},error:be=>$.reject(be)}),de=new ph(si(y.path),Z,{includeMetadataChanges:!0,Cu:!0});return Nf(u,de)}(yield El(i),i.asyncQueue,e,t,o)})),o.promise}function g_(i,e,t={}){const o=new bt;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(u,h,y,S,$){const Z=new gd({next:be=>{h.enqueueAndForget(()=>Ff(u,de)),be.fromCache&&"server"===S.source?$.reject(new me(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(be)},error:be=>$.reject(be)}),de=new ph(y,Z,{includeMetadataChanges:!0,Cu:!0});return Nf(u,de)}(yield El(i),i.asyncQueue,e,t,o)})),o.promise}const um=new Map;function wh(i,e,t){if(!t)throw new me(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function _d(i,e,t,o){if(!0===e&&!0===o)throw new me(J.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function lm(i){if(!kt.isDocumentKey(i))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function tp(i){if(kt.isDocumentKey(i))throw new me(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function bh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":M()}function Or(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bh(i);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function cm(i,e){if(e<=0)throw new me(J.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class dm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,_d("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dm({}),this._settingsFrozen=!1,e instanceof ks?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ks(u.options.projectId)}(e))}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Wt;switch(t.type){case"gapi":const o=t.client;return L(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new ps(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=um.get(e);t&&(yt("ComponentProvider","Removing Datastore"),um.delete(e),t.terminate())}(this),Promise.resolve()}}class Gi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gi(this.firestore,e,this._key)}}class wo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class lu extends wo{constructor(e,t,o){super(e,t,si(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gi(this.firestore,null,new kt(e))}withConverter(e){return new lu(this.firestore,e,this._path)}}function Ih(i,e,...t){if(i=(0,E.m9)(i),wh("collection","path",e),i instanceof vd){const o=hr.fromString(e,...t);return tp(o),new lu(i,null,o)}{if(!(i instanceof Gi||i instanceof lu))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(hr.fromString(e,...t));return tp(o),new lu(i.firestore,null,o)}}function Ec(i,e,...t){if(i=(0,E.m9)(i),1===arguments.length&&(e=Xa.R()),wh("doc","path",e),i instanceof vd){const o=hr.fromString(e,...t);return lm(o),new Gi(i,null,new kt(o))}{if(!(i instanceof Gi||i instanceof lu))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(hr.fromString(e,...t));return lm(o),new Gi(i.firestore,i instanceof lu?i.converter:null,new kt(o))}}function fm(i,e){return i=(0,E.m9)(i),e=(0,E.m9)(e),(i instanceof Gi||i instanceof lu)&&(e instanceof Gi||e instanceof lu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function __(i,e){return i=(0,E.m9)(i),e=(0,E.m9)(e),i instanceof wo&&e instanceof wo&&i.firestore===e.firestore&&No(i._query,e._query)&&i.converter===e.converter}class Ed{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new sh(this,"async_queue_retry"),this.qa=()=>{const t=ih();t&&yt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=ih();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=ih();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new bt;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!sl(t))throw t;yt("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(o=>{throw this.$a=o,this.Ba=!1,T("INTERNAL UNHANDLED ERROR: ",function(h){let y=h.message||"";return h.stack&&(y=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),y}(o)),o}).then(o=>(this.Ba=!1,o))));return this.ka=t,t}enqueueAfterDelay(e,t,o){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const u=hh.createAndSchedule(this,e,t,o,h=>this.ja(h));return this.Fa.push(u),u}Ka(){this.$a&&M()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function Dh(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class np{constructor(){this._progressObserver={},this._taskCompletionResolver=new bt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class es extends vd{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new Ed,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||v_(this),this._firestoreClient.terminate()}}function ms(i){return i._firestoreClient||v_(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function v_(i){var e;const t=i._freezeSettings(),o=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ns(i._databaseId,h,i._persistenceKey,(S=t).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,S.useFetchStreams));var h,S;i._firestoreClient=new p_(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Ch(i,e,t){const o=new bt;return i.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield Yf(i,t),yield tm(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(h=u).name?h.code===J.FAILED_PRECONDITION||h.code===J.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var h})).then(()=>o.promise)}function _m(i){if(i._initialized||i._terminated)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Su{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ja{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ja(ii.fromBase64String(e))}catch(t){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ja(ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wl{constructor(e){this._methodName=e}}class Th{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mn(this._lat,e._lat)||Mn(this._long,e._long)}}const vm=/^__.*__$/;class Em{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Al(e,this.data,t,this.fieldTransforms)}}class Ah{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Bu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Sh(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw M()}}class wd{constructor(e,t,o,u,h,y){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=u,void 0===h&&this.Ya(),this.fieldTransforms=h||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new wd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Za({path:o,ec:!1});return u.nc(e),u}sc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Za({path:o,ec:!1});return u.Ya(),u}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return Dd(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(Sh(this.Xa)&&vm.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class wm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||oc(e)}ac(e,t,o,u=!1){return new wd({Xa:e,methodName:t,uc:o,path:ti.emptyPath(),ec:!1,oc:u},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function bl(i){const e=i._freezeSettings(),t=oc(i._databaseId);return new wm(i._databaseId,!!e.ignoreUndefinedProperties,t)}function bd(i,e,t,o,u,h={}){const y=i.ac(h.merge||h.mergeFields?2:0,e,t,u);hp("Data must be an object, but it was:",y,o);const S=dp(o,y);let $,Z;if(h.merge)$=new ha(y.fieldMask),Z=y.fieldTransforms;else if(h.mergeFields){const de=[];for(const be of h.mergeFields){const et=Oh(e,be,t);if(!y.contains(et))throw new me(J.INVALID_ARGUMENT,`Field '${et}' is specified in your field mask but missing from your input data.`);Bl(de,et)||de.push(et)}$=new ha(de),Z=y.fieldTransforms.filter(be=>$.covers(be.field))}else $=null,Z=y.fieldTransforms;return new Em(new ae(S),$,Z)}class wc extends wl{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wc}}function lp(i,e,t){return new wd({Xa:3,uc:e.settings.uc,methodName:i._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Mh extends wl{_toFieldTransform(e){return new Be(e.path,new Xu)}isEqual(e){return e instanceof Mh}}class bm extends wl{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=lp(this,e,!0),o=this.cc.map(h=>zi(h,t)),u=new el(o);return new Be(e.path,u)}isEqual(e){return this===e}}class Xv extends wl{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=lp(this,e,!0),o=this.cc.map(h=>zi(h,t)),u=new p(o);return new Be(e.path,u)}isEqual(e){return this===e}}class I_ extends wl{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new A(e.M,Gh(e.M,this.hc));return new Be(e.path,t)}isEqual(e){return this===e}}function cp(i,e,t,o){const u=i.ac(1,e,t);hp("Data must be an object, but it was:",u,o);const h=[],y=ae.empty();Bo(o,($,Z)=>{const de=Id(e,$,t);Z=(0,E.m9)(Z);const be=u.sc(de);if(Z instanceof wc)h.push(de);else{const et=zi(Z,be);null!=et&&(h.push(de),y.set(de,et))}});const S=new ha(h);return new Ah(y,S,u.fieldTransforms)}function xh(i,e,t,o,u,h){const y=i.ac(1,e,t),S=[Oh(e,o,t)],$=[u];if(h.length%2!=0)throw new me(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let et=0;et<h.length;et+=2)S.push(Oh(e,h[et])),$.push(h[et+1]);const Z=[],de=ae.empty();for(let et=S.length-1;et>=0;--et)if(!Bl(Z,S[et])){const _t=S[et];let wt=$[et];wt=(0,E.m9)(wt);const Kt=y.sc(_t);if(wt instanceof wc)Z.push(_t);else{const Qn=zi(wt,Kt);null!=Qn&&(Z.push(_t),de.set(_t,Qn))}}const be=new ha(Z);return new Ah(de,be,y.fieldTransforms)}function Im(i,e,t,o=!1){return zi(t,i.ac(o?4:3,e))}function zi(i,e){if(Dm(i=(0,E.m9)(i)))return hp("Unsupported field value:",e,i),dp(i,e);if(i instanceof wl)return function(t,o){if(!Sh(o.Xa))throw o.rc(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.rc(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,o){const u=[];let h=0;for(const y of t){let S=zi(y,o.ic(h));null==S&&(S={nullValue:"NULL_VALUE"}),u.push(S),h++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,E.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Gh(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Zn.fromDate(t);return{timestampValue:Ml(o.M,u)}}if(t instanceof Zn){const u=new Zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ml(o.M,u)}}if(t instanceof Th)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ja)return{bytesValue:jp(o.M,t._byteString)};if(t instanceof Gi){const u=o.databaseId,h=t.firestore._databaseId;if(!h.isEqual(u))throw o.rc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Kh(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.rc(`Unsupported field value: ${bh(t)}`)}(i,e)}function dp(i,e){const t={};return Pu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bo(i,(o,u)=>{const h=zi(u,e.tc(o));null!=h&&(t[o]=h)}),{mapValue:{fields:t}}}function Dm(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Zn||i instanceof Th||i instanceof ja||i instanceof Gi||i instanceof wl)}function hp(i,e,t){if(!Dm(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=bh(t);throw e.rc("an object"===o?i+" a custom object":i+" "+o)}var o}function Oh(i,e,t){if((e=(0,E.m9)(e))instanceof Su)return e._internalPath;if("string"==typeof e)return Id(i,e);throw Dd("Field path arguments must be of type string or ",i,!1,void 0,t)}const D_=new RegExp("[~\\*/\\[\\]]");function Id(i,e,t){if(e.search(D_)>=0)throw Dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Su(...e.split("."))._internalPath}catch(o){throw Dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Dd(i,e,t,o,u){const h=o&&!o.isEmpty(),y=void 0!==u;let S=`Function ${e}() called with invalid data`;t&&(S+=" (via `toFirestore()`)"),S+=". ";let $="";return(h||y)&&($+=" (found",h&&($+=` in field ${o}`),y&&($+=` in document ${u}`),$+=")"),new me(J.INVALID_ARGUMENT,S+i+$)}function Bl(i,e){return i.some(t=>t.isEqual(e))}class Cd{constructor(e,t,o,u,h){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new C_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Td("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class C_ extends Cd{data(){return super.data()}}function Td(i,e){return"string"==typeof e?Id(i,e):e instanceof Su?e._internalPath:e._delegate._internalPath}class jl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mu extends Cd{constructor(e,t,o,u,h,y){super(e,t,o,u,y),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Td("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Rh extends Mu{data(e={}){return super.data(e)}}class Wu{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new jl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Rh(this._firestore,this._userDataWriter,o.key,o,new jl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(y=>({type:"added",doc:new Rh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new jl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(y=>u||3!==y.type).map(y=>{const S=new Rh(o._firestore,o._userDataWriter,y.doc.key,y.doc,new jl(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let $=-1,Z=-1;return 0!==y.type&&($=h.indexOf(y.doc.key),h=h.delete(y.doc.key)),1!==y.type&&(h=h.add(y.doc),Z=h.indexOf(y.doc.key)),{type:fp(y.type),doc:S,oldIndex:$,newIndex:Z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fp(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return M()}}function Ha(i,e){return i instanceof Mu&&e instanceof Mu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Wu&&e instanceof Wu&&i._firestore===e._firestore&&__(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Cm(i){if(Ws(i)&&0===i.explicitOrderBy.length)throw new me(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ad{}function bo(i,...e){for(const t of e)i=t._apply(i);return i}class cu extends Ad{constructor(e,t,o){super(),this.lc=e,this.fc=t,this.dc=o,this.type="where"}_apply(e){const t=bl(e.firestore),o=function(u,h,y,S,$,Z,de){let be;if($.isKeyField()){if("array-contains"===Z||"array-contains-any"===Z)throw new me(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Z}' queries on documentId().`);if("in"===Z||"not-in"===Z){Md(de,Z);const _t=[];for(const wt of de)_t.push(mp(S,u,wt));be={arrayValue:{values:_t}}}else be=mp(S,u,de)}else"in"!==Z&&"not-in"!==Z&&"array-contains-any"!==Z||Md(de,Z),be=Im(y,"where",de,"in"===Z||"not-in"===Z);const et=yr.create($,Z,be);return function(_t,wt){if(wt.S()){const Qn=Zr(_t);if(null!==Qn&&!Qn.isEqual(wt.field))throw new me(J.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Qn.toString()}' and '${wt.field.toString()}'`);const Wi=vo(_t);null!==Wi&&Rm(0,wt.field,Wi)}const Kt=function(Qn,Wi){for(const Ts of Qn.filters)if(Wi.indexOf(Ts.op)>=0)return Ts.op;return null}(_t,function(Qn){switch(Qn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(wt.op));if(null!==Kt)throw new me(J.INVALID_ARGUMENT,Kt===wt.op?`Invalid query. You cannot use more than one '${wt.op.toString()}' filter.`:`Invalid query. You cannot use '${wt.op.toString()}' filters with '${Kt.toString()}' filters.`)}(u,et),et}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new wo(e.firestore,e.converter,function(u,h){const y=u.filters.concat([h]);return new gn(u.path,u.collectionGroup,u.explicitOrderBy.slice(),y,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class Tm extends Ad{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(o,u,h){if(null!==o.startAt)throw new me(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new me(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new nu(u,h);return function(S,$){if(null===vo(S)){const Z=Zr(S);null!==Z&&Rm(0,Z,$.field)}}(o,y),y}(e._query,this.lc,this._c);return new wo(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new gn(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Sm extends Ad{constructor(e,t,o){super(),this.type=e,this.wc=t,this.mc=o}_apply(e){return new wo(e.firestore,e.converter,pa(e._query,this.wc,this.mc))}}class Mm extends Ad{constructor(e,t,o){super(),this.type=e,this.gc=t,this.yc=o}_apply(e){const t=gp(e,this.type,this.gc,this.yc);return new wo(e.firestore,e.converter,(u=t,new gn((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class xm extends Ad{constructor(e,t,o){super(),this.type=e,this.gc=t,this.yc=o}_apply(e){const t=gp(e,this.type,this.gc,this.yc);return new wo(e.firestore,e.converter,(u=t,new gn((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function gp(i,e,t,o){if(t[0]=(0,E.m9)(t[0]),t[0]instanceof Cd)return function(u,h,y,S,$){if(!S)throw new me(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const Z=[];for(const de of Pa(u))if(de.field.isKeyField())Z.push(Ls(h,S.key));else{const be=S.data.field(de.field);if(Ds(be))throw new me(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+de.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===be){const et=de.field.canonicalString();throw new me(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${et}' (used as the orderBy) does not exist.`)}Z.push(be)}return new yo(Z,$)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=bl(i.firestore);return function(h,y,S,$,Z,de){const be=h.explicitOrderBy;if(Z.length>be.length)throw new me(J.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const et=[];for(let _t=0;_t<Z.length;_t++){const wt=Z[_t];if(be[_t].field.isKeyField()){if("string"!=typeof wt)throw new me(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof wt}`);if(!Uu(h)&&-1!==wt.indexOf("/"))throw new me(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${wt}' contains a slash.`);const Kt=h.path.child(hr.fromString(wt));if(!kt.isDocumentKey(Kt))throw new me(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${Kt}' is not because it contains an odd number of segments.`);const Qn=new kt(Kt);et.push(Ls(y,Qn))}else{const Kt=Im(S,$,wt);et.push(Kt)}}return new yo(et,de)}(i._query,i.firestore._databaseId,u,e,t,o)}}function mp(i,e,t){if("string"==typeof(t=(0,E.m9)(t))){if(""===t)throw new me(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Uu(e)&&-1!==t.indexOf("/"))throw new me(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(hr.fromString(t));if(!kt.isDocumentKey(o))throw new me(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Ls(i,new kt(o))}if(t instanceof Gi)return Ls(i,t._key);throw new me(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bh(t)}.`)}function Md(i,e){if(!Array.isArray(i)||0===i.length)throw new me(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new me(J.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Rm(i,e,t){if(!t.isEqual(e))throw new me(J.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ph{convertValue(e,t="none"){switch(Go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw M()}}convertObject(e,t){const o={};return Bo(e.fields,(u,h)=>{o[u]=this.convertValue(h,t)}),o}convertGeoPoint(e){return new Th(Kr(e.latitude),Kr(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Ma(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Ro(e));default:return null}}convertTimestamp(e){const t=Ho(e);return new Zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=hr.fromString(e);L(ef(o));const u=new ks(o.get(1),o.get(3)),h=new kt(o.popFirst(5));return u.isEqual(t)||T(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function xd(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class yp extends Ph{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}class Od{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=bl(e)}set(e,t,o){this._verifyNotCommitted();const u=qu(e,this._firestore),h=xd(u.converter,t,o),y=bd(this._dataReader,"WriteBatch.set",u._key,h,null!==u.converter,o);return this._mutations.push(y.toMutation(u._key,qt.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const h=qu(e,this._firestore);let y;return y="string"==typeof(t=(0,E.m9)(t))||t instanceof Su?xh(this._dataReader,"WriteBatch.update",h._key,t,o,u):cp(this._dataReader,"WriteBatch.update",h._key,t),this._mutations.push(y.toMutation(h._key,qt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qu(e,this._firestore);return this._mutations=this._mutations.concat(new ju(t._key,qt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qu(i,e){if((i=(0,E.m9)(i)).firestore!==e)throw new me(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Il extends Ph{constructor(e){super(),this.firestore=e}convertBytes(e){return new ja(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gi(this.firestore,null,t)}}function Um(i,e,t){i=Or(i,Gi);const o=Or(i.firestore,es),u=xd(i.converter,e,t);return bc(o,[bd(bl(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,qt.none())])}function Bm(i,e,t,...o){i=Or(i,Gi);const u=Or(i.firestore,es),h=bl(u);let y;return y="string"==typeof(e=(0,E.m9)(e))||e instanceof Su?xh(h,"updateDoc",i._key,e,t,o):cp(h,"updateDoc",i._key,e),bc(u,[y.toMutation(i._key,qt.exists(!0))])}function jm(i,...e){var t,o,u;i=(0,E.m9)(i);let h={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||Dh(e[y])||(h=e[y],y++);const S={includeMetadataChanges:h.includeMetadataChanges};if(Dh(e[y])){const be=e[y];e[y]=null===(t=be.next)||void 0===t?void 0:t.bind(be),e[y+1]=null===(o=be.error)||void 0===o?void 0:o.bind(be),e[y+2]=null===(u=be.complete)||void 0===u?void 0:u.bind(be)}let $,Z,de;if(i instanceof Gi)Z=Or(i.firestore,es),de=si(i._key.path),$={next:be=>{e[y]&&e[y](_p(Z,i,be))},error:e[y+1],complete:e[y+2]};else{const be=Or(i,wo);Z=Or(be.firestore,es),de=be._query;const et=new Il(Z);$={next:_t=>{e[y]&&e[y](new Wu(Z,et,be,_t))},error:e[y+1],complete:e[y+2]},Cm(i._query)}return function(be,et,_t,wt){const Kt=new gd(wt),Qn=new ph(et,Kt,_t);return be.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Nf(yield El(be),Qn)})),()=>{Kt.Ia(),be.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return Ff(yield El(be),Qn)}))}}(ms(Z),de,S,$)}function bc(i,e){return function(t,o){const u=new bt;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function Kv(i,e,t){return va.apply(this,arguments)}(yield yd(t),o,u)})),u.promise}(ms(i),e)}function _p(i,e,t){const o=t.docs.get(e._key),u=new Il(i);return new Mu(i,u,e._key,o,new jl(t.hasPendingWrites,t.fromCache),e.converter)}class R_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=bl(e)}get(e){const t=qu(e,this._firestore),o=new yp(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return M();const h=u[0];if(h.isFoundDocument())return new Cd(this._firestore,o,h.key,h,t.converter);if(h.isNoDocument())return new Cd(this._firestore,o,t._key,null,t.converter);throw M()})}set(e,t,o){const u=qu(e,this._firestore),h=xd(u.converter,t,o),y=bd(this._dataReader,"Transaction.set",u._key,h,null!==u.converter,o);return this._transaction.set(u._key,y),this}update(e,t,o,...u){const h=qu(e,this._firestore);let y;return y="string"==typeof(t=(0,E.m9)(t))||t instanceof Su?xh(this._dataReader,"Transaction.update",h._key,t,o,u):cp(this._dataReader,"Transaction.update",h._key,t),this._transaction.update(h._key,y),this}delete(e){const t=qu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=qu(e,this._firestore),o=new Il(this._firestore);return super.get(e).then(u=>new Mu(this._firestore,o,t._key,u._document,new jl(!1,!1),t.converter))}}function Nh(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new me("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function vp(){if("undefined"==typeof Uint8Array)throw new me("unimplemented","Uint8Arrays are not available in this environment.")}function Ep(){if(!function Li(){return"undefined"!=typeof atob}())throw new me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){po=K.SDK_VERSION,(0,K._registerComponent)(new ge.wA("firestore",(t,{options:o})=>{const u=t.getProvider("app").getImmediate(),h=new es(u,new Jn(t.getProvider("auth-internal")),new go(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC")),(0,K.registerVersion)(Qa,"3.4.8",i),(0,K.registerVersion)(Qa,"3.4.8","esm2017")}();class Ic{constructor(e){this._delegate=e}static fromBase64String(e){return Ep(),new Ic(ja.fromBase64String(e))}static fromUint8Array(e){return vp(),new Ic(ja.fromUint8Array(e))}toBase64(){return Ep(),this._delegate.toBase64()}toUint8Array(){return vp(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kh(i){return function zm(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class Wm{enableIndexedDbPersistence(e,t){return function E_(i,e){_m(i=Or(i,es));const t=ms(i),o=i._freezeSettings(),u=new _h;return Ch(t,u,new Kf(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function op(i){_m(i=Or(i,es));const e=ms(i),t=i._freezeSettings(),o=new _h;return Ch(e,o,new Jg(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function pm(i){if(i._initialized&&!i._terminated)throw new me(J.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bt;return i._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(o){if(!ia.vt())return Promise.resolve();const u=o+"main";yield ia.delete(u)}),function(o){return t.apply(this,arguments)})(Kc(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class wp{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof ks||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&D("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function hm(i,e,t,o={}){var u;const h=(i=Or(i,vd))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&D("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let y,S;if("string"==typeof o.mockUserToken)y=o.mockUserToken,S=ei.MOCK_USER;else{y=(0,E.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const $=o.mockUserToken.sub||o.mockUserToken.user_id;if(!$)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new ei($)}i._authCredentials=new sr(new $n(y,S))}}(this._delegate,e,t,o)}enableNetwork(){return function ap(i){return function Zv(i){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield nm(i),t=yield im(i);return e.setNetworkEnabled(!0),function(o){const u=ee(o);return u.fu.delete(0),ac(u)}(t)}))}(ms(i=Or(i,es)))}(this._delegate)}disableNetwork(){return function mm(i){return function Yv(i){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield nm(i),t=yield im(i);return e.setNetworkEnabled(!1),(o=(0,Ee.Z)(function*(u){const h=ee(u);h.fu.add(0),yield uc(h),h.wu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(ms(i=Or(i,es)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,_d("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gm(i){return function(e){const t=new bt;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function c_(i,e){return dd.apply(this,arguments)}(yield yd(e),t)})),t.promise}(ms(i=Or(i,es)))}(this._delegate)}onSnapshotsInSync(e){return function O_(i,e){return function m_(i,e){const t=new gd(e);return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return o=yield El(i),u=t,ee(o).Eu.add(u),void u.next();var o,u})),()=>{t.Ia(),i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return o=yield El(i),u=t,void ee(o).Eu.delete(u);var o,u}))}}(ms(i=Or(i,es)),Dh(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Cc(this,Ih(this._delegate,e))}catch(t){throw Io(t,"collection()","Firestore.collection()")}}doc(e){try{return new hu(this,Ec(this._delegate,e))}catch(t){throw Io(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new tn(this,function Jv(i,e){if(i=Or(i,vd),wh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wo(i,null,(t=e,new gn(hr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Io(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function P_(i,e){return function vc(i,e){const t=new bt;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const o=yield(u=i,md(u).then(h=>h.datastore));var u;new em(i.asyncQueue,o,e,t).run()})),t.promise}(ms(i=Or(i,es)),t=>e(new R_(i,t)))}(this._delegate,t=>e(new qm(this,t)))}batch(){return ms(this._delegate),new Km(new Od(this._delegate,e=>bc(this._delegate,e)))}loadBundle(e){return function up(i,e){const t=ms(i=Or(i,es)),o=new np;return function y_(i,e,t,o){const u=function(h,y){let S;return S="string"==typeof h?(new TextEncoder).encode(h):h,$=function($,Z){if($ instanceof Uint8Array)return Zf($,Z);if($ instanceof ArrayBuffer)return Zf(new Uint8Array($),Z);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new Xg($,y);var $}(t,oc(e));i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function Qg(i,e,t){const o=ee(i);var u;(u=(0,Ee.Z)(function*(h,y,S){try{const $=yield y.getMetadata();if(yield function(et,_t){const wt=ee(et),Kt=Us(_t.createTime);return wt.persistence.runTransaction("hasNewerBundle","readonly",Qn=>wt._s.getBundleMetadata(Qn,_t.id)).then(Qn=>!!Qn&&Qn.createTime.compareTo(Kt)>=0)}(h.localStore,$))return yield y.close(),S._completeWith({taskState:"Success",documentsLoaded:(et=$).totalDocuments,bytesLoaded:et.totalBytes,totalDocuments:et.totalDocuments,totalBytes:et.totalBytes}),Promise.resolve(new Set);S._updateProgress(jg($));const Z=new i_($,h.localStore,y.M);let de=yield y.da();for(;de;){const et=yield Z.ku(de);et&&S._updateProgress(et),de=yield y.da()}const be=yield Z.complete();return yield sa(h,be.Fu,void 0),yield function(et,_t){const wt=ee(et);return wt.persistence.runTransaction("Save bundle","readwrite",Kt=>wt._s.saveBundleMetadata(Kt,_t))}(h.localStore,$),S._completeWith(be.progress),Promise.resolve(be.Ou)}catch($){return D("SyncEngine",`Loading bundle failed with ${$}`),S._failWith($),Promise.resolve(new Set)}var et}),function(h,y,S){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield yd(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function ym(i,e){return function am(i,e){return i.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,o){const u=ee(t);return u.persistence.runTransaction("Get named query","readonly",h=>u._s.getNamedQuery(h,o))}(yield rm(i),e)}))}(ms(i=Or(i,es)),e).then(t=>t?new wo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new tn(this,t):null)}}class Rd extends Ph{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(new ja(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return hu.forKey(t,this.firestore,null)}}class qm{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Rd(e)}get(e){const t=xu(e);return this._delegate.get(t).then(o=>new Dc(this._firestore,new Mu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=xu(e);return o?(Nh("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const h=xu(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...u),this}delete(e){const t=xu(e);return this._delegate.delete(t),this}}class Km{constructor(e){this._delegate=e}set(e,t,o){const u=xu(e);return o?(Nh("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const h=xu(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...u),this}delete(e){const t=xu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $a{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Rh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Fh(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=$a.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let h=u.get(t);return h||(h=new $a(e,new Rd(e),t),u.set(t,h)),h}}$a.INSTANCES=new WeakMap;class hu{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rd(e)}static forPath(e,t,o){if(e.length%2!=0)throw new me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new hu(t,new Gi(t._delegate,o,new kt(e)))}static forKey(e,t,o){return new hu(t,new Gi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Cc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Cc(this.firestore,Ih(this._delegate,e))}catch(t){throw Io(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,E.m9)(e))instanceof Gi&&fm(this._delegate,e)}set(e,t){t=Nh("DocumentReference.set",t);try{return t?Um(this._delegate,e,t):Um(this._delegate,e)}catch(o){throw Io(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Bm(this._delegate,e):Bm(this._delegate,e,t,...o)}catch(u){throw Io(u,"updateDoc()","DocumentReference.update()")}}delete(){return function M_(i){return bc(Or(i.firestore,es),[new ju(i._key,qt.none())])}(this._delegate)}onSnapshot(...e){const t=U_(e),o=bp(e,u=>new Dc(this.firestore,new Mu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return jm(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Nm(i){i=Or(i,Gi);const e=Or(i.firestore,es),t=ms(e),o=new Il(e);return function Qv(i,e){const t=new bt;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(o=(0,Ee.Z)(function*(u,h,y){try{const S=yield function($,Z){const de=ee($);return de.persistence.runTransaction("read document","readonly",be=>de.ci.Ls(be,Z))}(u,h);S.isFoundDocument()?y.resolve(S):S.isNoDocument()?y.resolve(null):y.reject(new me(J.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const $=uu(S,`Failed to get document '${h} from cache`);y.reject($)}}),function(u,h,y){return o.apply(this,arguments)})(yield rm(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Mu(e,o,i._key,u,new jl(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function km(i){i=Or(i,Gi);const e=Or(i.firestore,es);return sm(ms(e),i._key,{source:"server"}).then(t=>_p(e,i,t))}(this._delegate):function Pm(i){i=Or(i,Gi);const e=Or(i.firestore,es);return sm(ms(e),i._key).then(t=>_p(e,i,t))}(this._delegate),t.then(o=>new Dc(this.firestore,new Mu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new hu(this.firestore,this._delegate.withConverter(e?$a.getInstance(this.firestore,e):null))}}function Io(i,e,t){return i.message=i.message.replace(e,t),i}function U_(i){for(const e of i)if("object"==typeof e&&!kh(e))return e;return{}}function bp(i,e){var t,o;let u;return u=kh(i[0])?i[0]:kh(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{u.next&&u.next(e(h))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Dc{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new hu(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ha(this._delegate,e._delegate)}}class Fh extends Dc{data(e){const t=this._delegate.data(e);return function Q(i,e){i||M()}(void 0!==t),t}}class tn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rd(e)}where(e,t,o){try{return new tn(this.firestore,bo(this._delegate,function du(i,e,t){const o=e,u=Td("where",i);return new cu(u,o,t)}(e,t,o)))}catch(u){throw Io(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new tn(this.firestore,bo(this._delegate,function Am(i,e="asc"){const t=e,o=Td("orderBy",i);return new Tm(o,t)}(e,t)))}catch(o){throw Io(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new tn(this.firestore,bo(this._delegate,function T_(i){return cm("limit",i),new Sm("limit",i,"F")}(e)))}catch(t){throw Io(t,"limit()","Query.limit()")}}limitToLast(e){try{return new tn(this.firestore,bo(this._delegate,function A_(i){return cm("limitToLast",i),new Sm("limitToLast",i,"L")}(e)))}catch(t){throw Io(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new tn(this.firestore,bo(this._delegate,function pp(...i){return new Mm("startAt",i,!0)}(...e)))}catch(t){throw Io(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new tn(this.firestore,bo(this._delegate,function Sd(...i){return new Mm("startAfter",i,!1)}(...e)))}catch(t){throw Io(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new tn(this.firestore,bo(this._delegate,function Om(...i){return new xm("endBefore",i,!1)}(...e)))}catch(t){throw Io(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new tn(this.firestore,bo(this._delegate,function S_(...i){return new xm("endAt",i,!0)}(...e)))}catch(t){throw Io(t,"endAt()","Query.endAt()")}}isEqual(e){return __(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Lm(i){i=Or(i,wo);const e=Or(i.firestore,es),t=ms(e),o=new Il(e);return function om(i,e){const t=new bt;return i.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(o=(0,Ee.Z)(function*(u,h,y){try{const S=yield pl(u,h,!0),$=new s_(h,S.li),Z=$.Gu(S.documents),de=$.applyChanges(Z,!1);y.resolve(de.snapshot)}catch(S){const $=uu(S,`Failed to execute query '${h} against cache`);y.reject($)}}),function(u,h,y){return o.apply(this,arguments)})(yield rm(i),e,t);var o})),t.promise}(t,i._query).then(u=>new Wu(e,o,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function Vm(i){i=Or(i,wo);const e=Or(i.firestore,es),t=ms(e),o=new Il(e);return g_(t,i._query,{source:"server"}).then(u=>new Wu(e,o,i,u))}(this._delegate):function Fm(i){i=Or(i,wo);const e=Or(i.firestore,es),t=ms(e),o=new Il(e);return Cm(i._query),g_(t,i._query).then(u=>new Wu(e,o,i,u))}(this._delegate),t.then(o=>new Ip(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=U_(e),o=bp(e,u=>new Ip(this.firestore,new Wu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return jm(this._delegate,t,o)}withConverter(e){return new tn(this.firestore,this._delegate.withConverter(e?$a.getInstance(this.firestore,e):null))}}class B_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Fh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ip{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new tn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Fh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new B_(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Fh(this._firestore,o))})}isEqual(e){return Ha(this._delegate,e._delegate)}}class Cc extends tn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new hu(this.firestore,e):null}doc(e){try{return new hu(this.firestore,void 0===e?Ec(this._delegate):Ec(this._delegate,e))}catch(t){throw Io(t,"doc()","CollectionReference.doc()")}}add(e){return function x_(i,e){const t=Or(i.firestore,es),o=Ec(i),u=xd(i.converter,e);return bc(t,[bd(bl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,qt.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new hu(this.firestore,t))}isEqual(e){return fm(this._delegate,e._delegate)}withConverter(e){return new Cc(this.firestore,this._delegate.withConverter(e?$a.getInstance(this.firestore,e):null))}}function xu(i){return Or(i,Gi)}class Dp{constructor(...e){this._delegate=new Su(...e)}static documentId(){return new Dp(ti.keyField().canonicalString())}isEqual(e){return(e=(0,E.m9)(e))instanceof Su&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ou{constructor(e){this._delegate=e}static serverTimestamp(){const e=function k_(){return new Mh("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ou(e)}static delete(){const e=function N_(){return new wc("deleteField")}();return e._methodName="FieldValue.delete",new Ou(e)}static arrayUnion(...e){const t=function F_(...i){return new bm("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Ou(t)}static arrayRemove(...e){const t=function L_(...i){return new Xv("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Ou(t)}static increment(e){const t=function V_(i){return new I_("increment",i)}(e);return t._methodName="FieldValue.increment",new Ou(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Lh={Firestore:wp,GeoPoint:Th,Timestamp:Zn,Blob:Ic,Transaction:qm,WriteBatch:Km,DocumentReference:hu,DocumentSnapshot:Dc,Query:tn,QueryDocumentSnapshot:Fh,QuerySnapshot:Ip,CollectionReference:Cc,FieldPath:Dp,FieldValue:Ou,setLogLevel:function Hl(i){!function Ja(i){Qi.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function n0(i){(function ys(i,e){i.INTERNAL.registerComponent(new ge.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},Lh)))})(i,(e,t)=>new wp(e,t,new Wm)),i.registerVersion("@firebase/firestore-compat","0.1.17")}(Ne.Z);var Ru=B(3385),j_=B(440);function Cp(i,e){return function Zm(i,e=Te.z){return new Se.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function Vh(i,e){return Cp(i,e).pipe((0,dt.U)(t=>({payload:t,type:"query"})))}function Uh(i,e){return Vh(i,e).pipe((0,Pe.O)(void 0),ot(),(0,dt.U)(([t,o])=>{const u=o.payload.docChanges(),h=u.map(y=>({type:y.type,payload:y}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((y,S)=>{const $=u.find(de=>de.doc.ref.isEqual(y.ref)),Z=null==t?void 0:t.payload.docs.find(de=>de.ref.isEqual(y.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(y.metadata)||!$&&Z&&JSON.stringify(Z.metadata)===JSON.stringify(y.metadata)||h.push({type:"modified",payload:{oldIndex:S,newIndex:S,type:"modified",doc:y}})}),h}))}function Qm(i,e,t){return Uh(i,t).pipe((0,We.R)((o,u)=>function H_(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function $_(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return $l(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return $l(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return $l(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(h=>h.payload),e),[]),function Ot(i,e=nt.y){return i=null!=i?i:Dt,(0,It.e)((t,o)=>{let u,h=!0;t.subscribe((0,rt.x)(o,y=>{const S=e(y);(h||!i(u,S))&&(h=!1,u=S,o.next(y))}))})}(),(0,dt.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function $l(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function Jm(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}B(127);class Xm{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Uh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,dt.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,Pe.O)(void 0),ot(),(0,it.h)(([o,u])=>u.length>0||!o),(0,dt.U)(([o,u])=>u),he.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,We.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Jm(e);return Qm(this.query,t,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(e={}){return Vh(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),he.iC)}get(e){return(0,Me.D)(this.query.get(e)).pipe(he.iC)}add(e){return this.ref.add(e)}doc(e){return new Pd(this.ref.doc(e),this.afs)}}class Pd{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:h}=Tc(o,t);return new Xm(u,h,this.afs)}snapshotChanges(){return function Ym(i,e){return Cp(i,e).pipe((0,Pe.O)(void 0),ot(),(0,dt.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Me.D)(this.ref.get(e)).pipe(he.iC)}}class ey{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Uh(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,it.h)(t=>t.length>0),he.iC):Uh(this.query,this.afs.schedulers.outsideAngular).pipe(he.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,We.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Jm(e);return Qm(this.query,t,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(e={}){return Vh(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),he.iC)}get(e){return(0,Me.D)(this.query.get(e)).pipe(he.iC)}}const ty=new ve.OlP("angularfire2.enableFirestorePersistence"),ny=new ve.OlP("angularfire2.firestore.persistenceSettings"),G_=new ve.OlP("angularfire2.firestore.settings"),Nd=new ve.OlP("angularfire2.firestore.use-emulator");function Tc(i,e=(t=>t)){return{query:e(i),ref:i}}let z_=(()=>{class i{constructor(t,o,u,h,y,S,$,Z,de,be,et,_t,wt,Kt,Qn,Wi,Ts){this.schedulers=$;const yi=(0,Le.on)(t,S,o),Bs=de;be&&(0,Ru.nw)(yi,S,et,wt,Kt,Qn,_t,Wi),[this.firestore,this.persistenceEnabled$]=(0,Le.cc)(`${yi.name}.firestore`,"AngularFirestore",yi.name,()=>{const Ui=S.runOutsideAngular(()=>yi.firestore());if(h&&Ui.settings(h),Bs&&Ui.useEmulator(...Bs),u&&!(0,Qe.PM)(y)){const ls=()=>{try{return(0,Me.D)(Ui.enablePersistence(Z||void 0).then(()=>!0,()=>!1))}catch(ko){return"undefined"!=typeof console&&console.warn(ko),(0,ce.of)(!1)}};return[Ui,S.runOutsideAngular(ls)]}return[Ui,(0,ce.of)(!1)]},[h,Bs,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:h,query:y}=Tc(u,o),S=this.schedulers.ngZone.run(()=>h);return new Xm(S,y,this)}collectionGroup(t,o){const u=o||(y=>y),h=this.firestore.collectionGroup(t);return new ey(u(h),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new Pd(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(ve.LFG(Le.Dh),ve.LFG(Le.xv,8),ve.LFG(ty,8),ve.LFG(G_,8),ve.LFG(ve.Lbi),ve.LFG(ve.R0b),ve.LFG(he.HU),ve.LFG(ny,8),ve.LFG(Nd,8),ve.LFG(Ru.zQ,8),ve.LFG(Ru.Qv,8),ve.LFG(Ru.L6,8),ve.LFG(Ru._Q,8),ve.LFG(Ru.rT,8),ve.LFG(Ru.lh,8),ve.LFG(Ru.f7,8),ve.LFG(j_.nm,8))},i.\u0275prov=ve.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();var W_=B(4232);let ry=(()=>{class i{constructor(t,o,u,h){this.afs=t,this.afAuth=o,this.router=u,this.ngZone=h,this.afAuth.authState.subscribe(y=>{y?(this.userData=y,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}SignIn(t,o){return this.afAuth.signInWithEmailAndPassword(t,o).then(u=>{this.ngZone.run(()=>{this.router.navigate(["/admin"])}),this.SetUserData(u.user)}).catch(u=>{window.alert(u.message)})}SignUp(t,o){return this.afAuth.createUserWithEmailAndPassword(t,o).then(u=>{this.SendVerificationMail(),this.SetUserData(u.user)}).catch(u=>{window.alert(u.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(o=>{window.alert(o)})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}GoogleAuth(){return this.AuthLogin(new m.N).then(t=>{t&&this.router.navigate(["/admin"])})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(o=>{this.ngZone.run(()=>{this.router.navigate(["/admin"])}),this.SetUserData(o.user)}).catch(o=>{window.alert(o)})}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified,role:t.role},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["sign-in"])})}}return i.\u0275fac=function(t){return new(t||i)(ve.LFG(z_),ve.LFG(Ru.zQ),ve.LFG(W_.F0),ve.LFG(ve.R0b))},i.\u0275prov=ve.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},8215:(Rt,Ge,B)=>{B.d(Ge,{X:()=>K});var m=B(5e3),E=B(520);let K=(()=>{class fe{constructor(ve){this.http=ve}getBio(){return this.http.get("assets/json/bio.json")}}return fe.\u0275fac=function(ve){return new(ve||fe)(m.LFG(E.eN))},fe.\u0275prov=m.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})()},5480:(Rt,Ge,B)=>{B.d(Ge,{r:()=>ve});var m=B(4232),E=B(9300),K=B(4004),fe=B(8675),ge=B(5e3);let ve=(()=>{class Te{constructor(Me){this.router=Me}isHome(){return this.router.events.pipe((0,E.h)(Me=>Me instanceof m.m2),(0,K.U)(Me=>!!(Me instanceof m.m2&&this.checkForHomeUrl(Me.url))),(0,fe.O)(this.checkForHomeUrl(this.router.url)))}checkForHomeUrl(Me){return Me.startsWith("/#")||"/"==Me}}return Te.\u0275fac=function(Me){return new(Me||Te)(ge.LFG(m.F0))},Te.\u0275prov=ge.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})()},5734:(Rt,Ge,B)=>{var m=B(9808),E=B(5e3);class K extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends K{static makeCurrent(){(0,m.HT)(new fe)}onAndCancel(c,d,b){return c.addEventListener(d,b,!1),()=>{c.removeEventListener(d,b,!1)}}dispatchEvent(c,d){c.dispatchEvent(d)}remove(c){c.parentNode&&c.parentNode.removeChild(c)}createElement(c,d){return(d=d||this.getDefaultDocument()).createElement(c)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(c){return c.nodeType===Node.ELEMENT_NODE}isShadowRoot(c){return c instanceof DocumentFragment}getGlobalEventTarget(c,d){return"window"===d?window:"document"===d?c:"body"===d?c.body:null}getBaseHref(c){const d=function ve(){return ge=ge||document.querySelector("base"),ge?ge.getAttribute("href"):null}();return null==d?null:function Se(v){Te=Te||document.createElement("a"),Te.setAttribute("href",v);const c=Te.pathname;return"/"===c.charAt(0)?c:`/${c}`}(d)}resetBaseElement(){ge=null}getUserAgent(){return window.navigator.userAgent}getCookie(c){return(0,m.Mx)(document.cookie,c)}}let Te,ge=null;const Me=new E.OlP("TRANSITION_ID"),he=[{provide:E.ip1,useFactory:function ce(v,c,d){return()=>{d.get(E.CZH).donePromise.then(()=>{const b=(0,m.q)(),P=c.querySelectorAll(`style[ng-transition="${v}"]`);for(let G=0;G<P.length;G++)b.remove(P[G])})}},deps:[Me,m.K0,E.zs3],multi:!0}];class Pe{static init(){(0,E.VLi)(new Pe)}addToWindow(c){E.dqk.getAngularTestability=(b,P=!0)=>{const G=c.findTestabilityInTree(b,P);if(null==G)throw new Error("Could not find testability for element.");return G},E.dqk.getAllAngularTestabilities=()=>c.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>c.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(b=>{const P=E.dqk.getAllAngularTestabilities();let G=P.length,ne=!1;const re=function(Re){ne=ne||Re,G--,0==G&&b(ne)};P.forEach(function(Re){Re.whenStable(re)})})}findTestabilityInTree(c,d,b){if(null==d)return null;const P=c.getTestability(d);return null!=P?P:b?(0,m.q)().isShadowRoot(d)?this.findTestabilityInTree(c,d.host,!0):this.findTestabilityInTree(c,d.parentElement,!0):null}}let It=(()=>{class v{build(){return new XMLHttpRequest}}return v.\u0275fac=function(d){return new(d||v)},v.\u0275prov=E.Yz7({token:v,factory:v.\u0275fac}),v})();const rt=new E.OlP("EventManagerPlugins");let ot=(()=>{class v{constructor(d,b){this._zone=b,this._eventNameToPlugin=new Map,d.forEach(P=>P.manager=this),this._plugins=d.slice().reverse()}addEventListener(d,b,P){return this._findPluginFor(b).addEventListener(d,b,P)}addGlobalEventListener(d,b,P){return this._findPluginFor(b).addGlobalEventListener(d,b,P)}getZone(){return this._zone}_findPluginFor(d){const b=this._eventNameToPlugin.get(d);if(b)return b;const P=this._plugins;for(let G=0;G<P.length;G++){const ne=P[G];if(ne.supports(d))return this._eventNameToPlugin.set(d,ne),ne}throw new Error(`No event manager plugin found for event ${d}`)}}return v.\u0275fac=function(d){return new(d||v)(E.LFG(rt),E.LFG(E.R0b))},v.\u0275prov=E.Yz7({token:v,factory:v.\u0275fac}),v})();class dt{constructor(c){this._doc=c}addGlobalEventListener(c,d,b){const P=(0,m.q)().getGlobalEventTarget(this._doc,c);if(!P)throw new Error(`Unsupported event target ${P} for event ${d}`);return this.addEventListener(P,d,b)}}let We=(()=>{class v{constructor(){this._stylesSet=new Set}addStyles(d){const b=new Set;d.forEach(P=>{this._stylesSet.has(P)||(this._stylesSet.add(P),b.add(P))}),this.onStylesAdded(b)}onStylesAdded(d){}getAllStyles(){return Array.from(this._stylesSet)}}return v.\u0275fac=function(d){return new(d||v)},v.\u0275prov=E.Yz7({token:v,factory:v.\u0275fac}),v})(),nt=(()=>{class v extends We{constructor(d){super(),this._doc=d,this._hostNodes=new Map,this._hostNodes.set(d.head,[])}_addStylesToHost(d,b,P){d.forEach(G=>{const ne=this._doc.createElement("style");ne.textContent=G,P.push(b.appendChild(ne))})}addHost(d){const b=[];this._addStylesToHost(this._stylesSet,d,b),this._hostNodes.set(d,b)}removeHost(d){const b=this._hostNodes.get(d);b&&b.forEach(Ot),this._hostNodes.delete(d)}onStylesAdded(d){this._hostNodes.forEach((b,P)=>{this._addStylesToHost(d,P,b)})}ngOnDestroy(){this._hostNodes.forEach(d=>d.forEach(Ot))}}return v.\u0275fac=function(d){return new(d||v)(E.LFG(m.K0))},v.\u0275prov=E.Yz7({token:v,factory:v.\u0275fac}),v})();function Ot(v){(0,m.q)().remove(v)}const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},it=/%COMP%/g;function $e(v,c,d){for(let b=0;b<c.length;b++){let P=c[b];Array.isArray(P)?$e(v,P,d):(P=P.replace(it,v),d.push(P))}return d}function pe(v){return c=>{if("__ngUnwrap__"===c)return v;!1===v(c)&&(c.preventDefault(),c.returnValue=!1)}}let Fe=(()=>{class v{constructor(d,b,P){this.eventManager=d,this.sharedStylesHost=b,this.appId=P,this.rendererByCompId=new Map,this.defaultRenderer=new Ue(d)}createRenderer(d,b){if(!d||!b)return this.defaultRenderer;switch(b.encapsulation){case E.ifc.Emulated:{let P=this.rendererByCompId.get(b.id);return P||(P=new Gn(this.eventManager,this.sharedStylesHost,b,this.appId),this.rendererByCompId.set(b.id,P)),P.applyToHost(d),P}case 1:case E.ifc.ShadowDom:return new Pt(this.eventManager,this.sharedStylesHost,d,b);default:if(!this.rendererByCompId.has(b.id)){const P=$e(b.id,b.styles,[]);this.sharedStylesHost.addStyles(P),this.rendererByCompId.set(b.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return v.\u0275fac=function(d){return new(d||v)(E.LFG(ot),E.LFG(nt),E.LFG(E.AFp))},v.\u0275prov=E.Yz7({token:v,factory:v.\u0275fac}),v})();class Ue{constructor(c){this.eventManager=c,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(c,d){return d?document.createElementNS(Dt[d]||d,c):document.createElement(c)}createComment(c){return document.createComment(c)}createText(c){return document.createTextNode(c)}appendChild(c,d){c.appendChild(d)}insertBefore(c,d,b){c&&c.insertBefore(d,b)}removeChild(c,d){c&&c.removeChild(d)}selectRootElement(c,d){let b="string"==typeof c?document.querySelector(c):c;if(!b)throw new Error(`The selector "${c}" did not match any elements`);return d||(b.textContent=""),b}parentNode(c){return c.parentNode}nextSibling(c){return c.nextSibling}setAttribute(c,d,b,P){if(P){d=P+":"+d;const G=Dt[P];G?c.setAttributeNS(G,d,b):c.setAttribute(d,b)}else c.setAttribute(d,b)}removeAttribute(c,d,b){if(b){const P=Dt[b];P?c.removeAttributeNS(P,d):c.removeAttribute(`${b}:${d}`)}else c.removeAttribute(d)}addClass(c,d){c.classList.add(d)}removeClass(c,d){c.classList.remove(d)}setStyle(c,d,b,P){P&(E.JOm.DashCase|E.JOm.Important)?c.style.setProperty(d,b,P&E.JOm.Important?"important":""):c.style[d]=b}removeStyle(c,d,b){b&E.JOm.DashCase?c.style.removeProperty(d):c.style[d]=""}setProperty(c,d,b){c[d]=b}setValue(c,d){c.nodeValue=d}listen(c,d,b){return"string"==typeof c?this.eventManager.addGlobalEventListener(c,d,pe(b)):this.eventManager.addEventListener(c,d,pe(b))}}class Gn extends Ue{constructor(c,d,b,P){super(c),this.component=b;const G=$e(P+"-"+b.id,b.styles,[]);d.addStyles(G),this.contentAttr=function Ee(v){return"_ngcontent-%COMP%".replace(it,v)}(P+"-"+b.id),this.hostAttr=function Oe(v){return"_nghost-%COMP%".replace(it,v)}(P+"-"+b.id)}applyToHost(c){super.setAttribute(c,this.hostAttr,"")}createElement(c,d){const b=super.createElement(c,d);return super.setAttribute(b,this.contentAttr,""),b}}class Pt extends Ue{constructor(c,d,b,P){super(c),this.sharedStylesHost=d,this.hostEl=b,this.shadowRoot=b.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const G=$e(P.id,P.styles,[]);for(let ne=0;ne<G.length;ne++){const re=document.createElement("style");re.textContent=G[ne],this.shadowRoot.appendChild(re)}}nodeOrShadowRoot(c){return c===this.hostEl?this.shadowRoot:c}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(c,d){return super.appendChild(this.nodeOrShadowRoot(c),d)}insertBefore(c,d,b){return super.insertBefore(this.nodeOrShadowRoot(c),d,b)}removeChild(c,d){return super.removeChild(this.nodeOrShadowRoot(c),d)}parentNode(c){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(c)))}}let Lt=(()=>{class v extends dt{constructor(d){super(d)}supports(d){return!0}addEventListener(d,b,P){return d.addEventListener(b,P,!1),()=>this.removeEventListener(d,b,P)}removeEventListener(d,b,P){return d.removeEventListener(b,P)}}return v.\u0275fac=function(d){return new(d||v)(E.LFG(m.K0))},v.\u0275prov=E.Yz7({token:v,factory:v.\u0275fac}),v})();const Ln=["alt","control","meta","shift"],kn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bt={alt:v=>v.altKey,control:v=>v.ctrlKey,meta:v=>v.metaKey,shift:v=>v.shiftKey};let Yt=(()=>{class v extends dt{constructor(d){super(d)}supports(d){return null!=v.parseEventName(d)}addEventListener(d,b,P){const G=v.parseEventName(b),ne=v.eventCallback(G.fullKey,P,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(d,G.domEventName,ne))}static parseEventName(d){const b=d.toLowerCase().split("."),P=b.shift();if(0===b.length||"keydown"!==P&&"keyup"!==P)return null;const G=v._normalizeKey(b.pop());let ne="";if(Ln.forEach(Re=>{const Ye=b.indexOf(Re);Ye>-1&&(b.splice(Ye,1),ne+=Re+".")}),ne+=G,0!=b.length||0===G.length)return null;const re={};return re.domEventName=P,re.fullKey=ne,re}static getEventFullKey(d){let b="",P=function Xn(v){let c=v.key;if(null==c){if(c=v.keyIdentifier,null==c)return"Unidentified";c.startsWith("U+")&&(c=String.fromCharCode(parseInt(c.substring(2),16)),3===v.location&&Zt.hasOwnProperty(c)&&(c=Zt[c]))}return kn[c]||c}(d);return P=P.toLowerCase()," "===P?P="space":"."===P&&(P="dot"),Ln.forEach(G=>{G!=P&&Bt[G](d)&&(b+=G+".")}),b+=P,b}static eventCallback(d,b,P){return G=>{v.getEventFullKey(G)===d&&P.runGuarded(()=>b(G))}}static _normalizeKey(d){return"esc"===d?"escape":d}}return v.\u0275fac=function(d){return new(d||v)(E.LFG(m.K0))},v.\u0275prov=E.Yz7({token:v,factory:v.\u0275fac}),v})();const Er=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:m.bD},{provide:E.g9A,useValue:function zn(){fe.makeCurrent(),Pe.init()},multi:!0},{provide:m.K0,useFactory:function Wn(){return(0,E.RDi)(document),document},deps:[]}]),ar=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function Fn(){return new E.qLn},deps:[]},{provide:rt,useClass:Lt,multi:!0,deps:[m.K0,E.R0b,E.Lbi]},{provide:rt,useClass:Yt,multi:!0,deps:[m.K0]},{provide:Fe,useClass:Fe,deps:[ot,nt,E.AFp]},{provide:E.FYo,useExisting:Fe},{provide:We,useExisting:nt},{provide:nt,useClass:nt,deps:[m.K0]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b]},{provide:ot,useClass:ot,deps:[rt,E.R0b]},{provide:m.JF,useClass:It,deps:[]}];let _n=(()=>{class v{constructor(d){if(d)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(d){return{ngModule:v,providers:[{provide:E.AFp,useValue:d.appId},{provide:Me,useExisting:E.AFp},he]}}}return v.\u0275fac=function(d){return new(d||v)(E.LFG(v,12))},v.\u0275mod=E.oAB({type:v}),v.\u0275inj=E.cJS({providers:ar,imports:[m.ez,E.hGG]}),v})();"undefined"!=typeof window&&window;var ue=B(2011);const ze_firebase={apiKey:"xxxxxxxx-xxxxxxxx",authDomain:"xxxxxxxxxxxxxxxxxxxxxxxx",databaseURL:"xxxxxxxxxxxxxxxxxxxxxxxx",projectId:"xxxxxxxx",storageBucket:"xxxxxxxx",messagingSenderId:"xxxxxx",appId:"xxxxx",measurementId:"xxxxxxxxxxxxxxxx"};var Xe=B(4232),St=B(8215);function on(v,c){if(1&v&&(E.TgZ(0,"h2",25),E._uU(1),E.qZA()),2&v){const d=E.oxw().$implicit;E.xp6(1),E.Oqu(d)}}function Nt(v,c){if(1&v&&(E.TgZ(0,"h5",26),E._uU(1),E.qZA()),2&v){const d=E.oxw().$implicit;E.xp6(1),E.Oqu(d)}}function pn(v,c){if(1&v&&(E.TgZ(0,"div"),E.YNc(1,on,2,1,"h2",23),E.YNc(2,Nt,2,1,"h5",24),E.qZA()),2&v){const d=E.oxw().$implicit;E.xp6(1),E.Q6J("ngIf",!d.useSmallerHeadings),E.xp6(1),E.Q6J("ngIf",d.useSmallerHeadings)}}function cr(v,c){if(1&v&&(E.TgZ(0,"div",18)(1,"h1",19),E._uU(2,"Howdy, \u{1f44b}. We are the code wizards welcome to "),E.TgZ(3,"span",8),E._uU(4,"ScienceHub"),E.qZA()(),E.YNc(5,pn,3,2,"div",20),E.TgZ(6,"a",21)(7,"span",8),E._uU(8,"Know more about this site"),E.qZA(),E._UZ(9,"i",22),E.qZA()()),2&v){const d=c.$implicit,b=E.oxw().ngIf;E.Q6J("ngClass",d.viewClasses),E.xp6(1),E.Q6J("ngClass",d.headingClass),E.xp6(4),E.Q6J("ngForOf",b.intro)}}const Ir=function(){return["/competitions"]};function jn(v,c){if(1&v&&(E.TgZ(0,"div",27)(1,"a",28)(2,"div",29)(3,"div",30)(4,"h3",31),E._uU(5),E.TgZ(6,"div",32),E._uU(7),E.qZA()()(),E._UZ(8,"img",33),E.TgZ(9,"div",34)(10,"p",35),E._uU(11),E.qZA()()()()()),2&v){const d=c.$implicit;E.xp6(1),E.Q6J("routerLink",E.DdM(7,Ir)),E.xp6(3),E.Q6J("title","Chemistry"),E.xp6(1),E.hij(" ",d.title," "),E.xp6(1),E.Q6J("ngClass",d.bgclass),E.xp6(1),E.hij(" ",d.subject," "),E.xp6(1),E.Q6J("src",d.img,E.LSH),E.xp6(3),E.hij(" ",d.description," ")}}function _r(v,c){if(1&v&&(E.TgZ(0,"div",27)(1,"a",28)(2,"div",29)(3,"div",30)(4,"h3",31),E._uU(5),E.qZA()(),E._UZ(6,"lottie-player",36),E.TgZ(7,"div",34)(8,"p",35),E._uU(9),E.qZA()()()()()),2&v){const d=c.$implicit;E.xp6(1),E.Q6J("routerLink",E.DdM(6,Ir)),E.xp6(3),E.Q6J("title","Chemistry"),E.xp6(1),E.hij(" ",d.title," "),E.xp6(1),E.Q6J("src",d.lottie)("speed",d.speed),E.xp6(3),E.hij(" ",d.description," ")}}function Pr(v,c){if(1&v&&(E.TgZ(0,"div",11),E.YNc(1,_r,10,7,"div",12),E.qZA()),2&v){const d=E.oxw(2);E.xp6(1),E.Q6J("ngForOf",d.competitions)}}function fr(v,c){if(1&v){const d=E.EpF();E.TgZ(0,"div",1)(1,"div",2),E.YNc(2,cr,10,3,"div",3),E.qZA(),E.TgZ(3,"div",4),E._UZ(4,"hr"),E.qZA(),E.TgZ(5,"div",5)(6,"div",6)(7,"h1",7)(8,"span",8),E._uU(9,"Papers & Problems"),E.qZA()(),E.TgZ(10,"h4",9),E._uU(11," Practice and learn with problems, excercises and theory from past science olympiad exams. Begin your studying journey with easy problems designed for olympiad competitions. "),E.qZA()()(),E.TgZ(12,"div",5)(13,"div",10)(14,"div",11),E.YNc(15,jn,12,8,"div",12),E.qZA(),E.TgZ(16,"a",13),E._uU(17,"See more problems"),E.qZA()()(),E.TgZ(18,"div",4),E._UZ(19,"hr"),E.qZA(),E.TgZ(20,"div",5)(21,"div",6)(22,"h1",7)(23,"span",8),E._uU(24,"Olympiad"),E.qZA(),E._uU(25," Competitions"),E.qZA(),E.TgZ(26,"h4",9),E._uU(27," Get to know about the different competitions on science around, the globe. Learn how to participate and become part of the international team of your country. "),E.qZA()()(),E.TgZ(28,"div",14),E.NdJ("visibilityChange",function(){return E.CHM(d),E.oxw().deferLoad=!0}),E.YNc(29,Pr,2,1,"div",15),E.qZA(),E.TgZ(30,"a",16),E._uU(31,"Look for competitions"),E.qZA(),E.TgZ(32,"div",4),E._UZ(33,"hr"),E.qZA(),E.TgZ(34,"div",5)(35,"div",6)(36,"h1",7)(37,"span",8),E._uU(38,"Blog & Articles"),E.qZA()(),E.TgZ(39,"h4",9),E._uU(40," Visit our blog were you will find easy explanations and discussions on topics of olympic matter. "),E.qZA(),E.TgZ(41,"a",17),E._uU(42,"Visit Blog"),E.qZA()()(),E.TgZ(43,"div",4),E._UZ(44,"hr"),E.qZA(),E.TgZ(45,"div",5)(46,"div",6)(47,"h1",7)(48,"span",8),E._uU(49,"Resources & Information"),E.qZA()(),E.TgZ(50,"h4",9),E._uU(51," Quick access to useful Information, premade lists of problems for competitions, syllabus and more. "),E.qZA(),E.TgZ(52,"a",17),E._uU(53,"Consult Information"),E.qZA()()()()}if(2&v){const d=E.oxw();E.xp6(2),E.Q6J("ngForOf",d.respOptions),E.xp6(13),E.Q6J("ngForOf",d.papers),E.xp6(14),E.Q6J("ngIf",d.deferLoad)}}let cs=(()=>{class v{constructor(d){this.bioService=d,this.bio$=this.bioService.getBio(),this.deferLoad=!1,this.competitions=[{title:"\u{1f9ea} Chemistry",bgcolor:"bg-success",lottie:"https://assets8.lottiefiles.com/packages/lf20_dzu4dzms.json",speed:1,description:"Learn about the proccess to participate in the international chemistry olympiad (IChO)"},{title:"\u{1f52d} Physics",bgcolor:"bg-danger",lottie:"https://assets1.lottiefiles.com/private_files/lf30_rn8hog3p.json",speed:1,description:"Learn about the proccess to participate in the international physics olympiad (IPhO)"},{title:"\u{1f9fe} Mathematics",bgcolor:"bg-primary",lottie:"https://assets9.lottiefiles.com/packages/lf20_e27xvycf.json",speed:.5,description:"Learn about the proccess to participate in the international mathematics olympiad (IMO)"}],this.papers=[{title:"IPHO XL",subject:"physics",img:"../../../assets/images/shhh.PNG",description:"Lorem Ipsum dolorem martir",bgclass:"bg-danger",link:"/papers/paper/1"},{title:"ICHO XL",img:"../../../assets/images/shhh.PNG",subject:"chemistry",description:"Lorem Ipsum dolorem martir",bgclass:"bg-success",link:"/papers/paper/2"},{title:"IMO XL",subject:"mathematics",img:"../../../assets/images/shhh.PNG",description:"Lorem Ipsum dolorem martir",bgclass:"bg-secondary",link:"/papers/paper/3"}],this.respOptions=[{viewClasses:"d-none d-md-flex",headingClass:"display-3",useSmallerHeadings:!1},{viewClasses:"d-flex d-md-none",headingClass:"",useSmallerHeadings:!0}]}ngOnInit(){}}return v.\u0275fac=function(d){return new(d||v)(E.Y36(St.X))},v.\u0275cmp=E.Xpm({type:v,selectors:[["app-home"]],decls:2,vars:3,consts:[["class","d-flex flex-column justify-content-center align-items-center w-100",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"d-flex","flex-column","mt-5","justify-content-center","align-items-center","w-100"],["class","flex-column justify-content-center align-items-start w-75",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-3","container-fluid"],[1,"d-flex","justify-content-center","mx-auto"],[1,"flex-column","align-items-center","text-center","w-75"],[1,"mb-5","display-3"],[1,"fw-bold"],[1,"mb-4"],[1,"flex-column","align-items-center","text-center","vw-90","mt-3"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-lg-3"],["class","col mb-4",4,"ngFor","ngForOf"],["routerLink","/papers",1,"btn","btn-outline-light","rounded-pill"],["appObserver","",1,"vw-90","mt-3",3,"visibilityChange"],["class","row row-cols-1 row-cols-sm-2 row-cols-lg-3",4,"ngIf"],["routerLink","/competitions",1,"btn","btn-outline-light","rounded-pill"],["routerLink","/blog",1,"btn","btn-outline-light","rounded-pill","fw-bold"],[1,"flex-column","justify-content-center","align-items-start","w-75",3,"ngClass"],[1,"text-left",3,"ngClass"],[4,"ngFor","ngForOf"],["routerLink","/","fragment","papers",1,"mt-3","mb-5","btn","btn-outline-light"],[1,"ml-1","fas","fa-angle-right"],["class","text-left text-muted",4,"ngIf"],["class","text-left",4,"ngIf"],[1,"text-left","text-muted"],[1,"text-left"],[1,"col","mb-4"],[2,"text-decoration","none",3,"routerLink"],[1,"card","border-light","h-100"],[1,"card-header","mt-2"],[1,"fw-bold","text-center",2,"color","white",3,"title"],[1,"rounded-pill","badge",3,"ngClass"],["background","transparent","alt","paper img",3,"src"],[1,"card-body","text-center","text-light"],[1,"card-text","fw-bold"],["background","transparent","hover","","backwards","",3,"src","speed"]],template:function(d,b){1&d&&(E.YNc(0,fr,54,3,"div",0),E.ALo(1,"async")),2&d&&E.Q6J("ngIf",E.lcZ(1,1,b.bio$))},directives:[m.O5,m.sg,m.mk,Xe.yS],pipes:[m.Ov],styles:[".card[_ngcontent-%COMP%]{background-color:#212529}.card[_ngcontent-%COMP%]:hover{background-color:#0d6efd}"]}),v})();var Dn=B(2382);function Mt(v,c){if(1&v&&(E.TgZ(0,"div",46),E._UZ(1,"input",47)(2,"input",48)(3,"input",49),E.qZA()),2&v){const d=c.index;E.xp6(1),E.s9C("id","name"+d),E.xp6(1),E.s9C("id","keywords"+d),E.xp6(1),E.s9C("id","description"+d)}}const rn=[{path:"stepper",component:(()=>{class v{constructor(d){this.fb=d,this.progress="0%",this.submitPaperForm=this.fb.group({nameControl:[null,[Dn.kI.required]],subjectControl:[null],subjectInfo:this.fb.group({streetControl:[],postalcodeControl:[]}),problems:this.fb.array([this.createProblem()],Dn.kI.required)})}ngOnInit(){}createProblem(){return this.fb.group({name:[null,Dn.kI.required],description:[null,Dn.kI.required],keywords:[null,Dn.kI.required]})}addProblem(){this.problems.push(this.createProblem())}uploadPaper(){console.log("Paper uploaded")}get problems(){return this.submitPaperForm.get("problems")}nextStep(d){const b=document.querySelectorAll(".step-button");this.progress=100*d/2+"%",b.forEach((P,G)=>{d>G&&(P.classList.remove("btn-primary"),P.classList.add("btn-secondary")),d<=G&&(P.classList.add("btn-primary"),P.classList.remove("btn-secondary"))})}}return v.\u0275fac=function(d){return new(d||v)(E.Y36(Dn.qu))},v.\u0275cmp=E.Xpm({type:v,selectors:[["app-stepper"]],decls:90,vars:3,consts:[[1,"container","vw-90"],["id","accordionExample",1,"accordion"],[1,"d-flex","align-items-center","position-relative","justify-content-between","mb-3"],[1,"progress","w-100","position-absolute"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info"],[2,"z-index","10"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"btn","btn-primary","step-button","rounded-circle","text-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"btn","btn-primary","step-button","text-center","rounded-circle","collapsed"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"btn","btn-primary","step-button","text-center","rounded-circle","collapsed"],["id","collapseOne","aria-labelledby","headingOne","data-bs-parent","#accordionExample",1,"collapse","show"],[1,"card","bg-transparent"],[1,"card-body"],[1,"card-title","text-light","fw-bold","text-left"],[1,"input-group","mt-3"],["type","file","id","inputGroupFile04","aria-describedby","inputGroupFileAddon04","aria-label","Upload",1,"form-control"],[1,"card-footer"],[1,"btn","disabled","rounded-pill","btn-outline-primary","float-start"],["data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"btn","rounded-pill","btn-outline-primary","float-end",3,"click"],["id","collapseTwo","aria-labelledby","headingTwo","data-bs-parent","#accordionExample",1,"collapse"],["id","basic-addon1",1,"input-group-text"],["type","text","placeholder","Ipho Theoretical XXX","aria-label","Name","aria-describedby","basic-addon1",1,"form-control"],[1,"w-90"],[1,"input-group"],["for","inputGroupSelect01",1,"input-group-text"],["id","inputGroupSelect01",1,"form-select"],["selected","","value","Physics"],["value","Mathematics"],["value","Chemistry"],["value","Informatics"],["id","inputGroupSelect02",1,"input-group-text"],["id","inputGroupSelect02",1,"form-select"],["selected","","value","International"],["value","National"],["value","Satatal"],["value","Regional"],["type","text","placeholder","Electromagnetism, AmpersLaw, MirrorCharges","aria-label","Name","aria-describedby","basic-addon1",1,"form-control"],["type","text","placeholder","IPHO","aria-label","Name","aria-describedby","basic-addon1",1,"form-control"],["data-bs-toggle","collapse","data-bs-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"btn","rounded-pill","btn-outline-primary","float-start",3,"click"],["data-bs-toggle","collapse","data-bs-target","#collapseThree","aria-expanded","false","aria-controls","collapseThree",1,"btn","rounded-pill","btn-outline-primary","float-end",3,"click"],["id","collapseThree","aria-labelledby","headingThree","data-bs-parent","#accordionExample",1,"collapse"],["formControl","submitPaperForm","novalidate","",1,"text-center","border","border-light","p-5",3,"ngSubmit"],["type","number","placeholder","2","aria-label","Name","aria-describedby","basic-addon1",1,"form-control"],["type","button",1,"btn","btn-success",3,"click"],["formArrayName","problems",4,"ngFor","ngForOf"],["data-bs-toggle","collapse","data-bs-target","#collapseTwo","aria-expanded","false","aria-controls","collapseTwo",1,"btn","rounded-pill","btn-outline-primary","float-start",3,"click"],[1,"btn","disabled","rounded-pill","btn-outline-primary","float-end"],["formArrayName","problems"],["formControlName","name","type","text","placeholder","Enter Name",1,"form-control","mb-4",3,"id"],["formControlName","keywords","type","text","placeholder","Enter description",1,"form-control","mb-4",3,"id"],["formControlName","description","type","number","placeholder","Enter description ",1,"form-control","mb-4",3,"id"]],template:function(d,b){1&d&&(E.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),E._UZ(4,"div",4),E.qZA(),E.TgZ(5,"div",5)(6,"button",6),E._uU(7," 1 "),E.qZA()(),E.TgZ(8,"div",5)(9,"button",7),E._uU(10," 2 "),E.qZA()(),E.TgZ(11,"div",5)(12,"button",8),E._uU(13," 3 "),E.qZA()()(),E.TgZ(14,"div",9)(15,"div",10)(16,"div",11)(17,"h5",12),E._uU(18,"Upload paper"),E.qZA(),E.TgZ(19,"div",13),E._UZ(20,"input",14),E.qZA()(),E.TgZ(21,"div",15)(22,"button",16),E._uU(23,"Return"),E.qZA(),E.TgZ(24,"button",17),E.NdJ("click",function(){return b.nextStep(1)}),E._uU(25,"Next"),E.qZA()()()(),E.TgZ(26,"div",18)(27,"div",10)(28,"div",11)(29,"h5",12),E._uU(30,"Papers General Information"),E.qZA(),E.TgZ(31,"div",13)(32,"span",19),E._uU(33,"Name"),E.qZA(),E._UZ(34,"input",20),E.qZA(),E._UZ(35,"hr",21),E.TgZ(36,"div",22)(37,"label",23),E._uU(38,"Subject"),E.qZA(),E.TgZ(39,"select",24)(40,"option",25),E._uU(41,"Physics"),E.qZA(),E.TgZ(42,"option",26),E._uU(43,"Mathematics"),E.qZA(),E.TgZ(44,"option",27),E._uU(45,"Chemistry"),E.qZA(),E.TgZ(46,"option",28),E._uU(47,"Informatics"),E.qZA()(),E.TgZ(48,"span",29),E._uU(49,"Level"),E.qZA(),E.TgZ(50,"select",30)(51,"option",31),E._uU(52,"International"),E.qZA(),E.TgZ(53,"option",32),E._uU(54,"National"),E.qZA(),E.TgZ(55,"option",33),E._uU(56,"Statal"),E.qZA(),E.TgZ(57,"option",34),E._uU(58,"Regional"),E.qZA()()(),E.TgZ(59,"div",13)(60,"span",19),E._uU(61,"Sub Branches"),E.qZA(),E._UZ(62,"input",35),E.qZA(),E.TgZ(63,"div",13)(64,"span",19),E._uU(65,"Competition Name"),E.qZA(),E._UZ(66,"input",36),E.qZA(),E._UZ(67,"hr",21),E.qZA(),E.TgZ(68,"div",15)(69,"button",37),E.NdJ("click",function(){return b.nextStep(0)}),E._uU(70,"Return"),E.qZA(),E.TgZ(71,"button",38),E.NdJ("click",function(){return b.nextStep(2)}),E._uU(72,"Next"),E.qZA()()()(),E.TgZ(73,"div",39)(74,"div",10)(75,"div",11)(76,"form",40),E.NdJ("ngSubmit",function(){return b.uploadPaper()}),E.TgZ(77,"div",13)(78,"span",19),E._uU(79,"Number of Problems"),E.qZA(),E._UZ(80,"input",41),E.TgZ(81,"button",42),E.NdJ("click",function(){return b.addProblem()}),E._uU(82,"Apply"),E.qZA()(),E._UZ(83,"hr"),E.YNc(84,Mt,4,3,"div",43),E.qZA()(),E.TgZ(85,"div",15)(86,"button",44),E.NdJ("click",function(){return b.nextStep(1)}),E._uU(87,"Return"),E.qZA(),E.TgZ(88,"button",45),E._uU(89,"Next"),E.qZA()()()()()()),2&d&&(E.xp6(4),E.Akn("width: "+b.progress),E.xp6(80),E.Q6J("ngForOf",b.problems.controls))},directives:[Dn.YN,Dn.Kr,Dn._Y,Dn.JL,Dn.F,Dn.JJ,m.sg,Dn.Fj,Dn.wV],styles:[".step-button[aria-expanded=true][_ngcontent-%COMP%]{width:60px;height:60px}"]}),v})()},{path:"",component:cs},{path:"",redirectTo:"",pathMatch:"full"},{path:"papers",loadChildren:()=>Promise.all([B.e(919),B.e(592),B.e(575)]).then(B.bind(B,1575)).then(v=>v.PortfolioModule)},{path:"competitions",loadChildren:()=>B.e(322).then(B.bind(B,6322)).then(v=>v.CompetitionsModule)},{path:"blog",loadChildren:()=>Promise.all([B.e(919),B.e(867)]).then(B.bind(B,9867)).then(v=>v.BlogModule)},{path:"admin",loadChildren:()=>Promise.all([B.e(592),B.e(410)]).then(B.bind(B,7410)).then(v=>v.AdminModule)}];let Un=(()=>{class v{}return v.\u0275fac=function(d){return new(d||v)},v.\u0275mod=E.oAB({type:v}),v.\u0275inj=E.cJS({imports:[[Xe.Bz.forRoot(rn,{preloadingStrategy:Xe.wm})],Xe.Bz]}),v})();var vi=B(520);class pr{}const Hn="*";function gr(v,c){return{type:7,name:v,definitions:c,options:{}}}function Mi(v,c=null){return{type:4,styles:c,timings:v}}function Cn(v,c=null){return{type:3,steps:v,options:c}}function xi(v,c=null){return{type:2,steps:v,options:c}}function Ar(v){return{type:6,styles:v,offset:null}}function Dr(v,c,d=null){return{type:1,expr:v,animation:c,options:d}}function Cr(v=null){return{type:9,options:v}}function Rn(v,c,d=null){return{type:11,selector:v,animation:c,options:d}}function Oi(v){Promise.resolve(null).then(v)}class dr{constructor(c=0,d=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=c+d}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}onStart(c){this._onStartFns.push(c)}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Oi(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(c=>c()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(c){this._position=this.totalTime?c*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(c){const d="start"==c?this._onStartFns:this._onDoneFns;d.forEach(b=>b()),d.length=0}}class Ri{constructor(c){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=c;let d=0,b=0,P=0;const G=this.players.length;0==G?Oi(()=>this._onFinish()):this.players.forEach(ne=>{ne.onDone(()=>{++d==G&&this._onFinish()}),ne.onDestroy(()=>{++b==G&&this._onDestroy()}),ne.onStart(()=>{++P==G&&this._onStart()})}),this.totalTime=this.players.reduce((ne,re)=>Math.max(ne,re.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this.players.forEach(c=>c.init())}onStart(c){this._onStartFns.push(c)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(c=>c()),this._onStartFns=[])}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(c=>c.play())}pause(){this.players.forEach(c=>c.pause())}restart(){this.players.forEach(c=>c.restart())}finish(){this._onFinish(),this.players.forEach(c=>c.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(c=>c.destroy()),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}reset(){this.players.forEach(c=>c.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(c){const d=c*this.totalTime;this.players.forEach(b=>{const P=b.totalTime?Math.min(1,d/b.totalTime):1;b.setPosition(P)})}getPosition(){const c=this.players.reduce((d,b)=>null===d||b.totalTime>d.totalTime?b:d,null);return null!=c?c.getPosition():0}beforeDestroy(){this.players.forEach(c=>{c.beforeDestroy&&c.beforeDestroy()})}triggerCallback(c){const d="start"==c?this._onStartFns:this._onDoneFns;d.forEach(b=>b()),d.length=0}}const Sn=!1;function Bi(v){return new E.vHH(3e3,Sn)}function rs(){return"undefined"!=typeof window&&void 0!==window.document}function Ki(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Hr(v){switch(v.length){case 0:return new dr;case 1:return v[0];default:return new Ri(v)}}function Zi(v,c,d,b,P={},G={}){const ne=[],re=[];let Re=-1,Ye=null;if(b.forEach(jt=>{const Qt=jt.offset,Tn=Qt==Re,En=Tn&&Ye||{};Object.keys(jt).forEach(an=>{let An=an,xr=jt[an];if("offset"!==an)switch(An=c.normalizePropertyName(An,ne),xr){case"!":xr=P[an];break;case Hn:xr=G[an];break;default:xr=c.normalizeStyleValue(an,An,xr,ne)}En[An]=xr}),Tn||re.push(En),Ye=En,Re=Qt}),ne.length)throw function Wr(v){return new E.vHH(3502,Sn)}();return re}function eo(v,c,d,b){switch(c){case"start":v.onStart(()=>b(d&&bs(d,"start",v)));break;case"done":v.onDone(()=>b(d&&bs(d,"done",v)));break;case"destroy":v.onDestroy(()=>b(d&&bs(d,"destroy",v)))}}function bs(v,c,d){const b=d.totalTime,G=kr(v.element,v.triggerName,v.fromState,v.toState,c||v.phaseName,null==b?v.totalTime:b,!!d.disabled),ne=v._data;return null!=ne&&(G._data=ne),G}function kr(v,c,d,b,P="",G=0,ne){return{element:v,triggerName:c,fromState:d,toState:b,phaseName:P,totalTime:G,disabled:!!ne}}function Fr(v,c,d){let b;return v instanceof Map?(b=v.get(c),b||v.set(c,b=d)):(b=v[c],b||(b=v[c]=d)),b}function is(v){const c=v.indexOf(":");return[v.substring(1,c),v.substr(c+1)]}let ur=(v,c)=>!1,F=(v,c,d)=>[],z=null;function k(v){const c=v.parentNode||v.host;return c===z?null:c}(Ki()||"undefined"!=typeof Element)&&(rs()?(z=(()=>document.documentElement)(),ur=(v,c)=>{for(;c;){if(c===v)return!0;c=k(c)}return!1}):ur=(v,c)=>v.contains(c),F=(v,c,d)=>{if(d)return Array.from(v.querySelectorAll(c));const b=v.querySelector(c);return b?[b]:[]});let Ke=null,ut=!1;function gt(v){Ke||(Ke=function tr(){return"undefined"!=typeof document?document.body:null}()||{},ut=!!Ke.style&&"WebkitAppearance"in Ke.style);let c=!0;return Ke.style&&!function _e(v){return"ebkit"==v.substring(1,6)}(v)&&(c=v in Ke.style,!c&&ut&&(c="Webkit"+v.charAt(0).toUpperCase()+v.substr(1)in Ke.style)),c}const Kn=ur,On=F;let mr=(()=>{class v{validateStyleProperty(d){return gt(d)}matchesElement(d,b){return!1}containsElement(d,b){return Kn(d,b)}getParentElement(d){return k(d)}query(d,b,P){return On(d,b,P)}computeStyle(d,b,P){return P||""}animate(d,b,P,G,ne,re=[],Re){return new dr(P,G)}}return v.\u0275fac=function(d){return new(d||v)},v.\u0275prov=E.Yz7({token:v,factory:v.\u0275fac}),v})(),nr=(()=>{class v{}return v.NOOP=new mr,v})();const en="ng-enter",ss="ng-leave",Is="ng-trigger",ri=".ng-trigger",To="ng-animating",V=".ng-animating";function N(v){if("number"==typeof v)return v;const c=v.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:O(parseFloat(c[1]),c[2])}function O(v,c){return"s"===c?1e3*v:v}function j(v,c,d){return v.hasOwnProperty("duration")?v:function Ve(v,c,d){let P,G=0,ne="";if("string"==typeof v){const re=v.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===re)return c.push(Bi()),{duration:0,delay:0,easing:""};P=O(parseFloat(re[1]),re[2]);const Re=re[3];null!=Re&&(G=O(parseFloat(Re),re[4]));const Ye=re[5];Ye&&(ne=Ye)}else P=v;if(!d){let re=!1,Re=c.length;P<0&&(c.push(function js(){return new E.vHH(3100,Sn)}()),re=!0),G<0&&(c.push(function ji(){return new E.vHH(3101,Sn)}()),re=!0),re&&c.splice(Re,0,Bi())}return{duration:P,delay:G,easing:ne}}(v,c,d)}function Vt(v,c={}){return Object.keys(v).forEach(d=>{c[d]=v[d]}),c}function Lr(v,c,d={}){if(c)for(let b in v)d[b]=v[b];else Vt(v,d);return d}function Jr(v,c,d){return d?c+":"+d+";":""}function ui(v){let c="";for(let d=0;d<v.style.length;d++){const b=v.style.item(d);c+=Jr(0,b,v.style.getPropertyValue(b))}for(const d in v.style)v.style.hasOwnProperty(d)&&!d.startsWith("_")&&(c+=Jr(0,os(d),v.style[d]));v.setAttribute("style",c)}function bi(v,c,d){v.style&&(Object.keys(c).forEach(b=>{const P=$s(b);d&&!d.hasOwnProperty(b)&&(d[b]=v.style[P]),v.style[P]=c[b]}),Ki()&&ui(v))}function li(v,c){v.style&&(Object.keys(c).forEach(d=>{const b=$s(d);v.style[b]=""}),Ki()&&ui(v))}function Lo(v){return Array.isArray(v)?1==v.length?v[0]:xi(v):v}const Ao=new RegExp("{{\\s*(.+?)\\s*}}","g");function Vo(v){let c=[];if("string"==typeof v){let d;for(;d=Ao.exec(v);)c.push(d[1]);Ao.lastIndex=0}return c}function ci(v,c,d){const b=v.toString(),P=b.replace(Ao,(G,ne)=>{let re=c[ne];return c.hasOwnProperty(ne)||(d.push(function zr(v){return new E.vHH(3003,Sn)}()),re=""),re.toString()});return P==b?v:P}function Yi(v){const c=[];let d=v.next();for(;!d.done;)c.push(d.value),d=v.next();return c}const to=/-+([a-z0-9])/g;function $s(v){return v.replace(to,(...c)=>c[1].toUpperCase())}function os(v){return v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ki(v,c,d){switch(c.type){case 7:return v.visitTrigger(c,d);case 0:return v.visitState(c,d);case 1:return v.visitTransition(c,d);case 2:return v.visitSequence(c,d);case 3:return v.visitGroup(c,d);case 4:return v.visitAnimate(c,d);case 5:return v.visitKeyframes(c,d);case 6:return v.visitStyle(c,d);case 8:return v.visitReference(c,d);case 9:return v.visitAnimateChild(c,d);case 10:return v.visitAnimateRef(c,d);case 11:return v.visitQuery(c,d);case 12:return v.visitStagger(c,d);default:throw function As(v){return new E.vHH(3004,Sn)}()}}function Zo(v,c){return window.getComputedStyle(v)[c]}function ba(v,c){const d=[];return"string"==typeof v?v.split(/\s*,\s*/).forEach(b=>function ua(v,c,d){if(":"==v[0]){const Re=function Ia(v,c){switch(v){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(d,b)=>parseFloat(b)>parseFloat(d);case":decrement":return(d,b)=>parseFloat(b)<parseFloat(d);default:return c.push(function Qs(v){return new E.vHH(3016,Sn)}()),"* => *"}}(v,d);if("function"==typeof Re)return void c.push(Re);v=Re}const b=v.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==b||b.length<4)return d.push(function Ei(v){return new E.vHH(3015,Sn)}()),c;const P=b[1],G=b[2],ne=b[3];c.push(Da(P,ne));"<"==G[0]&&!("*"==P&&"*"==ne)&&c.push(Da(ne,P))}(b,d,c)):d.push(v),d}const $i=new Set(["true","1"]),Qo=new Set(["false","0"]);function Da(v,c){const d=$i.has(v)||Qo.has(v),b=$i.has(c)||Qo.has(c);return(P,G)=>{let ne="*"==v||v==P,re="*"==c||c==G;return!ne&&d&&"boolean"==typeof P&&(ne=P?$i.has(v):Qo.has(v)),!re&&b&&"boolean"==typeof G&&(re=G?$i.has(c):Qo.has(c)),ne&&re}}const ro=new RegExp("s*:selfs*,?","g");function qr(v,c,d,b){return new Ca(v).build(c,d,b)}class Ca{constructor(c){this._driver=c}build(c,d,b){const P=new Xo(d);this._resetContextStyleTimingState(P);const G=ki(this,Lo(c),P);return P.unsupportedCSSPropertiesFound.size&&P.unsupportedCSSPropertiesFound.keys(),G}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles={},c.collectedStyles[""]={},c.currentTime=0}visitTrigger(c,d){let b=d.queryCount=0,P=d.depCount=0;const G=[],ne=[];return"@"==c.name.charAt(0)&&d.errors.push(function xe(){return new E.vHH(3006,Sn)}()),c.definitions.forEach(re=>{if(this._resetContextStyleTimingState(d),0==re.type){const Re=re,Ye=Re.name;Ye.toString().split(/\s*,\s*/).forEach(jt=>{Re.name=jt,G.push(this.visitState(Re,d))}),Re.name=Ye}else if(1==re.type){const Re=this.visitTransition(re,d);b+=Re.queryCount,P+=Re.depCount,ne.push(Re)}else d.errors.push(function Ce(){return new E.vHH(3007,Sn)}())}),{type:7,name:c.name,states:G,transitions:ne,queryCount:b,depCount:P,options:null}}visitState(c,d){const b=this.visitStyle(c.styles,d),P=c.options&&c.options.params||null;if(b.containsDynamicStyles){const G=new Set,ne=P||{};b.styles.forEach(re=>{if(io(re)){const Re=re;Object.keys(Re).forEach(Ye=>{Vo(Re[Ye]).forEach(jt=>{ne.hasOwnProperty(jt)||G.add(jt)})})}}),G.size&&(Yi(G.values()),d.errors.push(function He(v,c){return new E.vHH(3008,Sn)}()))}return{type:0,name:c.name,style:b,options:P?{params:P}:null}}visitTransition(c,d){d.queryCount=0,d.depCount=0;const b=ki(this,Lo(c.animation),d);return{type:1,matchers:ba(c.expr,d.errors),animation:b,queryCount:d.queryCount,depCount:d.depCount,options:xs(c.options)}}visitSequence(c,d){return{type:2,steps:c.steps.map(b=>ki(this,b,d)),options:xs(c.options)}}visitGroup(c,d){const b=d.currentTime;let P=0;const G=c.steps.map(ne=>{d.currentTime=b;const re=ki(this,ne,d);return P=Math.max(P,d.currentTime),re});return d.currentTime=P,{type:3,steps:G,options:xs(c.options)}}visitAnimate(c,d){const b=function ho(v,c){if(v.hasOwnProperty("duration"))return v;if("number"==typeof v)return Xr(j(v,c).duration,0,"");const d=v;if(d.split(/\s+/).some(G=>"{"==G.charAt(0)&&"{"==G.charAt(1))){const G=Xr(0,0,"");return G.dynamic=!0,G.strValue=d,G}const P=j(d,c);return Xr(P.duration,P.delay,P.easing)}(c.timings,d.errors);d.currentAnimateTimings=b;let P,G=c.styles?c.styles:Ar({});if(5==G.type)P=this.visitKeyframes(G,d);else{let ne=c.styles,re=!1;if(!ne){re=!0;const Ye={};b.easing&&(Ye.easing=b.easing),ne=Ar(Ye)}d.currentTime+=b.duration+b.delay;const Re=this.visitStyle(ne,d);Re.isEmptyStep=re,P=Re}return d.currentAnimateTimings=null,{type:4,timings:b,style:P,options:null}}visitStyle(c,d){const b=this._makeStyleAst(c,d);return this._validateStyleAst(b,d),b}_makeStyleAst(c,d){const b=[];Array.isArray(c.styles)?c.styles.forEach(ne=>{"string"==typeof ne?ne==Hn?b.push(ne):d.errors.push(function at(v){return new E.vHH(3002,Sn)}()):b.push(ne)}):b.push(c.styles);let P=!1,G=null;return b.forEach(ne=>{if(io(ne)){const re=ne,Re=re.easing;if(Re&&(G=Re,delete re.easing),!P)for(let Ye in re)if(re[Ye].toString().indexOf("{{")>=0){P=!0;break}}}),{type:6,styles:b,easing:G,offset:c.offset,containsDynamicStyles:P,options:null}}_validateStyleAst(c,d){const b=d.currentAnimateTimings;let P=d.currentTime,G=d.currentTime;b&&G>0&&(G-=b.duration+b.delay),c.styles.forEach(ne=>{"string"!=typeof ne&&Object.keys(ne).forEach(re=>{if(!this._driver.validateStyleProperty(re))return delete ne[re],void d.unsupportedCSSPropertiesFound.add(re);const Re=d.collectedStyles[d.currentQuerySelector],Ye=Re[re];let jt=!0;Ye&&(G!=P&&G>=Ye.startTime&&P<=Ye.endTime&&(d.errors.push(function zt(v,c,d,b,P){return new E.vHH(3010,Sn)}()),jt=!1),G=Ye.startTime),jt&&(Re[re]={startTime:G,endTime:P}),d.options&&function wa(v,c,d){const b=c.params||{},P=Vo(v);P.length&&P.forEach(G=>{b.hasOwnProperty(G)||d.push(function _s(v){return new E.vHH(3001,Sn)}())})}(ne[re],d.options,d.errors)})})}visitKeyframes(c,d){const b={type:5,styles:[],options:null};if(!d.currentAnimateTimings)return d.errors.push(function er(){return new E.vHH(3011,Sn)}()),b;let G=0;const ne=[];let re=!1,Re=!1,Ye=0;const jt=c.steps.map(gi=>{const Ti=this._makeStyleAst(gi,d);let us=null!=Ti.offset?Ti.offset:function Uo(v){if("string"==typeof v)return null;let c=null;if(Array.isArray(v))v.forEach(d=>{if(io(d)&&d.hasOwnProperty("offset")){const b=d;c=parseFloat(b.offset),delete b.offset}});else if(io(v)&&v.hasOwnProperty("offset")){const d=v;c=parseFloat(d.offset),delete d.offset}return c}(Ti.styles),yr=0;return null!=us&&(G++,yr=Ti.offset=us),Re=Re||yr<0||yr>1,re=re||yr<Ye,Ye=yr,ne.push(yr),Ti});Re&&d.errors.push(function Sr(){return new E.vHH(3012,Sn)}()),re&&d.errors.push(function qn(){return new E.vHH(3200,Sn)}());const Qt=c.steps.length;let Tn=0;G>0&&G<Qt?d.errors.push(function Qr(){return new E.vHH(3202,Sn)}()):0==G&&(Tn=1/(Qt-1));const En=Qt-1,an=d.currentTime,An=d.currentAnimateTimings,xr=An.duration;return jt.forEach((gi,Ti)=>{const us=Tn>0?Ti==En?1:Tn*Ti:ne[Ti],yr=us*xr;d.currentTime=an+An.delay+yr,An.duration=yr,this._validateStyleAst(gi,d),gi.offset=us,b.styles.push(gi)}),b}visitReference(c,d){return{type:8,animation:ki(this,Lo(c.animation),d),options:xs(c.options)}}visitAnimateChild(c,d){return d.depCount++,{type:9,options:xs(c.options)}}visitAnimateRef(c,d){return{type:10,animation:this.visitReference(c.animation,d),options:xs(c.options)}}visitQuery(c,d){const b=d.currentQuerySelector,P=c.options||{};d.queryCount++,d.currentQuery=c;const[G,ne]=function gu(v){const c=!!v.split(/\s*,\s*/).find(d=>":self"==d);return c&&(v=v.replace(ro,"")),v=v.replace(/@\*/g,ri).replace(/@\w+/g,d=>ri+"-"+d.substr(1)).replace(/:animating/g,V),[v,c]}(c.selector);d.currentQuerySelector=b.length?b+" "+G:G,Fr(d.collectedStyles,d.currentQuerySelector,{});const re=ki(this,Lo(c.animation),d);return d.currentQuery=null,d.currentQuerySelector=b,{type:11,selector:G,limit:P.limit||0,optional:!!P.optional,includeSelf:ne,animation:re,originalSelector:c.selector,options:xs(c.options)}}visitStagger(c,d){d.currentQuery||d.errors.push(function Do(){return new E.vHH(3013,Sn)}());const b="full"===c.timings?{duration:0,delay:0,easing:"full"}:j(c.timings,d.errors,!0);return{type:12,animation:ki(this,Lo(c.animation),d),timings:b,options:null}}}class Xo{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function io(v){return!Array.isArray(v)&&"object"==typeof v}function xs(v){return v?(v=Vt(v)).params&&(v.params=function la(v){return v?Vt(v):null}(v.params)):v={},v}function Xr(v,c,d){return{duration:v,delay:c,easing:d}}function di(v,c,d,b,P,G,ne=null,re=!1){return{type:1,element:v,keyframes:c,preStyleProps:d,postStyleProps:b,duration:P,delay:G,totalTime:P+G,easing:ne,subTimeline:re}}class So{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,d){let b=this._map.get(c);b||this._map.set(c,b=[]),b.push(...d)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const so=new RegExp(":enter","g"),hs=new RegExp(":leave","g");function ea(v,c,d,b,P,G={},ne={},re,Re,Ye=[]){return(new qa).buildKeyframes(v,c,d,b,P,G,ne,re,Re,Ye)}class qa{buildKeyframes(c,d,b,P,G,ne,re,Re,Ye,jt=[]){Ye=Ye||new So;const Qt=new da(c,d,Ye,P,G,jt,[]);Qt.options=Re,Qt.currentTimeline.setStyles([ne],null,Qt.errors,Re),ki(this,b,Qt);const Tn=Qt.timelines.filter(En=>En.containsAnimation());if(Object.keys(re).length){let En;for(let an=Tn.length-1;an>=0;an--){const An=Tn[an];if(An.element===d){En=An;break}}En&&!En.allowOnlyTimelineStyles()&&En.setStyles([re],null,Qt.errors,Re)}return Tn.length?Tn.map(En=>En.buildKeyframes()):[di(d,[],[],[],0,0,"",!1)]}visitTrigger(c,d){}visitState(c,d){}visitTransition(c,d){}visitAnimateChild(c,d){const b=d.subInstructions.get(d.element);if(b){const P=d.createSubContext(c.options),G=d.currentTimeline.currentTime,ne=this._visitSubInstructions(b,P,P.options);G!=ne&&d.transformIntoNewTimeline(ne)}d.previousNode=c}visitAnimateRef(c,d){const b=d.createSubContext(c.options);b.transformIntoNewTimeline(),this.visitReference(c.animation,b),d.transformIntoNewTimeline(b.currentTimeline.currentTime),d.previousNode=c}_visitSubInstructions(c,d,b){let G=d.currentTimeline.currentTime;const ne=null!=b.duration?N(b.duration):null,re=null!=b.delay?N(b.delay):null;return 0!==ne&&c.forEach(Re=>{const Ye=d.appendInstructionToTimeline(Re,ne,re);G=Math.max(G,Ye.duration+Ye.delay)}),G}visitReference(c,d){d.updateOptions(c.options,!0),ki(this,c.animation,d),d.previousNode=c}visitSequence(c,d){const b=d.subContextCount;let P=d;const G=c.options;if(G&&(G.params||G.delay)&&(P=d.createSubContext(G),P.transformIntoNewTimeline(),null!=G.delay)){6==P.previousNode.type&&(P.currentTimeline.snapshotCurrentStyles(),P.previousNode=ca);const ne=N(G.delay);P.delayNextStep(ne)}c.steps.length&&(c.steps.forEach(ne=>ki(this,ne,P)),P.currentTimeline.applyStylesToKeyframe(),P.subContextCount>b&&P.transformIntoNewTimeline()),d.previousNode=c}visitGroup(c,d){const b=[];let P=d.currentTimeline.currentTime;const G=c.options&&c.options.delay?N(c.options.delay):0;c.steps.forEach(ne=>{const re=d.createSubContext(c.options);G&&re.delayNextStep(G),ki(this,ne,re),P=Math.max(P,re.currentTimeline.currentTime),b.push(re.currentTimeline)}),b.forEach(ne=>d.currentTimeline.mergeTimelineCollectedStyles(ne)),d.transformIntoNewTimeline(P),d.previousNode=c}_visitTiming(c,d){if(c.dynamic){const b=c.strValue;return j(d.params?ci(b,d.params,d.errors):b,d.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,d){const b=d.currentAnimateTimings=this._visitTiming(c.timings,d),P=d.currentTimeline;b.delay&&(d.incrementTime(b.delay),P.snapshotCurrentStyles());const G=c.style;5==G.type?this.visitKeyframes(G,d):(d.incrementTime(b.duration),this.visitStyle(G,d),P.applyStylesToKeyframe()),d.currentAnimateTimings=null,d.previousNode=c}visitStyle(c,d){const b=d.currentTimeline,P=d.currentAnimateTimings;!P&&b.getCurrentStyleProperties().length&&b.forwardFrame();const G=P&&P.easing||c.easing;c.isEmptyStep?b.applyEmptyStep(G):b.setStyles(c.styles,G,d.errors,d.options),d.previousNode=c}visitKeyframes(c,d){const b=d.currentAnimateTimings,P=d.currentTimeline.duration,G=b.duration,re=d.createSubContext().currentTimeline;re.easing=b.easing,c.styles.forEach(Re=>{re.forwardTime((Re.offset||0)*G),re.setStyles(Re.styles,Re.easing,d.errors,d.options),re.applyStylesToKeyframe()}),d.currentTimeline.mergeTimelineCollectedStyles(re),d.transformIntoNewTimeline(P+G),d.previousNode=c}visitQuery(c,d){const b=d.currentTimeline.currentTime,P=c.options||{},G=P.delay?N(P.delay):0;G&&(6===d.previousNode.type||0==b&&d.currentTimeline.getCurrentStyleProperties().length)&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=ca);let ne=b;const re=d.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!P.optional,d.errors);d.currentQueryTotal=re.length;let Re=null;re.forEach((Ye,jt)=>{d.currentQueryIndex=jt;const Qt=d.createSubContext(c.options,Ye);G&&Qt.delayNextStep(G),Ye===d.element&&(Re=Qt.currentTimeline),ki(this,c.animation,Qt),Qt.currentTimeline.applyStylesToKeyframe(),ne=Math.max(ne,Qt.currentTimeline.currentTime)}),d.currentQueryIndex=0,d.currentQueryTotal=0,d.transformIntoNewTimeline(ne),Re&&(d.currentTimeline.mergeTimelineCollectedStyles(Re),d.currentTimeline.snapshotCurrentStyles()),d.previousNode=c}visitStagger(c,d){const b=d.parentContext,P=d.currentTimeline,G=c.timings,ne=Math.abs(G.duration),re=ne*(d.currentQueryTotal-1);let Re=ne*d.currentQueryIndex;switch(G.duration<0?"reverse":G.easing){case"reverse":Re=re-Re;break;case"full":Re=b.currentStaggerTime}const jt=d.currentTimeline;Re&&jt.delayNextStep(Re);const Qt=jt.currentTime;ki(this,c.animation,d),d.previousNode=c,b.currentStaggerTime=P.currentTime-Qt+(P.startTime-b.currentTimeline.startTime)}}const ca={};class da{constructor(c,d,b,P,G,ne,re,Re){this._driver=c,this.element=d,this.subInstructions=b,this._enterClassName=P,this._leaveClassName=G,this.errors=ne,this.timelines=re,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ca,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Re||new Fi(this._driver,d,0),re.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,d){if(!c)return;const b=c;let P=this.options;null!=b.duration&&(P.duration=N(b.duration)),null!=b.delay&&(P.delay=N(b.delay));const G=b.params;if(G){let ne=P.params;ne||(ne=this.options.params={}),Object.keys(G).forEach(re=>{(!d||!ne.hasOwnProperty(re))&&(ne[re]=ci(G[re],ne,this.errors))})}}_copyOptions(){const c={};if(this.options){const d=this.options.params;if(d){const b=c.params={};Object.keys(d).forEach(P=>{b[P]=d[P]})}}return c}createSubContext(c=null,d,b){const P=d||this.element,G=new da(this._driver,P,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(P,b||0));return G.previousNode=this.previousNode,G.currentAnimateTimings=this.currentAnimateTimings,G.options=this._copyOptions(),G.updateOptions(c),G.currentQueryIndex=this.currentQueryIndex,G.currentQueryTotal=this.currentQueryTotal,G.parentContext=this,this.subContextCount++,G}transformIntoNewTimeline(c){return this.previousNode=ca,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,d,b){const P={duration:null!=d?d:c.duration,delay:this.currentTimeline.currentTime+(null!=b?b:0)+c.delay,easing:""},G=new hi(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,P,c.stretchStartingKeyframe);return this.timelines.push(G),P}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,d,b,P,G,ne){let re=[];if(P&&re.push(this.element),c.length>0){c=(c=c.replace(so,"."+this._enterClassName)).replace(hs,"."+this._leaveClassName);let Ye=this._driver.query(this.element,c,1!=b);0!==b&&(Ye=b<0?Ye.slice(Ye.length+b,Ye.length):Ye.slice(0,b)),re.push(...Ye)}return!G&&0==re.length&&ne.push(function vs(v){return new E.vHH(3014,Sn)}()),re}}class Fi{constructor(c,d,b,P){this._driver=c,this.element=d,this.startTime=b,this._elementTimelineStylesLookup=P,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(d),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(d,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const d=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||d?(this.forwardTime(this.currentTime+c),d&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,d){return this.applyStylesToKeyframe(),new Fi(this._driver,c,d||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,d){this._localTimelineStyles[c]=d,this._globalTimelineStyles[c]=d,this._styleSummary[c]={time:this.currentTime,value:d}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&(this._previousKeyframe.easing=c),Object.keys(this._globalTimelineStyles).forEach(d=>{this._backFill[d]=this._globalTimelineStyles[d]||Hn,this._currentKeyframe[d]=Hn}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,d,b,P){d&&(this._previousKeyframe.easing=d);const G=P&&P.params||{},ne=function oo(v,c){const d={};let b;return v.forEach(P=>{"*"===P?(b=b||Object.keys(c),b.forEach(G=>{d[G]=Hn})):Lr(P,!1,d)}),d}(c,this._globalTimelineStyles);Object.keys(ne).forEach(re=>{const Re=ci(ne[re],G,b);this._pendingStyles[re]=Re,this._localTimelineStyles.hasOwnProperty(re)||(this._backFill[re]=this._globalTimelineStyles.hasOwnProperty(re)?this._globalTimelineStyles[re]:Hn),this._updateStyle(re,Re)})}applyStylesToKeyframe(){const c=this._pendingStyles,d=Object.keys(c);0!=d.length&&(this._pendingStyles={},d.forEach(b=>{this._currentKeyframe[b]=c[b]}),Object.keys(this._localTimelineStyles).forEach(b=>{this._currentKeyframe.hasOwnProperty(b)||(this._currentKeyframe[b]=this._localTimelineStyles[b])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(c=>{const d=this._localTimelineStyles[c];this._pendingStyles[c]=d,this._updateStyle(c,d)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let d in this._currentKeyframe)c.push(d);return c}mergeTimelineCollectedStyles(c){Object.keys(c._styleSummary).forEach(d=>{const b=this._styleSummary[d],P=c._styleSummary[d];(!b||P.time>b.time)&&this._updateStyle(d,P.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,d=new Set,b=1===this._keyframes.size&&0===this.duration;let P=[];this._keyframes.forEach((re,Re)=>{const Ye=Lr(re,!0);Object.keys(Ye).forEach(jt=>{const Qt=Ye[jt];"!"==Qt?c.add(jt):Qt==Hn&&d.add(jt)}),b||(Ye.offset=Re/this.duration),P.push(Ye)});const G=c.size?Yi(c.values()):[],ne=d.size?Yi(d.values()):[];if(b){const re=P[0],Re=Vt(re);re.offset=0,Re.offset=1,P=[re,Re]}return di(this.element,P,G,ne,this.duration,this.startTime,this.easing,!1)}}class hi extends Fi{constructor(c,d,b,P,G,ne,re=!1){super(c,d,ne.delay),this.keyframes=b,this.preStyleProps=P,this.postStyleProps=G,this._stretchStartingKeyframe=re,this.timings={duration:ne.duration,delay:ne.delay,easing:ne.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:d,duration:b,easing:P}=this.timings;if(this._stretchStartingKeyframe&&d){const G=[],ne=b+d,re=d/ne,Re=Lr(c[0],!1);Re.offset=0,G.push(Re);const Ye=Lr(c[0],!1);Ye.offset=Ka(re),G.push(Ye);const jt=c.length-1;for(let Qt=1;Qt<=jt;Qt++){let Tn=Lr(c[Qt],!1);Tn.offset=Ka((d+Tn.offset*b)/ne),G.push(Tn)}b=ne,d=0,P="",c=G}return di(this.element,c,this.preStyleProps,this.postStyleProps,b,d,P,!0)}}function Ka(v,c=3){const d=Math.pow(10,c-1);return Math.round(v*d)/d}class Ta{}class ao extends Ta{normalizePropertyName(c,d){return $s(c)}normalizeStyleValue(c,d,b,P){let G="";const ne=b.toString().trim();if(Za[d]&&0!==b&&"0"!==b)if("number"==typeof b)G="px";else{const re=b.match(/^[+-]?[\d\.]+([a-z]*)$/);re&&0==re[1].length&&P.push(function qi(v,c){return new E.vHH(3005,Sn)}())}return ne+G}}const Za=(()=>function xo(v){const c={};return v.forEach(d=>c[d]=!0),c}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Oo(v,c,d,b,P,G,ne,re,Re,Ye,jt,Qt,Tn){return{type:0,element:v,triggerName:c,isRemovalTransition:P,fromState:d,fromStyles:G,toState:b,toStyles:ne,timelines:re,queriedElements:Re,preStyleProps:Ye,postStyleProps:jt,totalTime:Qt,errors:Tn}}const fo={};class Aa{constructor(c,d,b){this._triggerName=c,this.ast=d,this._stateStyles=b}match(c,d,b,P){return function Ya(v,c,d,b,P){return v.some(G=>G(c,d,b,P))}(this.ast.matchers,c,d,b,P)}buildStyles(c,d,b){const P=this._stateStyles["*"],G=this._stateStyles[c],ne=P?P.buildStyles(d,b):{};return G?G.buildStyles(d,b):ne}build(c,d,b,P,G,ne,re,Re,Ye,jt){const Qt=[],Tn=this.ast.options&&this.ast.options.params||fo,an=this.buildStyles(b,re&&re.params||fo,Qt),An=Re&&Re.params||fo,xr=this.buildStyles(P,An,Qt),gi=new Set,Ti=new Map,us=new Map,yr="void"===P,Eu={params:Object.assign(Object.assign({},Tn),An)},Po=jt?[]:ea(c,d,this.ast.animation,G,ne,an,xr,Eu,Ye,Qt);let Xi=0;if(Po.forEach(ra=>{Xi=Math.max(ra.duration+ra.delay,Xi)}),Qt.length)return Oo(d,this._triggerName,b,P,yr,an,xr,[],[],Ti,us,Xi,Qt);Po.forEach(ra=>{const Ra=ra.element,wu=Fr(Ti,Ra,{});ra.preStyleProps.forEach(yo=>wu[yo]=!0);const Vu=Fr(us,Ra,{});ra.postStyleProps.forEach(yo=>Vu[yo]=!0),Ra!==d&&gi.add(Ra)});const lo=Yi(gi.values());return Oo(d,this._triggerName,b,P,yr,an,xr,Po,lo,Ti,us,Xi)}}class Qa{constructor(c,d,b){this.styles=c,this.defaultParams=d,this.normalizer=b}buildStyles(c,d){const b={},P=Vt(this.defaultParams);return Object.keys(c).forEach(G=>{const ne=c[G];null!=ne&&(P[G]=ne)}),this.styles.styles.forEach(G=>{if("string"!=typeof G){const ne=G;Object.keys(ne).forEach(re=>{let Re=ne[re];Re.length>1&&(Re=ci(Re,P,d));const Ye=this.normalizer.normalizePropertyName(re,d);Re=this.normalizer.normalizeStyleValue(re,Ye,Re,d),b[Ye]=Re})}}),b}}class po{constructor(c,d,b){this.name=c,this.ast=d,this._normalizer=b,this.transitionFactories=[],this.states={},d.states.forEach(P=>{this.states[P.name]=new Qa(P.style,P.options&&P.options.params||{},b)}),Rs(this.states,"true","1"),Rs(this.states,"false","0"),d.transitions.forEach(P=>{this.transitionFactories.push(new Aa(c,P,this.states))}),this.fallbackTransition=function Qi(v,c,d){return new Aa(v,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ne,re)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,d,b,P){return this.transitionFactories.find(ne=>ne.match(c,d,b,P))||null}matchStyles(c,d,b){return this.fallbackTransition.buildStyles(c,d,b)}}function Rs(v,c,d){v.hasOwnProperty(c)?v.hasOwnProperty(d)||(v[d]=v[c]):v.hasOwnProperty(d)&&(v[c]=v[d])}const Ja=new So;class yt{constructor(c,d,b){this.bodyNode=c,this._driver=d,this._normalizer=b,this._animations={},this._playersById={},this.players=[]}register(c,d){const b=[],G=qr(this._driver,d,b,[]);if(b.length)throw function Fo(v){return new E.vHH(3503,Sn)}();this._animations[c]=G}_buildPlayer(c,d,b){const P=c.element,G=Zi(0,this._normalizer,0,c.keyframes,d,b);return this._driver.animate(P,G,c.duration,c.delay,c.easing,[],!0)}create(c,d,b={}){const P=[],G=this._animations[c];let ne;const re=new Map;if(G?(ne=ea(this._driver,d,G,en,ss,{},{},b,Ja,P),ne.forEach(jt=>{const Qt=Fr(re,jt.element,{});jt.postStyleProps.forEach(Tn=>Qt[Tn]=null)})):(P.push(function Js(){return new E.vHH(3300,Sn)}()),ne=[]),P.length)throw function Hs(v){return new E.vHH(3504,Sn)}();re.forEach((jt,Qt)=>{Object.keys(jt).forEach(Tn=>{jt[Tn]=this._driver.computeStyle(Qt,Tn,Hn)})});const Ye=Hr(ne.map(jt=>{const Qt=re.get(jt.element);return this._buildPlayer(jt,{},Qt)}));return this._playersById[c]=Ye,Ye.onDestroy(()=>this.destroy(c)),this.players.push(Ye),Ye}destroy(c){const d=this._getPlayer(c);d.destroy(),delete this._playersById[c];const b=this.players.indexOf(d);b>=0&&this.players.splice(b,1)}_getPlayer(c){const d=this._playersById[c];if(!d)throw function Xs(v){return new E.vHH(3301,Sn)}();return d}listen(c,d,b,P){const G=kr(d,"","","");return eo(this._getPlayer(c),b,G,P),()=>{}}command(c,d,b,P){if("register"==b)return void this.register(c,P[0]);if("create"==b)return void this.create(c,d,P[0]||{});const G=this._getPlayer(c);switch(b){case"play":G.play();break;case"pause":G.pause();break;case"reset":G.reset();break;case"restart":G.restart();break;case"finish":G.finish();break;case"init":G.init();break;case"setPosition":G.setPosition(parseFloat(P[0]));break;case"destroy":this.destroy(c)}}}const T="ng-animate-queued",w="ng-animate-disabled",ee=[],J={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},me={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bt="__ng_removed";class $n{constructor(c,d=""){this.namespaceId=d;const b=c&&c.hasOwnProperty("value");if(this.value=function go(v){return null!=v?v:null}(b?c.value:c),b){const G=Vt(c);delete G.value,this.options=G}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(c){const d=c.params;if(d){const b=this.options.params;Object.keys(d).forEach(P=>{null==b[P]&&(b[P]=d[P])})}}}const Wt="void",sr=new $n(Wt);class Jn{constructor(c,d,b){this.id=c,this.hostElement=d,this._engine=b,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,pi(d,this._hostClassName)}listen(c,d,b,P){if(!this._triggers.hasOwnProperty(d))throw function wi(v,c){return new E.vHH(3302,Sn)}();if(null==b||0==b.length)throw function Ko(v){return new E.vHH(3303,Sn)}();if(!function fi(v){return"start"==v||"done"==v}(b))throw function jr(v,c){return new E.vHH(3400,Sn)}();const G=Fr(this._elementListeners,c,[]),ne={name:d,phase:b,callback:P};G.push(ne);const re=Fr(this._engine.statesByElement,c,{});return re.hasOwnProperty(d)||(pi(c,Is),pi(c,Is+"-"+d),re[d]=sr),()=>{this._engine.afterFlush(()=>{const Re=G.indexOf(ne);Re>=0&&G.splice(Re,1),this._triggers[d]||delete re[d]})}}register(c,d){return!this._triggers[c]&&(this._triggers[c]=d,!0)}_getTrigger(c){const d=this._triggers[c];if(!d)throw function ns(v){return new E.vHH(3401,Sn)}();return d}trigger(c,d,b,P=!0){const G=this._getTrigger(d),ne=new ps(this.id,d,c);let re=this._engine.statesByElement.get(c);re||(pi(c,Is),pi(c,Is+"-"+d),this._engine.statesByElement.set(c,re={}));let Re=re[d];const Ye=new $n(b,this.id);if(!(b&&b.hasOwnProperty("value"))&&Re&&Ye.absorbOptions(Re.options),re[d]=Ye,Re||(Re=sr),Ye.value!==Wt&&Re.value===Ye.value){if(!function Bo(v,c){const d=Object.keys(v),b=Object.keys(c);if(d.length!=b.length)return!1;for(let P=0;P<d.length;P++){const G=d[P];if(!c.hasOwnProperty(G)||v[G]!==c[G])return!1}return!0}(Re.params,Ye.params)){const An=[],xr=G.matchStyles(Re.value,Re.params,An),gi=G.matchStyles(Ye.value,Ye.params,An);An.length?this._engine.reportError(An):this._engine.afterFlush(()=>{li(c,xr),bi(c,gi)})}return}const Tn=Fr(this._engine.playersByElement,c,[]);Tn.forEach(An=>{An.namespaceId==this.id&&An.triggerName==d&&An.queued&&An.destroy()});let En=G.matchTransition(Re.value,Ye.value,c,Ye.params),an=!1;if(!En){if(!P)return;En=G.fallbackTransition,an=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:d,transition:En,fromState:Re,toState:Ye,player:ne,isFallbackTransition:an}),an||(pi(c,T),ne.onStart(()=>{Sa(c,T)})),ne.onDone(()=>{let An=this.players.indexOf(ne);An>=0&&this.players.splice(An,1);const xr=this._engine.playersByElement.get(c);if(xr){let gi=xr.indexOf(ne);gi>=0&&xr.splice(gi,1)}}),this.players.push(ne),Tn.push(ne),ne}deregister(c){delete this._triggers[c],this._engine.statesByElement.forEach((d,b)=>{delete d[c]}),this._elementListeners.forEach((d,b)=>{this._elementListeners.set(b,d.filter(P=>P.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const d=this._engine.playersByElement.get(c);d&&(d.forEach(b=>b.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,d){const b=this._engine.driver.query(c,ri,!0);b.forEach(P=>{if(P[bt])return;const G=this._engine.fetchNamespacesByElement(P);G.size?G.forEach(ne=>ne.triggerLeaveAnimation(P,d,!1,!0)):this.clearElementCache(P)}),this._engine.afterFlushAnimationsDone(()=>b.forEach(P=>this.clearElementCache(P)))}triggerLeaveAnimation(c,d,b,P){const G=this._engine.statesByElement.get(c),ne=new Map;if(G){const re=[];if(Object.keys(G).forEach(Re=>{if(ne.set(Re,G[Re].value),this._triggers[Re]){const Ye=this.trigger(c,Re,Wt,P);Ye&&re.push(Ye)}}),re.length)return this._engine.markElementAsRemoved(this.id,c,!0,d,ne),b&&Hr(re).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const d=this._elementListeners.get(c),b=this._engine.statesByElement.get(c);if(d&&b){const P=new Set;d.forEach(G=>{const ne=G.name;if(P.has(ne))return;P.add(ne);const Re=this._triggers[ne].fallbackTransition,Ye=b[ne]||sr,jt=new $n(Wt),Qt=new ps(this.id,ne,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:ne,transition:Re,fromState:Ye,toState:jt,player:Qt,isFallbackTransition:!0})})}}removeNode(c,d){const b=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,d),this.triggerLeaveAnimation(c,d,!0))return;let P=!1;if(b.totalAnimations){const G=b.players.length?b.playersByQueriedElement.get(c):[];if(G&&G.length)P=!0;else{let ne=c;for(;ne=ne.parentNode;)if(b.statesByElement.get(ne)){P=!0;break}}}if(this.prepareLeaveAnimationListeners(c),P)b.markElementAsRemoved(this.id,c,!1,d);else{const G=c[bt];(!G||G===J)&&(b.afterFlush(()=>this.clearElementCache(c)),b.destroyInnerAnimations(c),b._onRemovalComplete(c,d))}}insertNode(c,d){pi(c,this._hostClassName)}drainQueuedTransitions(c){const d=[];return this._queue.forEach(b=>{const P=b.player;if(P.destroyed)return;const G=b.element,ne=this._elementListeners.get(G);ne&&ne.forEach(re=>{if(re.name==b.triggerName){const Re=kr(G,b.triggerName,b.fromState.value,b.toState.value);Re._data=c,eo(b.player,re.phase,Re,re.callback)}}),P.markedForDestroy?this._engine.afterFlush(()=>{P.destroy()}):d.push(b)}),this._queue=[],d.sort((b,P)=>{const G=b.transition.ast.depCount,ne=P.transition.ast.depCount;return 0==G||0==ne?G-ne:this._engine.driver.containsElement(b.element,P.element)?1:-1})}destroy(c){this.players.forEach(d=>d.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}elementContainsData(c){let d=!1;return this._elementListeners.has(c)&&(d=!0),d=!!this._queue.find(b=>b.element===c)||d,d}}class Ps{constructor(c,d,b){this.bodyNode=c,this.driver=d,this._normalizer=b,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(P,G)=>{}}_onRemovalComplete(c,d){this.onRemovalComplete(c,d)}get queuedPlayers(){const c=[];return this._namespaceList.forEach(d=>{d.players.forEach(b=>{b.queued&&c.push(b)})}),c}createNamespace(c,d){const b=new Jn(c,d,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,d)?this._balanceNamespaceList(b,d):(this.newHostElements.set(d,b),this.collectEnterElement(d)),this._namespaceLookup[c]=b}_balanceNamespaceList(c,d){const b=this._namespaceList,P=this.namespacesByHostElement,G=b.length-1;if(G>=0){let ne=!1;if(void 0!==this.driver.getParentElement){let re=this.driver.getParentElement(d);for(;re;){const Re=P.get(re);if(Re){const Ye=b.indexOf(Re);b.splice(Ye+1,0,c),ne=!0;break}re=this.driver.getParentElement(re)}}else for(let re=G;re>=0;re--)if(this.driver.containsElement(b[re].hostElement,d)){b.splice(re+1,0,c),ne=!0;break}ne||b.unshift(c)}else b.push(c);return P.set(d,c),c}register(c,d){let b=this._namespaceLookup[c];return b||(b=this.createNamespace(c,d)),b}registerTrigger(c,d,b){let P=this._namespaceLookup[c];P&&P.register(d,b)&&this.totalAnimations++}destroy(c,d){if(!c)return;const b=this._fetchNamespace(c);this.afterFlush(()=>{this.namespacesByHostElement.delete(b.hostElement),delete this._namespaceLookup[c];const P=this._namespaceList.indexOf(b);P>=0&&this._namespaceList.splice(P,1)}),this.afterFlushAnimationsDone(()=>b.destroy(d))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const d=new Set,b=this.statesByElement.get(c);if(b){const P=Object.keys(b);for(let G=0;G<P.length;G++){const ne=b[P[G]].namespaceId;if(ne){const re=this._fetchNamespace(ne);re&&d.add(re)}}}return d}trigger(c,d,b,P){if(as(d)){const G=this._fetchNamespace(c);if(G)return G.trigger(d,b,P),!0}return!1}insertNode(c,d,b,P){if(!as(d))return;const G=d[bt];if(G&&G.setForRemoval){G.setForRemoval=!1,G.setForMove=!0;const ne=this.collectedLeaveElements.indexOf(d);ne>=0&&this.collectedLeaveElements.splice(ne,1)}if(c){const ne=this._fetchNamespace(c);ne&&ne.insertNode(d,b)}P&&this.collectEnterElement(d)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,d){d?this.disabledNodes.has(c)||(this.disabledNodes.add(c),pi(c,w)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),Sa(c,w))}removeNode(c,d,b,P){if(as(d)){const G=c?this._fetchNamespace(c):null;if(G?G.removeNode(d,P):this.markElementAsRemoved(c,d,!1,P),b){const ne=this.namespacesByHostElement.get(d);ne&&ne.id!==c&&ne.removeNode(d,P)}}else this._onRemovalComplete(d,P)}markElementAsRemoved(c,d,b,P,G){this.collectedLeaveElements.push(d),d[bt]={namespaceId:c,setForRemoval:P,hasAnimation:b,removedBeforeQueried:!1,previousTriggersValues:G}}listen(c,d,b,P,G){return as(d)?this._fetchNamespace(c).listen(d,b,P,G):()=>{}}_buildInstruction(c,d,b,P,G){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,b,P,c.fromState.options,c.toState.options,d,G)}destroyInnerAnimations(c){let d=this.driver.query(c,ri,!0);d.forEach(b=>this.destroyActiveAnimationsForElement(b)),0!=this.playersByQueriedElement.size&&(d=this.driver.query(c,V,!0),d.forEach(b=>this.finishActiveQueriedAnimationOnElement(b)))}destroyActiveAnimationsForElement(c){const d=this.playersByElement.get(c);d&&d.forEach(b=>{b.queued?b.markedForDestroy=!0:b.destroy()})}finishActiveQueriedAnimationOnElement(c){const d=this.playersByQueriedElement.get(c);d&&d.forEach(b=>b.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return Hr(this.players).onDone(()=>c());c()})}processLeaveNode(c){var d;const b=c[bt];if(b&&b.setForRemoval){if(c[bt]=J,b.namespaceId){this.destroyInnerAnimations(c);const P=this._fetchNamespace(b.namespaceId);P&&P.clearElementCache(c)}this._onRemovalComplete(c,b.setForRemoval)}(null===(d=c.classList)||void 0===d?void 0:d.contains(w))&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(P=>{this.markElementAsDisabled(P,!1)})}flush(c=-1){let d=[];if(this.newHostElements.size&&(this.newHostElements.forEach((b,P)=>this._balanceNamespaceList(b,P)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let b=0;b<this.collectedEnterElements.length;b++)pi(this.collectedEnterElements[b],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const b=[];try{d=this._flushAnimations(b,c)}finally{for(let P=0;P<b.length;P++)b[P]()}}else for(let b=0;b<this.collectedLeaveElements.length;b++)this.processLeaveNode(this.collectedLeaveElements[b]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(b=>b()),this._flushFns=[],this._whenQuietFns.length){const b=this._whenQuietFns;this._whenQuietFns=[],d.length?Hr(d).onDone(()=>{b.forEach(P=>P())}):b.forEach(P=>P())}}reportError(c){throw function Co(v){return new E.vHH(3402,Sn)}()}_flushAnimations(c,d){const b=new So,P=[],G=new Map,ne=[],re=new Map,Re=new Map,Ye=new Map,jt=new Set;this.disabledNodes.forEach(Jt=>{jt.add(Jt);const mn=this.driver.query(Jt,".ng-animate-queued",!0);for(let gn=0;gn<mn.length;gn++)jt.add(mn[gn])});const Qt=this.bodyNode,Tn=Array.from(this.statesByElement.keys()),En=Mn(Tn,this.collectedEnterElements),an=new Map;let An=0;En.forEach((Jt,mn)=>{const gn=en+An++;an.set(mn,gn),Jt.forEach(rr=>pi(rr,gn))});const xr=[],gi=new Set,Ti=new Set;for(let Jt=0;Jt<this.collectedLeaveElements.length;Jt++){const mn=this.collectedLeaveElements[Jt],gn=mn[bt];gn&&gn.setForRemoval&&(xr.push(mn),gi.add(mn),gn.hasAnimation?this.driver.query(mn,".ng-star-inserted",!0).forEach(rr=>gi.add(rr)):Ti.add(mn))}const us=new Map,yr=Mn(Tn,Array.from(gi));yr.forEach((Jt,mn)=>{const gn=ss+An++;us.set(mn,gn),Jt.forEach(rr=>pi(rr,gn))}),c.push(()=>{En.forEach((Jt,mn)=>{const gn=an.get(mn);Jt.forEach(rr=>Sa(rr,gn))}),yr.forEach((Jt,mn)=>{const gn=us.get(mn);Jt.forEach(rr=>Sa(rr,gn))}),xr.forEach(Jt=>{this.processLeaveNode(Jt)})});const Eu=[],Po=[];for(let Jt=this._namespaceList.length-1;Jt>=0;Jt--)this._namespaceList[Jt].drainQueuedTransitions(d).forEach(gn=>{const rr=gn.player,si=gn.element;if(Eu.push(rr),this.collectedEnterElements.length){const Yr=si[bt];if(Yr&&Yr.setForMove){if(Yr.previousTriggersValues&&Yr.previousTriggersValues.has(gn.triggerName)){const pa=Yr.previousTriggersValues.get(gn.triggerName),No=this.statesByElement.get(gn.element);No&&No[gn.triggerName]&&(No[gn.triggerName].value=pa)}return void rr.destroy()}}const _o=!Qt||!this.driver.containsElement(Qt,si),Ws=us.get(si),vo=an.get(si),Zr=this._buildInstruction(gn,b,vo,Ws,_o);if(Zr.errors&&Zr.errors.length)return void Po.push(Zr);if(_o)return rr.onStart(()=>li(si,Zr.fromStyles)),rr.onDestroy(()=>bi(si,Zr.toStyles)),void P.push(rr);if(gn.isFallbackTransition)return rr.onStart(()=>li(si,Zr.fromStyles)),rr.onDestroy(()=>bi(si,Zr.toStyles)),void P.push(rr);const Uu=[];Zr.timelines.forEach(Yr=>{Yr.stretchStartingKeyframe=!0,this.disabledNodes.has(Yr.element)||Uu.push(Yr)}),Zr.timelines=Uu,b.append(si,Zr.timelines),ne.push({instruction:Zr,player:rr,element:si}),Zr.queriedElements.forEach(Yr=>Fr(re,Yr,[]).push(rr)),Zr.preStyleProps.forEach((Yr,pa)=>{const No=Object.keys(Yr);if(No.length){let Na=Re.get(pa);Na||Re.set(pa,Na=new Set),No.forEach(ru=>Na.add(ru))}}),Zr.postStyleProps.forEach((Yr,pa)=>{const No=Object.keys(Yr);let Na=Ye.get(pa);Na||Ye.set(pa,Na=new Set),No.forEach(ru=>Na.add(ru))})});if(Po.length){const Jt=[];Po.forEach(mn=>{Jt.push(function Mr(v,c){return new E.vHH(3505,Sn)}())}),Eu.forEach(mn=>mn.destroy()),this.reportError(Jt)}const Xi=new Map,lo=new Map;ne.forEach(Jt=>{const mn=Jt.element;b.has(mn)&&(lo.set(mn,mn),this._beforeAnimationBuild(Jt.player.namespaceId,Jt.instruction,Xi))}),P.forEach(Jt=>{const mn=Jt.element;this._getPreviousPlayers(mn,!1,Jt.namespaceId,Jt.triggerName,null).forEach(rr=>{Fr(Xi,mn,[]).push(rr),rr.destroy()})});const ra=xr.filter(Jt=>Pu(Jt,Re,Ye)),Ra=new Map;Xa(Ra,this.driver,Ti,Ye,Hn).forEach(Jt=>{Pu(Jt,Re,Ye)&&ra.push(Jt)});const Vu=new Map;En.forEach((Jt,mn)=>{Xa(Vu,this.driver,new Set(Jt),Re,"!")}),ra.forEach(Jt=>{const mn=Ra.get(Jt),gn=Vu.get(Jt);Ra.set(Jt,Object.assign(Object.assign({},mn),gn))});const yo=[],nu=[],Gl={};ne.forEach(Jt=>{const{element:mn,player:gn,instruction:rr}=Jt;if(b.has(mn)){if(jt.has(mn))return gn.onDestroy(()=>bi(mn,rr.toStyles)),gn.disabled=!0,gn.overrideTotalTime(rr.totalTime),void P.push(gn);let si=Gl;if(lo.size>1){let Ws=mn;const vo=[];for(;Ws=Ws.parentNode;){const Zr=lo.get(Ws);if(Zr){si=Zr;break}vo.push(Ws)}vo.forEach(Zr=>lo.set(Zr,si))}const _o=this._buildAnimation(gn.namespaceId,rr,Xi,G,Vu,Ra);if(gn.setRealPlayer(_o),si===Gl)yo.push(gn);else{const Ws=this.playersByElement.get(si);Ws&&Ws.length&&(gn.parentPlayer=Hr(Ws)),P.push(gn)}}else li(mn,rr.fromStyles),gn.onDestroy(()=>bi(mn,rr.toStyles)),nu.push(gn),jt.has(mn)&&P.push(gn)}),nu.forEach(Jt=>{const mn=G.get(Jt.element);if(mn&&mn.length){const gn=Hr(mn);Jt.setRealPlayer(gn)}}),P.forEach(Jt=>{Jt.parentPlayer?Jt.syncPlayerEvents(Jt.parentPlayer):Jt.destroy()});for(let Jt=0;Jt<xr.length;Jt++){const mn=xr[Jt],gn=mn[bt];if(Sa(mn,ss),gn&&gn.hasAnimation)continue;let rr=[];if(re.size){let _o=re.get(mn);_o&&_o.length&&rr.push(..._o);let Ws=this.driver.query(mn,V,!0);for(let vo=0;vo<Ws.length;vo++){let Zr=re.get(Ws[vo]);Zr&&Zr.length&&rr.push(...Zr)}}const si=rr.filter(_o=>!_o.destroyed);si.length?Zn(this,mn,si):this.processLeaveNode(mn)}return xr.length=0,yo.forEach(Jt=>{this.players.push(Jt),Jt.onDone(()=>{Jt.destroy();const mn=this.players.indexOf(Jt);this.players.splice(mn,1)}),Jt.play()}),yo}elementContainsData(c,d){let b=!1;const P=d[bt];return P&&P.setForRemoval&&(b=!0),this.playersByElement.has(d)&&(b=!0),this.playersByQueriedElement.has(d)&&(b=!0),this.statesByElement.has(d)&&(b=!0),this._fetchNamespace(c).elementContainsData(d)||b}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,d,b,P,G){let ne=[];if(d){const re=this.playersByQueriedElement.get(c);re&&(ne=re)}else{const re=this.playersByElement.get(c);if(re){const Re=!G||G==Wt;re.forEach(Ye=>{Ye.queued||!Re&&Ye.triggerName!=P||ne.push(Ye)})}}return(b||P)&&(ne=ne.filter(re=>!(b&&b!=re.namespaceId||P&&P!=re.triggerName))),ne}_beforeAnimationBuild(c,d,b){const G=d.element,ne=d.isRemovalTransition?void 0:c,re=d.isRemovalTransition?void 0:d.triggerName;for(const Re of d.timelines){const Ye=Re.element,jt=Ye!==G,Qt=Fr(b,Ye,[]);this._getPreviousPlayers(Ye,jt,ne,re,d.toState).forEach(En=>{const an=En.getRealPlayer();an.beforeDestroy&&an.beforeDestroy(),En.destroy(),Qt.push(En)})}li(G,d.fromStyles)}_buildAnimation(c,d,b,P,G,ne){const re=d.triggerName,Re=d.element,Ye=[],jt=new Set,Qt=new Set,Tn=d.timelines.map(an=>{const An=an.element;jt.add(An);const xr=An[bt];if(xr&&xr.removedBeforeQueried)return new dr(an.duration,an.delay);const gi=An!==Re,Ti=function xn(v){const c=[];return Cl(v,c),c}((b.get(An)||ee).map(Xi=>Xi.getRealPlayer())).filter(Xi=>!!Xi.element&&Xi.element===An),us=G.get(An),yr=ne.get(An),Eu=Zi(0,this._normalizer,0,an.keyframes,us,yr),Po=this._buildPlayer(an,Eu,Ti);if(an.subTimeline&&P&&Qt.add(An),gi){const Xi=new ps(c,re,An);Xi.setRealPlayer(Po),Ye.push(Xi)}return Po});Ye.forEach(an=>{Fr(this.playersByQueriedElement,an.element,[]).push(an),an.onDone(()=>function ta(v,c,d){let b;if(v instanceof Map){if(b=v.get(c),b){if(b.length){const P=b.indexOf(d);b.splice(P,1)}0==b.length&&v.delete(c)}}else if(b=v[c],b){if(b.length){const P=b.indexOf(d);b.splice(P,1)}0==b.length&&delete v[c]}return b}(this.playersByQueriedElement,an.element,an))}),jt.forEach(an=>pi(an,To));const En=Hr(Tn);return En.onDestroy(()=>{jt.forEach(an=>Sa(an,To)),bi(Re,d.toStyles)}),Qt.forEach(an=>{Fr(P,an,[]).push(En)}),En}_buildPlayer(c,d,b){return d.length>0?this.driver.animate(c.element,d,c.duration,c.delay,c.easing,b):new dr(c.duration,c.delay)}}class ps{constructor(c,d,b){this.namespaceId=c,this.triggerName=d,this.element=b,this._player=new dr,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,Object.keys(this._queuedCallbacks).forEach(d=>{this._queuedCallbacks[d].forEach(b=>eo(c,d,void 0,b))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const d=this._player;d.triggerCallback&&c.onStart(()=>d.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,d){Fr(this._queuedCallbacks,c,[]).push(d)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const d=this._player;d.triggerCallback&&d.triggerCallback(c)}}function as(v){return v&&1===v.nodeType}function Yu(v,c){const d=v.style.display;return v.style.display=null!=c?c:"none",d}function Xa(v,c,d,b,P){const G=[];d.forEach(Re=>G.push(Yu(Re)));const ne=[];b.forEach((Re,Ye)=>{const jt={};Re.forEach(Qt=>{const Tn=jt[Qt]=c.computeStyle(Ye,Qt,P);(!Tn||0==Tn.length)&&(Ye[bt]=me,ne.push(Ye))}),v.set(Ye,jt)});let re=0;return d.forEach(Re=>Yu(Re,G[re++])),ne}function Mn(v,c){const d=new Map;if(v.forEach(re=>d.set(re,[])),0==c.length)return d;const P=new Set(c),G=new Map;function ne(re){if(!re)return 1;let Re=G.get(re);if(Re)return Re;const Ye=re.parentNode;return Re=d.has(Ye)?Ye:P.has(Ye)?1:ne(Ye),G.set(re,Re),Re}return c.forEach(re=>{const Re=ne(re);1!==Re&&d.get(Re).push(re)}),d}function pi(v,c){var d;null===(d=v.classList)||void 0===d||d.add(c)}function Sa(v,c){var d;null===(d=v.classList)||void 0===d||d.remove(c)}function Zn(v,c,d){Hr(d).onDone(()=>v.processLeaveNode(c))}function Cl(v,c){for(let d=0;d<v.length;d++){const b=v[d];b instanceof Ri?Cl(b.players,c):c.push(b)}}function Pu(v,c,d){const b=d.get(v);if(!b)return!1;let P=c.get(v);return P?b.forEach(G=>P.add(G)):c.set(v,b),d.delete(v),!0}class jo{constructor(c,d,b){this.bodyNode=c,this._driver=d,this._normalizer=b,this._triggerCache={},this.onRemovalComplete=(P,G)=>{},this._transitionEngine=new Ps(c,d,b),this._timelineEngine=new yt(c,d,b),this._transitionEngine.onRemovalComplete=(P,G)=>this.onRemovalComplete(P,G)}registerTrigger(c,d,b,P,G){const ne=c+"-"+P;let re=this._triggerCache[ne];if(!re){const Re=[],jt=qr(this._driver,G,Re,[]);if(Re.length)throw function Es(v,c){return new E.vHH(3404,Sn)}();re=function ei(v,c,d){return new po(v,c,d)}(P,jt,this._normalizer),this._triggerCache[ne]=re}this._transitionEngine.registerTrigger(d,P,re)}register(c,d){this._transitionEngine.register(c,d)}destroy(c,d){this._transitionEngine.destroy(c,d)}onInsert(c,d,b,P){this._transitionEngine.insertNode(c,d,b,P)}onRemove(c,d,b,P){this._transitionEngine.removeNode(c,d,P||!1,b)}disableAnimations(c,d){this._transitionEngine.markElementAsDisabled(c,d)}process(c,d,b,P){if("@"==b.charAt(0)){const[G,ne]=is(b);this._timelineEngine.command(G,d,ne,P)}else this._transitionEngine.trigger(c,d,b,P)}listen(c,d,b,P,G){if("@"==b.charAt(0)){const[ne,re]=is(b);return this._timelineEngine.listen(ne,d,re,G)}return this._transitionEngine.listen(c,d,b,P,G)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Nu=(()=>{class v{constructor(d,b,P){this._element=d,this._startStyles=b,this._endStyles=P,this._state=0;let G=v.initialStylesByElement.get(d);G||v.initialStylesByElement.set(d,G={}),this._initialStyles=G}start(){this._state<1&&(this._startStyles&&bi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bi(this._element,this._initialStyles),this._endStyles&&(bi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(v.initialStylesByElement.delete(this._element),this._startStyles&&(li(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(li(this._element,this._endStyles),this._endStyles=null),bi(this._element,this._initialStyles),this._state=3)}}return v.initialStylesByElement=new WeakMap,v})();function ti(v){let c=null;const d=Object.keys(v);for(let b=0;b<d.length;b++){const P=d[b];ha(P)&&(c=c||{},c[P]=v[P])}return c}function ha(v){return"display"===v||"position"===v}class Li{constructor(c,d,b,P){this.element=c,this.keyframes=d,this.options=b,this._specialStyles=P,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=b.duration,this._delay=b.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(c,d,b){return c.animate(d,b)}onStart(c){this._onStartFns.push(c)}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c={};if(this.hasStarted()){const d=this._finalKeyframe;Object.keys(d).forEach(b=>{"offset"!=b&&(c[b]=this._finished?d[b]:Zo(this.element,b))})}this.currentSnapshot=c}triggerCallback(c){const d="start"==c?this._onStartFns:this._onDoneFns;d.forEach(b=>b()),d.length=0}}class ii{validateStyleProperty(c){return gt(c)}matchesElement(c,d){return!1}containsElement(c,d){return Kn(c,d)}getParentElement(c){return k(c)}query(c,d,b){return On(c,d,b)}computeStyle(c,d,b){return window.getComputedStyle(c)[d]}animate(c,d,b,P,G,ne=[]){const Re={duration:b,delay:P,fill:0==P?"both":"forwards"};G&&(Re.easing=G);const Ye={},jt=ne.filter(Tn=>Tn instanceof Li);(function za(v,c){return 0===v||0===c})(b,P)&&jt.forEach(Tn=>{let En=Tn.currentSnapshot;Object.keys(En).forEach(an=>Ye[an]=En[an])}),d=function no(v,c,d){const b=Object.keys(d);if(b.length&&c.length){let G=c[0],ne=[];if(b.forEach(re=>{G.hasOwnProperty(re)||ne.push(re),G[re]=d[re]}),ne.length)for(var P=1;P<c.length;P++){let re=c[P];ne.forEach(function(Re){re[Re]=Zo(v,Re)})}}return c}(c,d=d.map(Tn=>Lr(Tn,!1)),Ye);const Qt=function hr(v,c){let d=null,b=null;return Array.isArray(c)&&c.length?(d=ti(c[0]),c.length>1&&(b=ti(c[c.length-1]))):c&&(d=ti(c)),d||b?new Nu(v,d,b):null}(c,d);return new Li(c,d,Re,Qt)}}let mu=(()=>{class v extends pr{constructor(d,b){super(),this._nextAnimationId=0,this._renderer=d.createRenderer(b.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(d){const b=this._nextAnimationId.toString();this._nextAnimationId++;const P=Array.isArray(d)?xi(d):d;return Ci(this._renderer,null,b,"register",[P]),new Ho(b,this._renderer)}}return v.\u0275fac=function(d){return new(d||v)(E.LFG(E.FYo),E.LFG(m.K0))},v.\u0275prov=E.Yz7({token:v,factory:v.\u0275fac}),v})();class Ho extends class Gr{}{constructor(c,d){super(),this._id=c,this._renderer=d}create(c,d){return new Kr(this._id,c,d||{},this._renderer)}}class Kr{constructor(c,d,b,P){this.id=c,this.element=d,this._renderer=P,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",b)}_listen(c,d){return this._renderer.listen(this.element,`@@${this.id}:${c}`,d)}_command(c,...d){return Ci(this._renderer,this.element,this.id,c,d)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){var c,d;return null!==(d=null===(c=this._renderer.engine.players[+this.id])||void 0===c?void 0:c.getPosition())&&void 0!==d?d:0}}function Ci(v,c,d,b,P){return v.setProperty(c,`@@${d}:${b}`,P)}const Ma="@.disabled";let Ro=(()=>{class v{constructor(d,b,P){this.delegate=d,this.engine=b,this._zone=P,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),b.onRemovalComplete=(G,ne)=>{const re=null==ne?void 0:ne.parentNode(G);re&&ne.removeChild(re,G)}}createRenderer(d,b){const G=this.delegate.createRenderer(d,b);if(!(d&&b&&b.data&&b.data.animation)){let jt=this._rendererCache.get(G);return jt||(jt=new Ns("",G,this.engine),this._rendererCache.set(G,jt)),jt}const ne=b.id,re=b.id+"-"+this._currentId;this._currentId++,this.engine.register(re,d);const Re=jt=>{Array.isArray(jt)?jt.forEach(Re):this.engine.registerTrigger(ne,re,d,jt.name,jt)};return b.data.animation.forEach(Re),new ks(this,re,G,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(d,b,P){d>=0&&d<this._microtaskId?this._zone.run(()=>b(P)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(G=>{const[ne,re]=G;ne(re)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([b,P]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return v.\u0275fac=function(d){return new(d||v)(E.LFG(E.FYo),E.LFG(jo),E.LFG(E.R0b))},v.\u0275prov=E.Yz7({token:v,factory:v.\u0275fac}),v})();class Ns{constructor(c,d,b){this.namespaceId=c,this.delegate=d,this.engine=b,this.destroyNode=this.delegate.destroyNode?P=>d.destroyNode(P):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(c,d){return this.delegate.createElement(c,d)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,d){this.delegate.appendChild(c,d),this.engine.onInsert(this.namespaceId,d,c,!1)}insertBefore(c,d,b,P=!0){this.delegate.insertBefore(c,d,b),this.engine.onInsert(this.namespaceId,d,c,P)}removeChild(c,d,b){this.engine.onRemove(this.namespaceId,d,this.delegate,b)}selectRootElement(c,d){return this.delegate.selectRootElement(c,d)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,d,b,P){this.delegate.setAttribute(c,d,b,P)}removeAttribute(c,d,b){this.delegate.removeAttribute(c,d,b)}addClass(c,d){this.delegate.addClass(c,d)}removeClass(c,d){this.delegate.removeClass(c,d)}setStyle(c,d,b,P){this.delegate.setStyle(c,d,b,P)}removeStyle(c,d,b){this.delegate.removeStyle(c,d,b)}setProperty(c,d,b){"@"==d.charAt(0)&&d==Ma?this.disableAnimations(c,!!b):this.delegate.setProperty(c,d,b)}setValue(c,d){this.delegate.setValue(c,d)}listen(c,d,b){return this.delegate.listen(c,d,b)}disableAnimations(c,d){this.engine.disableAnimations(c,d)}}class ks extends Ns{constructor(c,d,b,P){super(d,b,P),this.factory=c,this.namespaceId=d}setProperty(c,d,b){"@"==d.charAt(0)?"."==d.charAt(1)&&d==Ma?this.disableAnimations(c,b=void 0===b||!!b):this.engine.process(this.namespaceId,c,d.substr(1),b):this.delegate.setProperty(c,d,b)}listen(c,d,b){if("@"==d.charAt(0)){const P=function $o(v){switch(v){case"body":return document.body;case"document":return document;case"window":return window;default:return v}}(c);let G=d.substr(1),ne="";return"@"!=G.charAt(0)&&([G,ne]=function fa(v){const c=v.indexOf(".");return[v.substring(0,c),v.substr(c+1)]}(G)),this.engine.listen(this.namespaceId,P,G,ne,re=>{this.factory.scheduleListenerCallback(re._data||-1,b,re)})}return this.delegate.listen(c,d,b)}}let ku=(()=>{class v extends jo{constructor(d,b,P){super(d.body,b,P)}ngOnDestroy(){this.flush()}}return v.\u0275fac=function(d){return new(d||v)(E.LFG(m.K0),E.LFG(nr),E.LFG(Ta))},v.\u0275prov=E.Yz7({token:v,factory:v.\u0275fac}),v})();const Fs=new E.OlP("AnimationModuleType"),Go=[{provide:pr,useClass:mu},{provide:Ta,useFactory:function kt(){return new ao}},{provide:jo,useClass:ku},{provide:E.FYo,useFactory:function Fu(v,c,d){return new Ro(v,c,d)},deps:[Fe,jo,E.R0b]}],Ji=[{provide:nr,useFactory:()=>new ii},{provide:Fs,useValue:"BrowserAnimations"},...Go],yu=[{provide:nr,useClass:mr},{provide:Fs,useValue:"NoopAnimations"},...Go];let gs=(()=>{class v{static withConfig(d){return{ngModule:v,providers:d.disableAnimations?yu:Ji}}}return v.\u0275fac=function(d){return new(d||v)},v.\u0275mod=E.oAB({type:v}),v.\u0275inj=E.cJS({providers:Ji,imports:[_n]}),v})(),na=(()=>{class v{}return v.\u0275fac=function(d){return new(d||v)},v.\u0275mod=E.oAB({type:v}),v.\u0275inj=E.cJS({imports:[[m.ez,Xe.Bz,vi.JF,gs]]}),v})();var eu=B(3385),Ls=B(5421);const uo=[{path:"login",component:(()=>{class v{constructor(d){this.authService=d}ngOnInit(){}}return v.\u0275fac=function(d){return new(d||v)(E.Y36(Ls.e))},v.\u0275cmp=E.Xpm({type:v,selectors:[["app-login"]],decls:29,vars:0,consts:[[1,"text-center"],[1,"form-floating","mb-3"],["type","email","id","floatingInput","placeholder","name@example.com","required","",1,"form-control"],["userName",""],["for","floatingInput",1,"text-muted"],[1,"form-floating"],["type","password","id","floatingPassword","placeholder","Password","required","",1,"form-control"],["userPassword",""],["for","floatingPassword",1,"text-muted"],["type","button","value","Log in","required","",1,"btn","btn-outline-primary","me-3","mb-3","mt-2","d-inline",3,"click"],["userPwd",""],[1,"me-3","d-inline","fw-bold"],["type","button",1,"btn","btn-outline-danger","d-inline",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-google"],["d","M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"],[1,"self-align-center","text-center"],["routerLink","/forgot-password"],["routerLink","/register-user",1,"redirect"]],template:function(d,b){if(1&d){const P=E.EpF();E.TgZ(0,"form")(1,"h3",0),E._uU(2,"Sign In"),E.qZA(),E.TgZ(3,"div",1),E._UZ(4,"input",2,3),E.TgZ(6,"label",4),E._uU(7,"Email address"),E.qZA()(),E.TgZ(8,"div",5),E._UZ(9,"input",6,7),E.TgZ(11,"label",8),E._uU(12,"Password"),E.qZA()(),E.TgZ(13,"input",9,10),E.NdJ("click",function(){E.CHM(P);const ne=E.MAs(5),re=E.MAs(10);return b.authService.SignIn(ne.value,re.value)}),E.qZA(),E.TgZ(15,"span",11),E._uU(16,"Or"),E.qZA(),E.TgZ(17,"button",12),E.NdJ("click",function(){return b.authService.GoogleAuth()}),E.O4$(),E.TgZ(18,"svg",13),E._UZ(19,"path",14),E.qZA(),E._uU(20," SignIn with Google "),E.qZA(),E.kcU(),E.TgZ(21,"div",15)(22,"a",16),E._uU(23,"Forgot Password?"),E.qZA()(),E.TgZ(24,"div",0)(25,"span"),E._uU(26,"Don't have an account?"),E.TgZ(27,"a",17),E._uU(28," Sign Up"),E.qZA()()()()}},directives:[Xe.yS],styles:[""]}),v})()}];let Lu=(()=>{class v{}return v.\u0275fac=function(d){return new(d||v)},v.\u0275mod=E.oAB({type:v}),v.\u0275inj=E.cJS({imports:[[Xe.Bz.forChild(uo)],Xe.Bz]}),v})(),xa=(()=>{class v{}return v.\u0275fac=function(d){return new(d||v)},v.\u0275mod=E.oAB({type:v}),v.\u0275inj=E.cJS({imports:[[m.ez,Lu,eu.ww]]}),v})();const Oa=gr("routeAnimation",[Dr("papers <=> paper",[Ar({position:"relative"}),Rn(":enter, :leave",[Ar({position:"absolute",top:0,left:0,width:"100%"})]),Rn(":enter",[Ar({left:"-100%"})]),Rn(":leave",Cr()),Cn([Rn(":leave",[Mi("300ms ease-out",Ar({left:"100%"}))]),Rn(":enter",[Mi("300ms ease-out",Ar({left:"0%"}))])]),Rn(":enter",Cr())])]),mo=gr("fadeInAnimation",[Dr("papers <=> paper",[Rn(":enter",[Ar({opacity:1})]),Rn(":leave",Cr()),Cn([Rn(":leave",[Mi("400ms ease-out",Ar({opacity:0}))]),Rn(":enter",[Mi("400ms ease-out",Ar({opacity:1}))])]),Rn(":enter",Cr())])]);var _u=B(5480);function vu(v,c){1&v&&(E.TgZ(0,"div",10)(1,"a",11),E._UZ(2,"img",12),E.TgZ(3,"p",13),E._uU(4,"Science"),E.qZA(),E.TgZ(5,"p",14),E._uU(6,"Hub"),E.qZA()()())}function R(v,c){if(1&v&&(E.TgZ(0,"li",15)(1,"a",16),E._uU(2),E.qZA()()),2&v){const d=c.$implicit;E.xp6(1),E.Q6J("routerLink",d.pagePath),E.xp6(1),E.hij(" ",d.title," ")}}let U=(()=>{class v{constructor(d,b,P){this.bioService=d,this.headerService=b,this.authService=P,this.bio$=this.bioService.getBio(),this.isHome$=this.headerService.isHome(),this.isLoggedIn=this.authService.isLoggedIn,this.menuItems=[{title:"About Us",homePath:"/",pagePath:"/about"},{title:"Papers",homePath:"/papers",pagePath:"/papers"},{title:"Competitions",homePath:"",pagePath:"/competitions"},{title:"Blog",homePath:"/blog",pagePath:"/blog"}],this.loginItem={title:"Sign In",homePath:"/login",pagePath:"/login"}}ngOnInit(){}}return v.\u0275fac=function(d){return new(d||v)(E.Y36(St.X),E.Y36(_u.r),E.Y36(Ls.e))},v.\u0275cmp=E.Xpm({type:v,selectors:[["app-header"]],decls:12,vars:6,consts:[[1,"shadow-lg","navbar","navbar-expand-lg","navbar-dark",2,"background-color","#2a2a2a"],[1,"container-fluid"],["routerLink","/",4,"ngIf"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","p-0","border-0","float-end"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"navbar-collapse","collapse"],[1,"navbar-nav","mr-auto"],["class","nav-item",4,"ngFor","ngForOf"],[1,"float-end"],["routerLinkActive","active",1,"btn","btn-outline-success","fw-bold",2,"color","white",3,"routerLink"],["routerLink","/"],["href","/",1,"navbar-brand","mr-auto","mr-lg-0"],["src","","alt","","width","30","height","24",1,"p-2","d-inline"],[1,"fw-bold","d-inline"],[1,"fw-light","d-inline"],[1,"nav-item"],["routerLinkActive","active",1,"me-2","mb-2","btn","btn-outline-light","fw-bold",3,"routerLink"]],template:function(d,b){1&d&&(E.TgZ(0,"nav",0)(1,"div",1),E.YNc(2,vu,7,0,"div",2),E.ALo(3,"async"),E.TgZ(4,"button",3),E._UZ(5,"span",4),E.qZA(),E.TgZ(6,"div",5)(7,"ul",6),E.YNc(8,R,3,2,"li",7),E.qZA()(),E.TgZ(9,"div",8)(10,"a",9),E._uU(11),E.qZA()()()()),2&d&&(E.xp6(2),E.Q6J("ngIf",E.lcZ(3,4,b.bio$)),E.xp6(6),E.Q6J("ngForOf",b.menuItems),E.xp6(2),E.Q6J("routerLink",b.loginItem.pagePath),E.xp6(1),E.hij(" ",b.loginItem.title," "))},directives:[m.O5,Xe.rH,m.sg,Xe.yS,Xe.Od],pipes:[m.Ov],styles:[""]}),v})(),Y=(()=>{class v{constructor(d){this.contexts=d,this.title="ScienceHub"}getAnimationData(){var d,b,P,G;return null===(G=null===(P=null===(b=null===(d=this.contexts.getContext("primary"))||void 0===d?void 0:d.route)||void 0===b?void 0:b.snapshot)||void 0===P?void 0:P.data)||void 0===G?void 0:G.animation}}return v.\u0275fac=function(d){return new(d||v)(E.Y36(Xe.y6))},v.\u0275cmp=E.Xpm({type:v,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"d-flex","flex-column","h-100","w-100"],[1,"bg-dark","d-flex","flex-column","flex-grow-1","align-items-center","justify-content-center"]],template:function(d,b){1&d&&(E.TgZ(0,"div",0),E._UZ(1,"app-header"),E.TgZ(2,"div",1),E._UZ(3,"router-outlet"),E.qZA()()),2&d&&(E.xp6(2),E.Q6J("@fadeInAnimation",b.getAnimationData()))},directives:[U,Xe.lC],styles:[""],data:{animation:[Oa,mo]}}),v})(),ae=(()=>{class v{}return v.\u0275fac=function(d){return new(d||v)},v.\u0275mod=E.oAB({type:v,bootstrap:[Y]}),v.\u0275inj=E.cJS({providers:[],imports:[[_n,Un,na,xa,ue.hO.initializeApp(ze_firebase)]]}),v})();(0,E.G48)(),Er().bootstrapModule(ae).catch(v=>console.error(v))},5867:(Rt,Ge,B)=>{B.d(Ge,{C6:()=>m.getApps,Mq:()=>m.getApp});var m=B(9681);(0,m.registerVersion)("firebase","9.6.11","app")},127:(Rt,Ge,B)=>{B.d(Ge,{Z:()=>m.Z});var m=B(3942);m.Z.registerVersion("firebase","9.6.11","app-compat")},5881:(Rt,Ge,B)=>{B.r(Ge);var m=B(5861),E=B(3942),K=B(573),fe=B(2090),Te=(B(9681),B(1877),B(4859));function Se(){return window}function he(){return(he=(0,m.Z)(function*(te,se,ue){var ze;const{BuildInfo:Xe}=Se();(0,K.ap)(se.sessionId,"AuthEvent did not contain a session ID");const St=yield nt(se.sessionId),on={};return(0,K.aq)()?on.ibi=Xe.packageName:(0,K.ar)()?on.apn=Xe.packageName:(0,K.as)(te,"operation-not-supported-in-this-environment"),Xe.displayName&&(on.appDisplayName=Xe.displayName),on.sessionId=St,(0,K.at)(te,ue,se.type,void 0,null!==(ze=se.eventId)&&void 0!==ze?ze:void 0,on)})).apply(this,arguments)}function It(){return(It=(0,m.Z)(function*(te){const{BuildInfo:se}=Se(),ue={};(0,K.aq)()?ue.iosBundleId=se.packageName:(0,K.ar)()?ue.androidPackageName=se.packageName:(0,K.as)(te,"operation-not-supported-in-this-environment"),yield(0,K.au)(te,ue)})).apply(this,arguments)}function dt(){return(dt=(0,m.Z)(function*(te,se,ue){const{cordova:ze}=Se();let Xe=()=>{};try{yield new Promise((St,on)=>{let Nt=null;function pn(){var jn;St();const _r=null===(jn=ze.plugins.browsertab)||void 0===jn?void 0:jn.close;"function"==typeof _r&&_r(),"function"==typeof(null==ue?void 0:ue.close)&&ue.close()}function cr(){Nt||(Nt=window.setTimeout(()=>{on((0,K.av)(te,"redirect-cancelled-by-user"))},2e3))}function Ir(){"visible"===(null==document?void 0:document.visibilityState)&&cr()}se.addPassiveListener(pn),document.addEventListener("resume",cr,!1),(0,K.ar)()&&document.addEventListener("visibilitychange",Ir,!1),Xe=()=>{se.removePassiveListener(pn),document.removeEventListener("resume",cr,!1),document.removeEventListener("visibilitychange",Ir,!1),Nt&&window.clearTimeout(Nt)}})}finally{Xe()}})).apply(this,arguments)}function nt(te){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,m.Z)(function*(te){const se=Dt(te),ue=yield crypto.subtle.digest("SHA-256",se);return Array.from(new Uint8Array(ue)).map(Xe=>Xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Dt(te){if((0,K.ap)(/[0-9a-zA-Z]+/.test(te),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(te);const se=new ArrayBuffer(te.length),ue=new Uint8Array(se);for(let ze=0;ze<te.length;ze++)ue[ze]=te.charCodeAt(ze);return ue}class Le extends K.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(se=>{this.resolveInialized=se})}addPassiveListener(se){this.passiveListeners.add(se)}removePassiveListener(se){this.passiveListeners.delete(se)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(se){return this.resolveInialized(),this.passiveListeners.forEach(ue=>ue(se)),super.onEvent(se)}initialized(){var se=this;return(0,m.Z)(function*(){yield se.initPromise})()}}function Ne(te){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,m.Z)(function*(te){const se=yield pe()._get(qe(te));return se&&(yield pe()._remove(qe(te))),se})).apply(this,arguments)}function $e(){const te=[],se="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ue=0;ue<20;ue++){const ze=Math.floor(Math.random()*se.length);te.push(se.charAt(ze))}return te.join("")}function pe(){return(0,K.ax)(K.b)}function qe(te){return(0,K.ay)("authEvent",te.config.apiKey,te.name)}function Ht(te){if(!(null==te?void 0:te.includes("?")))return{};const[se,...ue]=te.split("?");return(0,fe.zd)(ue.join("?"))}function Lt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,K.av)("no-auth-event")}}function Bt(){var te;return(null===(te=null==self?void 0:self.location)||void 0===te?void 0:te.protocol)||null}function Xn(te=(0,fe.z$)()){return!("file:"!==Bt()&&"ionic:"!==Bt()||!te.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){try{const te=self.localStorage,se=K.aG();if(te)return te.setItem(se,"1"),te.removeItem(se),!function or(te=(0,fe.z$)()){return function Fn(){return(0,fe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Wn(te=(0,fe.z$)()){return/Edge\/\d+/.test(te)}(te)}()||(0,fe.hl)()}catch(te){return ar()&&(0,fe.hl)()}return!1}function ar(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function _n(){return(function Yt(){return"http:"===Bt()||"https:"===Bt()}()||(0,fe.ru)()||Xn())&&!function zn(){return(0,fe.b$)()||(0,fe.UG)()}()&&Er()&&!ar()}function wr(){return Xn()&&"undefined"!=typeof document}function br(){return(br=(0,m.Z)(function*(){return!!wr()&&new Promise(te=>{const se=setTimeout(()=>{te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(se),te(!0)})})})).apply(this,arguments)}const nn={LOCAL:"local",NONE:"none",SESSION:"session"},lr=K.aw,oi="persistence";function we(te){return De.apply(this,arguments)}function De(){return(De=(0,m.Z)(function*(te){yield te._initializationPromise;const se=ke(),ue=K.ay(oi,te.config.apiKey,te.name);se&&se.setItem(ue,te._getPersistence())})).apply(this,arguments)}function ke(){var te;try{return(null===(te=function In(){return"undefined"!=typeof window?window:null}())||void 0===te?void 0:te.sessionStorage)||null}catch(se){return null}}const ft=K.aw;class ht{constructor(){this.browserResolver=K.ax(K.k),this.cordovaResolver=K.ax(class Gn{constructor(){this._redirectPersistence=K.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=K.aA}_initialize(se){var ue=this;return(0,m.Z)(function*(){const ze=se._key();let Xe=ue.eventManagers.get(ze);return Xe||(Xe=new Le(se),ue.eventManagers.set(ze,Xe),ue.attachCallbackListeners(se,Xe)),Xe})()}_openPopup(se){(0,K.as)(se,"operation-not-supported-in-this-environment")}_openRedirect(se,ue,ze,Xe){var St=this;return(0,m.Z)(function*(){!function We(te){var se,ue,ze,Xe,St,on,Nt,pn,cr,Ir;const jn=Se();(0,K.aw)("function"==typeof(null===(se=null==jn?void 0:jn.universalLinks)||void 0===se?void 0:se.subscribe),te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,K.aw)(void 0!==(null===(ue=null==jn?void 0:jn.BuildInfo)||void 0===ue?void 0:ue.packageName),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,K.aw)("function"==typeof(null===(St=null===(Xe=null===(ze=null==jn?void 0:jn.cordova)||void 0===ze?void 0:ze.plugins)||void 0===Xe?void 0:Xe.browsertab)||void 0===St?void 0:St.openUrl),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aw)("function"==typeof(null===(pn=null===(Nt=null===(on=null==jn?void 0:jn.cordova)||void 0===on?void 0:on.plugins)||void 0===Nt?void 0:Nt.browsertab)||void 0===pn?void 0:pn.isAvailable),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,K.aw)("function"==typeof(null===(Ir=null===(cr=null==jn?void 0:jn.cordova)||void 0===cr?void 0:cr.InAppBrowser)||void 0===Ir?void 0:Ir.open),te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(se);const on=yield St._initialize(se);yield on.initialized(),on.resetRedirect(),(0,K.aB)(),yield St._originValidation(se);const Nt=function Qe(te,se,ue=null){return{type:se,eventId:ue,urlResponse:null,sessionId:$e(),postBody:null,tenantId:te.tenantId,error:(0,K.av)(te,"no-auth-event")}}(se,ze,Xe);yield function mt(te,se){return pe()._set(qe(te),se)}(se,Nt);const pn=yield function ce(te,se,ue){return he.apply(this,arguments)}(se,Nt,ue),cr=yield function rt(te){const{cordova:se}=Se();return new Promise(ue=>{se.plugins.browsertab.isAvailable(ze=>{let Xe=null;ze?se.plugins.browsertab.openUrl(te):Xe=se.InAppBrowser.open(te,(0,K.ao)()?"_blank":"_system","location=yes"),ue(Xe)})})}(pn);return function ot(te,se,ue){return dt.apply(this,arguments)}(se,on,cr)})()}_isIframeWebStorageSupported(se,ue){throw new Error("Method not implemented.")}_originValidation(se){const ue=se._key();return this.originValidationPromises[ue]||(this.originValidationPromises[ue]=function Pe(te){return It.apply(this,arguments)}(se)),this.originValidationPromises[ue]}attachCallbackListeners(se,ue){const{universalLinks:ze,handleOpenURL:Xe,BuildInfo:St}=Se(),on=setTimeout((0,m.Z)(function*(){yield Ne(se),ue.onEvent(Lt())}),500),Nt=function(){var Ir=(0,m.Z)(function*(jn){clearTimeout(on);const _r=yield Ne(se);let Pr=null;_r&&(null==jn?void 0:jn.url)&&(Pr=function Oe(te,se){var ue,ze;const Xe=function Ue(te){const se=Ht(te),ue=se.link?decodeURIComponent(se.link):void 0,ze=Ht(ue).link,Xe=se.deep_link_id?decodeURIComponent(se.deep_link_id):void 0;return Ht(Xe).link||Xe||ze||ue||te}(se);if(Xe.includes("/__/auth/callback")){const St=Ht(Xe),on=St.firebaseError?function Fe(te){try{return JSON.parse(te)}catch(se){return null}}(decodeURIComponent(St.firebaseError)):null,Nt=null===(ze=null===(ue=null==on?void 0:on.code)||void 0===ue?void 0:ue.split("auth/"))||void 0===ze?void 0:ze[1],pn=Nt?(0,K.av)(Nt):null;return pn?{type:te.type,eventId:te.eventId,tenantId:te.tenantId,error:pn,urlResponse:null,sessionId:null,postBody:null}:{type:te.type,eventId:te.eventId,tenantId:te.tenantId,sessionId:te.sessionId,urlResponse:Xe,postBody:null}}return null}(_r,jn.url)),ue.onEvent(Pr||Lt())});return function(_r){return Ir.apply(this,arguments)}}();void 0!==ze&&"function"==typeof ze.subscribe&&ze.subscribe(null,Nt);const pn=Xe,cr=`${St.packageName.toLowerCase()}://`;Se().handleOpenURL=function(){var Ir=(0,m.Z)(function*(jn){if(jn.toLowerCase().startsWith(cr)&&Nt({url:jn}),"function"==typeof pn)try{pn(jn)}catch(_r){console.error(_r)}});return function(jn){return Ir.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=K.a,this._completeRedirectFn=K.aA}_initialize(se){var ue=this;return(0,m.Z)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._initialize(se)})()}_openPopup(se,ue,ze,Xe){var St=this;return(0,m.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openPopup(se,ue,ze,Xe)})()}_openRedirect(se,ue,ze,Xe){var St=this;return(0,m.Z)(function*(){return yield St.selectUnderlyingResolver(),St.assertedUnderlyingResolver._openRedirect(se,ue,ze,Xe)})()}_isIframeWebStorageSupported(se,ue){this.assertedUnderlyingResolver._isIframeWebStorageSupported(se,ue)}_originValidation(se){return this.assertedUnderlyingResolver._originValidation(se)}get _shouldInitProactively(){return wr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ft(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var se=this;return(0,m.Z)(function*(){if(se.underlyingResolver)return;const ue=yield function At(){return br.apply(this,arguments)}();se.underlyingResolver=ue?se.cordovaResolver:se.browserResolver})()}}function Vn(te){return te.unwrap()}function Xt(te){return ir(te)}function ir(te){const{_tokenResponse:se}=te instanceof fe.ZR?te.customData:te;if(!se)return null;if(!(te instanceof fe.ZR)&&"temporaryProof"in se&&"phoneNumber"in se)return K.P.credentialFromResult(te);const ue=se.providerId;if(!ue||ue===K.o.PASSWORD)return null;let ze;switch(ue){case K.o.GOOGLE:ze=K.N;break;case K.o.FACEBOOK:ze=K.M;break;case K.o.GITHUB:ze=K.Q;break;case K.o.TWITTER:ze=K.V;break;default:const{oauthIdToken:Xe,oauthAccessToken:St,oauthTokenSecret:on,pendingToken:Nt,nonce:pn}=se;return St||on||Xe||Nt?Nt?ue.startsWith("saml.")?K.aJ._create(ue,Nt):K.I._fromParams({providerId:ue,signInMethod:ue,pendingToken:Nt,idToken:Xe,accessToken:St}):new K.T(ue).credential({idToken:Xe,accessToken:St,rawNonce:pn}):null}return te instanceof fe.ZR?ze.credentialFromError(te):ze.credentialFromResult(te)}function cn(te,se){return se.catch(ue=>{throw ue instanceof fe.ZR&&function Ur(te,se){var ue;const ze=null===(ue=se.customData)||void 0===ue?void 0:ue._tokenResponse;if("auth/multi-factor-auth-required"===se.code)se.resolver=new fn(te,K.am(te,se));else if(ze){const Xe=ir(se),St=se;Xe&&(St.credential=Xe,St.tenantId=ze.tenantId||void 0,St.email=ze.email||void 0,St.phoneNumber=ze.phoneNumber||void 0)}}(te,ue),ue}).then(ue=>{const Xe=ue.user;return{operationType:ue.operationType,credential:Xt(ue),additionalUserInfo:K.ak(ue),user:xt.getOrCreate(Xe)}})}function Ct(te,se){return wn.apply(this,arguments)}function wn(){return(wn=(0,m.Z)(function*(te,se){const ue=yield se;return{verificationId:ue.verificationId,confirm:ze=>cn(te,ue.confirm(ze))}})).apply(this,arguments)}class fn{constructor(se,ue){this.resolver=ue,this.auth=function ln(te){return te.wrapped()}(se)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(se){return cn(Vn(this.auth),this.resolver.resolveSignIn(se))}}class xt{constructor(se){this._delegate=se,this.multiFactor=K.an(se)}static getOrCreate(se){return xt.USER_MAP.has(se)||xt.USER_MAP.set(se,new xt(se)),xt.USER_MAP.get(se)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(se){return this._delegate.getIdTokenResult(se)}getIdToken(se){return this._delegate.getIdToken(se)}linkAndRetrieveDataWithCredential(se){return this.linkWithCredential(se)}linkWithCredential(se){var ue=this;return(0,m.Z)(function*(){return cn(ue.auth,K.Y(ue._delegate,se))})()}linkWithPhoneNumber(se,ue){var ze=this;return(0,m.Z)(function*(){return Ct(ze.auth,K.l(ze._delegate,se,ue))})()}linkWithPopup(se){var ue=this;return(0,m.Z)(function*(){return cn(ue.auth,K.d(ue._delegate,se,ht))})()}linkWithRedirect(se){var ue=this;return(0,m.Z)(function*(){return yield we(K.aC(ue.auth)),K.g(ue._delegate,se,ht)})()}reauthenticateAndRetrieveDataWithCredential(se){return this.reauthenticateWithCredential(se)}reauthenticateWithCredential(se){var ue=this;return(0,m.Z)(function*(){return cn(ue.auth,K.Z(ue._delegate,se))})()}reauthenticateWithPhoneNumber(se,ue){return Ct(this.auth,K.r(this._delegate,se,ue))}reauthenticateWithPopup(se){return cn(this.auth,K.e(this._delegate,se,ht))}reauthenticateWithRedirect(se){var ue=this;return(0,m.Z)(function*(){return yield we(K.aC(ue.auth)),K.h(ue._delegate,se,ht)})()}sendEmailVerification(se){return K.aa(this._delegate,se)}unlink(se){var ue=this;return(0,m.Z)(function*(){return yield K.aj(ue._delegate,se),ue})()}updateEmail(se){return K.af(this._delegate,se)}updatePassword(se){return K.ag(this._delegate,se)}updatePhoneNumber(se){return K.u(this._delegate,se)}updateProfile(se){return K.ae(this._delegate,se)}verifyBeforeUpdateEmail(se,ue){return K.ab(this._delegate,se,ue)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xt.USER_MAP=new WeakMap;const Ze=K.aw;let Tt=(()=>{class te{constructor(ue,ze){if(this.app=ue,ze.isInitialized())return this._delegate=ze.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Xe}=ue.options;Ze(Xe,"invalid-api-key",{appName:ue.name}),Ze(Xe,"invalid-api-key",{appName:ue.name});const St="undefined"!=typeof window?ht:void 0;this._delegate=ze.initialize({options:{persistence:dn(Xe,ue.name),popupRedirectResolver:St}}),this._delegate._updateErrorMap(K.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ue){this._delegate.languageCode=ue}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ue){this._delegate.tenantId=ue}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ue,ze){K.E(this._delegate,ue,ze)}applyActionCode(ue){return K.a1(this._delegate,ue)}checkActionCode(ue){return K.a2(this._delegate,ue)}confirmPasswordReset(ue,ze){return K.a0(this._delegate,ue,ze)}createUserWithEmailAndPassword(ue,ze){var Xe=this;return(0,m.Z)(function*(){return cn(Xe._delegate,K.a4(Xe._delegate,ue,ze))})()}fetchProvidersForEmail(ue){return this.fetchSignInMethodsForEmail(ue)}fetchSignInMethodsForEmail(ue){return K.a9(this._delegate,ue)}isSignInWithEmailLink(ue){return K.a7(this._delegate,ue)}getRedirectResult(){var ue=this;return(0,m.Z)(function*(){Ze(_n(),ue._delegate,"operation-not-supported-in-this-environment");const ze=yield K.j(ue._delegate,ht);return ze?cn(ue._delegate,Promise.resolve(ze)):{credential:null,user:null}})()}addFrameworkForLogging(ue){!function Ln(te,se){(0,K.aC)(te)._logFramework(se)}(this._delegate,ue)}onAuthStateChanged(ue,ze,Xe){const{next:St,error:on,complete:Nt}=Gt(ue,ze,Xe);return this._delegate.onAuthStateChanged(St,on,Nt)}onIdTokenChanged(ue,ze,Xe){const{next:St,error:on,complete:Nt}=Gt(ue,ze,Xe);return this._delegate.onIdTokenChanged(St,on,Nt)}sendSignInLinkToEmail(ue,ze){return K.a6(this._delegate,ue,ze)}sendPasswordResetEmail(ue,ze){return K.$(this._delegate,ue,ze||void 0)}setPersistence(ue){var ze=this;return(0,m.Z)(function*(){let Xe;switch(function tt(te,se){lr(Object.values(nn).includes(se),te,"invalid-persistence-type"),(0,fe.b$)()?lr(se!==nn.SESSION,te,"unsupported-persistence-type"):(0,fe.UG)()?lr(se===nn.NONE,te,"unsupported-persistence-type"):ar()?lr(se===nn.NONE||se===nn.LOCAL&&(0,fe.hl)(),te,"unsupported-persistence-type"):lr(se===nn.NONE||Er(),te,"unsupported-persistence-type")}(ze._delegate,ue),ue){case nn.SESSION:Xe=K.a;break;case nn.LOCAL:Xe=(yield K.ax(K.i)._isAvailable())?K.i:K.b;break;case nn.NONE:Xe=K.K;break;default:return K.as("argument-error",{appName:ze._delegate.name})}return ze._delegate.setPersistence(Xe)})()}signInAndRetrieveDataWithCredential(ue){return this.signInWithCredential(ue)}signInAnonymously(){return cn(this._delegate,K.W(this._delegate))}signInWithCredential(ue){return cn(this._delegate,K.X(this._delegate,ue))}signInWithCustomToken(ue){return cn(this._delegate,K._(this._delegate,ue))}signInWithEmailAndPassword(ue,ze){return cn(this._delegate,K.a5(this._delegate,ue,ze))}signInWithEmailLink(ue,ze){return cn(this._delegate,K.a8(this._delegate,ue,ze))}signInWithPhoneNumber(ue,ze){return Ct(this._delegate,K.s(this._delegate,ue,ze))}signInWithPopup(ue){var ze=this;return(0,m.Z)(function*(){return Ze(_n(),ze._delegate,"operation-not-supported-in-this-environment"),cn(ze._delegate,K.c(ze._delegate,ue,ht))})()}signInWithRedirect(ue){var ze=this;return(0,m.Z)(function*(){return Ze(_n(),ze._delegate,"operation-not-supported-in-this-environment"),yield we(ze._delegate),K.f(ze._delegate,ue,ht)})()}updateCurrentUser(ue){return this._delegate.updateCurrentUser(ue)}verifyPasswordResetCode(ue){return K.a3(this._delegate,ue)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return te.Persistence=nn,te})();function Gt(te,se,ue){let ze=te;"function"!=typeof te&&({next:ze,error:se,complete:ue}=te);const Xe=ze;return{next:on=>Xe(on&&xt.getOrCreate(on)),error:se,complete:ue}}function dn(te,se){const ue=function ct(te,se){const ue=ke();if(!ue)return[];const ze=K.ay(oi,te,se);switch(ue.getItem(ze)){case nn.NONE:return[K.K];case nn.LOCAL:return[K.i,K.a];case nn.SESSION:return[K.a];default:return[]}}(te,se);if("undefined"!=typeof self&&!ue.includes(K.i)&&ue.push(K.i),"undefined"!=typeof window)for(const ze of[K.b,K.a])ue.includes(ze)||ue.push(ze);return ue.includes(K.K)||ue.push(K.K),ue}class vn{constructor(){this.providerId="phone",this._delegate=new K.P(Vn(E.Z.auth()))}static credential(se,ue){return K.P.credential(se,ue)}verifyPhoneNumber(se,ue){return this._delegate.verifyPhoneNumber(se,ue)}unwrap(){return this._delegate}}vn.PHONE_SIGN_IN_METHOD=K.P.PHONE_SIGN_IN_METHOD,vn.PROVIDER_ID=K.P.PROVIDER_ID;const ye=K.aw;class le{constructor(se,ue,ze=E.Z.app()){var Xe;ye(null===(Xe=ze.options)||void 0===Xe?void 0:Xe.apiKey,"invalid-api-key",{appName:ze.name}),this._delegate=new K.R(se,ue,ze.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Je(te){te.INTERNAL.registerComponent(new Te.wA("auth-compat",se=>{const ue=se.getProvider("app-compat").getImmediate(),ze=se.getProvider("auth");return new Tt(ue,ze)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K.A.EMAIL_SIGNIN,PASSWORD_RESET:K.A.PASSWORD_RESET,RECOVER_EMAIL:K.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K.A.VERIFY_EMAIL}},EmailAuthProvider:K.L,FacebookAuthProvider:K.M,GithubAuthProvider:K.Q,GoogleAuthProvider:K.N,OAuthProvider:K.T,SAMLAuthProvider:K.U,PhoneAuthProvider:vn,PhoneMultiFactorGenerator:K.m,RecaptchaVerifier:le,TwitterAuthProvider:K.V,Auth:Tt,AuthCredential:K.G,Error:fe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),te.registerVersion("@firebase/auth-compat","0.2.12")}(E.Z)},1135:(Rt,Ge,B)=>{B.d(Ge,{X:()=>E});var m=B(7579);class E extends m.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const ge=super._subscribe(fe);return!ge.closed&&fe.next(this._value),ge}getValue(){const{hasError:fe,thrownError:ge,_value:ve}=this;if(fe)throw ge;return this._throwIfClosed(),ve}next(fe){super.next(this._value=fe)}}},8306:(Rt,Ge,B)=>{B.d(Ge,{y:()=>ce});var m=B(930),E=B(727),K=B(8822),fe=B(4671);var Te=B(2416),Se=B(576),Me=B(2806);let ce=(()=>{class rt{constructor(dt){dt&&(this._subscribe=dt)}lift(dt){const We=new rt;return We.source=this,We.operator=dt,We}subscribe(dt,We,nt){const Ot=function It(rt){return rt&&rt instanceof m.Lv||function Pe(rt){return rt&&(0,Se.m)(rt.next)&&(0,Se.m)(rt.error)&&(0,Se.m)(rt.complete)}(rt)&&(0,E.Nn)(rt)}(dt)?dt:new m.Hp(dt,We,nt);return(0,Me.x)(()=>{const{operator:Dt,source:it}=this;Ot.add(Dt?Dt.call(Ot,it):it?this._subscribe(Ot):this._trySubscribe(Ot))}),Ot}_trySubscribe(dt){try{return this._subscribe(dt)}catch(We){dt.error(We)}}forEach(dt,We){return new(We=he(We))((nt,Ot)=>{const Dt=new m.Hp({next:it=>{try{dt(it)}catch(Le){Ot(Le),Dt.unsubscribe()}},error:Ot,complete:nt});this.subscribe(Dt)})}_subscribe(dt){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(dt)}[K.L](){return this}pipe(...dt){return function ve(rt){return 0===rt.length?fe.y:1===rt.length?rt[0]:function(dt){return rt.reduce((We,nt)=>nt(We),dt)}}(dt)(this)}toPromise(dt){return new(dt=he(dt))((We,nt)=>{let Ot;this.subscribe(Dt=>Ot=Dt,Dt=>nt(Dt),()=>We(Ot))})}}return rt.create=ot=>new rt(ot),rt})();function he(rt){var ot;return null!==(ot=null!=rt?rt:Te.v.Promise)&&void 0!==ot?ot:Promise}},4707:(Rt,Ge,B)=>{B.d(Ge,{t:()=>K});var m=B(7579),E=B(6063);class K extends m.x{constructor(ge=1/0,ve=1/0,Te=E.l){super(),this._bufferSize=ge,this._windowTime=ve,this._timestampProvider=Te,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ve===1/0,this._bufferSize=Math.max(1,ge),this._windowTime=Math.max(1,ve)}next(ge){const{isStopped:ve,_buffer:Te,_infiniteTimeWindow:Se,_timestampProvider:Me,_windowTime:ce}=this;ve||(Te.push(ge),!Se&&Te.push(Me.now()+ce)),this._trimBuffer(),super.next(ge)}_subscribe(ge){this._throwIfClosed(),this._trimBuffer();const ve=this._innerSubscribe(ge),{_infiniteTimeWindow:Te,_buffer:Se}=this,Me=Se.slice();for(let ce=0;ce<Me.length&&!ge.closed;ce+=Te?1:2)ge.next(Me[ce]);return this._checkFinalizedStatuses(ge),ve}_trimBuffer(){const{_bufferSize:ge,_timestampProvider:ve,_buffer:Te,_infiniteTimeWindow:Se}=this,Me=(Se?1:2)*ge;if(ge<1/0&&Me<Te.length&&Te.splice(0,Te.length-Me),!Se){const ce=ve.now();let he=0;for(let Pe=1;Pe<Te.length&&Te[Pe]<=ce;Pe+=2)he=Pe;he&&Te.splice(0,he+1)}}}},7579:(Rt,Ge,B)=>{B.d(Ge,{x:()=>Te});var m=B(8306),E=B(727);const fe=(0,B(3888).d)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ge=B(8737),ve=B(2806);let Te=(()=>{class Me extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const Pe=new Se(this,this);return Pe.operator=he,Pe}_throwIfClosed(){if(this.closed)throw new fe}next(he){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Pe of this.currentObservers)Pe.next(he)}})}error(he){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:Pe}=this;for(;Pe.length;)Pe.shift().error(he)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:Pe,isStopped:It,observers:rt}=this;return Pe||It?E.Lc:(this.currentObservers=null,rt.push(he),new E.w0(()=>{this.currentObservers=null,(0,ge.P)(rt,he)}))}_checkFinalizedStatuses(he){const{hasError:Pe,thrownError:It,isStopped:rt}=this;Pe?he.error(It):rt&&he.complete()}asObservable(){const he=new m.y;return he.source=this,he}}return Me.create=(ce,he)=>new Se(ce,he),Me})();class Se extends Te{constructor(ce,he){super(),this.destination=ce,this.source=he}next(ce){var he,Pe;null===(Pe=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===Pe||Pe.call(he,ce)}error(ce){var he,Pe;null===(Pe=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===Pe||Pe.call(he,ce)}complete(){var ce,he;null===(he=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===he||he.call(ce)}_subscribe(ce){var he,Pe;return null!==(Pe=null===(he=this.source)||void 0===he?void 0:he.subscribe(ce))&&void 0!==Pe?Pe:E.Lc}}},930:(Rt,Ge,B)=>{B.d(Ge,{Hp:()=>dt,Lv:()=>Pe});var m=B(576),E=B(727),K=B(2416),fe=B(7849),ge=B(5032);const ve=Me("C",void 0,void 0);function Me(it,Le,Qe){return{kind:it,value:Le,error:Qe}}var ce=B(3410),he=B(2806);class Pe extends E.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,E.Nn)(Le)&&Le.add(this)):this.destination=Dt}static create(Le,Qe,mt){return new dt(Le,Qe,mt)}next(Le){this.isStopped?Ot(function Se(it){return Me("N",it,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?Ot(function Te(it){return Me("E",void 0,it)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?Ot(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const It=Function.prototype.bind;function rt(it,Le){return It.call(it,Le)}class ot{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:Qe}=this;if(Qe.next)try{Qe.next(Le)}catch(mt){We(mt)}}error(Le){const{partialObserver:Qe}=this;if(Qe.error)try{Qe.error(Le)}catch(mt){We(mt)}else We(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(Qe){We(Qe)}}}class dt extends Pe{constructor(Le,Qe,mt){let Ne;if(super(),(0,m.m)(Le)||!Le)Ne={next:null!=Le?Le:void 0,error:null!=Qe?Qe:void 0,complete:null!=mt?mt:void 0};else{let Ee;this&&K.v.useDeprecatedNextContext?(Ee=Object.create(Le),Ee.unsubscribe=()=>this.unsubscribe(),Ne={next:Le.next&&rt(Le.next,Ee),error:Le.error&&rt(Le.error,Ee),complete:Le.complete&&rt(Le.complete,Ee)}):Ne=Le}this.destination=new ot(Ne)}}function We(it){K.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(it):(0,fe.h)(it)}function Ot(it,Le){const{onStoppedNotification:Qe}=K.v;Qe&&ce.z.setTimeout(()=>Qe(it,Le))}const Dt={closed:!0,next:ge.Z,error:function nt(it){throw it},complete:ge.Z}},727:(Rt,Ge,B)=>{B.d(Ge,{Lc:()=>ve,w0:()=>ge,Nn:()=>Te});var m=B(576);const K=(0,B(3888).d)(Me=>function(he){Me(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((Pe,It)=>`${It+1}) ${Pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var fe=B(8737);class ge{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const rt of he)rt.remove(this);else he.remove(this);const{initialTeardown:Pe}=this;if((0,m.m)(Pe))try{Pe()}catch(rt){ce=rt instanceof K?rt.errors:[rt]}const{_finalizers:It}=this;if(It){this._finalizers=null;for(const rt of It)try{Se(rt)}catch(ot){ce=null!=ce?ce:[],ot instanceof K?ce=[...ce,...ot.errors]:ce.push(ot)}}if(ce)throw new K(ce)}}add(ce){var he;if(ce&&ce!==this)if(this.closed)Se(ce);else{if(ce instanceof ge){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(ce)}}_hasParent(ce){const{_parentage:he}=this;return he===ce||Array.isArray(he)&&he.includes(ce)}_addParent(ce){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(ce),he):he?[he,ce]:ce}_removeParent(ce){const{_parentage:he}=this;he===ce?this._parentage=null:Array.isArray(he)&&(0,fe.P)(he,ce)}remove(ce){const{_finalizers:he}=this;he&&(0,fe.P)(he,ce),ce instanceof ge&&ce._removeParent(this)}}ge.EMPTY=(()=>{const Me=new ge;return Me.closed=!0,Me})();const ve=ge.EMPTY;function Te(Me){return Me instanceof ge||Me&&"closed"in Me&&(0,m.m)(Me.remove)&&(0,m.m)(Me.add)&&(0,m.m)(Me.unsubscribe)}function Se(Me){(0,m.m)(Me)?Me():Me.unsubscribe()}},2416:(Rt,Ge,B)=>{B.d(Ge,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Rt,Ge,B)=>{B.d(Ge,{z:()=>ge});var m=B(8189),K=B(7669),fe=B(8996);function ge(...ve){return function E(){return(0,m.J)(1)}()((0,fe.D)(ve,(0,K.yG)(ve)))}},515:(Rt,Ge,B)=>{B.d(Ge,{E:()=>E});const E=new(B(8306).y)(ge=>ge.complete())},8996:(Rt,Ge,B)=>{B.d(Ge,{D:()=>Le});var m=B(8421),E=B(5363),K=B(9468),ve=B(8306),Se=B(2202),Me=B(576),ce=B(9672);function Pe(Qe,mt){if(!Qe)throw new Error("Iterable cannot be null");return new ve.y(Ne=>{(0,ce.f)(Ne,mt,()=>{const Ee=Qe[Symbol.asyncIterator]();(0,ce.f)(Ne,mt,()=>{Ee.next().then(Oe=>{Oe.done?Ne.complete():Ne.next(Oe.value)})},0,!0)})})}var It=B(3670),rt=B(8239),ot=B(1144),dt=B(6495),We=B(2206),nt=B(4532),Ot=B(3260);function Le(Qe,mt){return mt?function it(Qe,mt){if(null!=Qe){if((0,It.c)(Qe))return function fe(Qe,mt){return(0,m.Xf)(Qe).pipe((0,K.R)(mt),(0,E.Q)(mt))}(Qe,mt);if((0,ot.z)(Qe))return function Te(Qe,mt){return new ve.y(Ne=>{let Ee=0;return mt.schedule(function(){Ee===Qe.length?Ne.complete():(Ne.next(Qe[Ee++]),Ne.closed||this.schedule())})})}(Qe,mt);if((0,rt.t)(Qe))return function ge(Qe,mt){return(0,m.Xf)(Qe).pipe((0,K.R)(mt),(0,E.Q)(mt))}(Qe,mt);if((0,We.D)(Qe))return Pe(Qe,mt);if((0,dt.T)(Qe))return function he(Qe,mt){return new ve.y(Ne=>{let Ee;return(0,ce.f)(Ne,mt,()=>{Ee=Qe[Se.h](),(0,ce.f)(Ne,mt,()=>{let Oe,$e;try{({value:Oe,done:$e}=Ee.next())}catch(pe){return void Ne.error(pe)}$e?Ne.complete():Ne.next(Oe)},0,!0)}),()=>(0,Me.m)(null==Ee?void 0:Ee.return)&&Ee.return()})}(Qe,mt);if((0,Ot.L)(Qe))return function Dt(Qe,mt){return Pe((0,Ot.Q)(Qe),mt)}(Qe,mt)}throw(0,nt.z)(Qe)}(Qe,mt):(0,m.Xf)(Qe)}},8421:(Rt,Ge,B)=>{B.d(Ge,{Xf:()=>It});var m=B(655),E=B(1144),K=B(8239),fe=B(8306),ge=B(3670),ve=B(2206),Te=B(4532),Se=B(6495),Me=B(3260),ce=B(576),he=B(7849),Pe=B(8822);function It(it){if(it instanceof fe.y)return it;if(null!=it){if((0,ge.c)(it))return function rt(it){return new fe.y(Le=>{const Qe=it[Pe.L]();if((0,ce.m)(Qe.subscribe))return Qe.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(it);if((0,E.z)(it))return function ot(it){return new fe.y(Le=>{for(let Qe=0;Qe<it.length&&!Le.closed;Qe++)Le.next(it[Qe]);Le.complete()})}(it);if((0,K.t)(it))return function dt(it){return new fe.y(Le=>{it.then(Qe=>{Le.closed||(Le.next(Qe),Le.complete())},Qe=>Le.error(Qe)).then(null,he.h)})}(it);if((0,ve.D)(it))return nt(it);if((0,Se.T)(it))return function We(it){return new fe.y(Le=>{for(const Qe of it)if(Le.next(Qe),Le.closed)return;Le.complete()})}(it);if((0,Me.L)(it))return function Ot(it){return nt((0,Me.Q)(it))}(it)}throw(0,Te.z)(it)}function nt(it){return new fe.y(Le=>{(function Dt(it,Le){var Qe,mt,Ne,Ee;return(0,m.mG)(this,void 0,void 0,function*(){try{for(Qe=(0,m.KL)(it);!(mt=yield Qe.next()).done;)if(Le.next(mt.value),Le.closed)return}catch(Oe){Ne={error:Oe}}finally{try{mt&&!mt.done&&(Ee=Qe.return)&&(yield Ee.call(Qe))}finally{if(Ne)throw Ne.error}}Le.complete()})})(it,Le).catch(Qe=>Le.error(Qe))})}},6451:(Rt,Ge,B)=>{B.d(Ge,{T:()=>ve});var m=B(8189),E=B(8421),K=B(515),fe=B(7669),ge=B(8996);function ve(...Te){const Se=(0,fe.yG)(Te),Me=(0,fe._6)(Te,1/0),ce=Te;return ce.length?1===ce.length?(0,E.Xf)(ce[0]):(0,m.J)(Me)((0,ge.D)(ce,Se)):K.E}},9646:(Rt,Ge,B)=>{B.d(Ge,{of:()=>K});var m=B(7669),E=B(8996);function K(...fe){const ge=(0,m.yG)(fe);return(0,E.D)(fe,ge)}},5403:(Rt,Ge,B)=>{B.d(Ge,{x:()=>E});var m=B(930);function E(fe,ge,ve,Te,Se){return new K(fe,ge,ve,Te,Se)}class K extends m.Lv{constructor(ge,ve,Te,Se,Me,ce){super(ge),this.onFinalize=Me,this.shouldUnsubscribe=ce,this._next=ve?function(he){try{ve(he)}catch(Pe){ge.error(Pe)}}:super._next,this._error=Se?function(he){try{Se(he)}catch(Pe){ge.error(Pe)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(he){ge.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ge;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(ge=this.onFinalize)||void 0===ge||ge.call(this))}}}},262:(Rt,Ge,B)=>{B.d(Ge,{K:()=>fe});var m=B(8421),E=B(5403),K=B(4482);function fe(ge){return(0,K.e)((ve,Te)=>{let ce,Se=null,Me=!1;Se=ve.subscribe((0,E.x)(Te,void 0,void 0,he=>{ce=(0,m.Xf)(ge(he,fe(ge)(ve))),Se?(Se.unsubscribe(),Se=null,ce.subscribe(Te)):Me=!0})),Me&&(Se.unsubscribe(),Se=null,ce.subscribe(Te))})}},4351:(Rt,Ge,B)=>{B.d(Ge,{b:()=>K});var m=B(5577),E=B(576);function K(fe,ge){return(0,E.m)(ge)?(0,m.z)(fe,ge,1):(0,m.z)(fe,1)}},6590:(Rt,Ge,B)=>{B.d(Ge,{d:()=>K});var m=B(4482),E=B(5403);function K(fe){return(0,m.e)((ge,ve)=>{let Te=!1;ge.subscribe((0,E.x)(ve,Se=>{Te=!0,ve.next(Se)},()=>{Te||ve.next(fe),ve.complete()}))})}},9300:(Rt,Ge,B)=>{B.d(Ge,{h:()=>K});var m=B(4482),E=B(5403);function K(fe,ge){return(0,m.e)((ve,Te)=>{let Se=0;ve.subscribe((0,E.x)(Te,Me=>fe.call(ge,Me,Se++)&&Te.next(Me)))})}},590:(Rt,Ge,B)=>{B.d(Ge,{P:()=>Te});var m=B(6805),E=B(9300),K=B(5698),fe=B(6590),ge=B(8068),ve=B(4671);function Te(Se,Me){const ce=arguments.length>=2;return he=>he.pipe(Se?(0,E.h)((Pe,It)=>Se(Pe,It,he)):ve.y,(0,K.q)(1),ce?(0,fe.d)(Me):(0,ge.T)(()=>new m.K))}},4004:(Rt,Ge,B)=>{B.d(Ge,{U:()=>K});var m=B(4482),E=B(5403);function K(fe,ge){return(0,m.e)((ve,Te)=>{let Se=0;ve.subscribe((0,E.x)(Te,Me=>{Te.next(fe.call(ge,Me,Se++))}))})}},8189:(Rt,Ge,B)=>{B.d(Ge,{J:()=>K});var m=B(5577),E=B(4671);function K(fe=1/0){return(0,m.z)(E.y,fe)}},5577:(Rt,Ge,B)=>{B.d(Ge,{z:()=>Se});var m=B(4004),E=B(8421),K=B(4482),fe=B(9672),ge=B(5403),Te=B(576);function Se(Me,ce,he=1/0){return(0,Te.m)(ce)?Se((Pe,It)=>(0,m.U)((rt,ot)=>ce(Pe,rt,It,ot))((0,E.Xf)(Me(Pe,It))),he):("number"==typeof ce&&(he=ce),(0,K.e)((Pe,It)=>function ve(Me,ce,he,Pe,It,rt,ot,dt){const We=[];let nt=0,Ot=0,Dt=!1;const it=()=>{Dt&&!We.length&&!nt&&ce.complete()},Le=mt=>nt<Pe?Qe(mt):We.push(mt),Qe=mt=>{rt&&ce.next(mt),nt++;let Ne=!1;(0,E.Xf)(he(mt,Ot++)).subscribe((0,ge.x)(ce,Ee=>{null==It||It(Ee),rt?Le(Ee):ce.next(Ee)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(nt--;We.length&&nt<Pe;){const Ee=We.shift();ot?(0,fe.f)(ce,ot,()=>Qe(Ee)):Qe(Ee)}it()}catch(Ee){ce.error(Ee)}}))};return Me.subscribe((0,ge.x)(ce,Le,()=>{Dt=!0,it()})),()=>{null==dt||dt()}}(Pe,It,Me,he)))}},5363:(Rt,Ge,B)=>{B.d(Ge,{Q:()=>fe});var m=B(9672),E=B(4482),K=B(5403);function fe(ge,ve=0){return(0,E.e)((Te,Se)=>{Te.subscribe((0,K.x)(Se,Me=>(0,m.f)(Se,ge,()=>Se.next(Me),ve),()=>(0,m.f)(Se,ge,()=>Se.complete(),ve),Me=>(0,m.f)(Se,ge,()=>Se.error(Me),ve)))})}},2940:(Rt,Ge,B)=>{B.d(Ge,{R:()=>K});var m=B(4482),E=B(7359);function K(fe,ge){return(0,m.e)((0,E.U)(fe,ge,arguments.length>=2,!0))}},7359:(Rt,Ge,B)=>{B.d(Ge,{U:()=>E});var m=B(5403);function E(K,fe,ge,ve,Te){return(Se,Me)=>{let ce=ge,he=fe,Pe=0;Se.subscribe((0,m.x)(Me,It=>{const rt=Pe++;he=ce?K(he,It,rt):(ce=!0,It),ve&&Me.next(he)},Te&&(()=>{ce&&Me.next(he),Me.complete()})))}}},3099:(Rt,Ge,B)=>{B.d(Ge,{B:()=>ve});var m=B(8996),E=B(5698),K=B(7579),fe=B(930),ge=B(4482);function ve(Se={}){const{connector:Me=(()=>new K.x),resetOnError:ce=!0,resetOnComplete:he=!0,resetOnRefCountZero:Pe=!0}=Se;return It=>{let rt=null,ot=null,dt=null,We=0,nt=!1,Ot=!1;const Dt=()=>{null==ot||ot.unsubscribe(),ot=null},it=()=>{Dt(),rt=dt=null,nt=Ot=!1},Le=()=>{const Qe=rt;it(),null==Qe||Qe.unsubscribe()};return(0,ge.e)((Qe,mt)=>{We++,!Ot&&!nt&&Dt();const Ne=dt=null!=dt?dt:Me();mt.add(()=>{We--,0===We&&!Ot&&!nt&&(ot=Te(Le,Pe))}),Ne.subscribe(mt),rt||(rt=new fe.Hp({next:Ee=>Ne.next(Ee),error:Ee=>{Ot=!0,Dt(),ot=Te(it,ce,Ee),Ne.error(Ee)},complete:()=>{nt=!0,Dt(),ot=Te(it,he),Ne.complete()}}),(0,m.D)(Qe).subscribe(rt))})(It)}}function Te(Se,Me,...ce){return!0===Me?(Se(),null):!1===Me?null:Me(...ce).pipe((0,E.q)(1)).subscribe(()=>Se())}},4782:(Rt,Ge,B)=>{B.d(Ge,{d:()=>K});var m=B(4707),E=B(3099);function K(fe,ge,ve){let Te,Se=!1;return fe&&"object"==typeof fe?({bufferSize:Te=1/0,windowTime:ge=1/0,refCount:Se=!1,scheduler:ve}=fe):Te=null!=fe?fe:1/0,(0,E.B)({connector:()=>new m.t(Te,ge,ve),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Se})}},8675:(Rt,Ge,B)=>{B.d(Ge,{O:()=>fe});var m=B(7272),E=B(7669),K=B(4482);function fe(...ge){const ve=(0,E.yG)(ge);return(0,K.e)((Te,Se)=>{(ve?(0,m.z)(ge,Te,ve):(0,m.z)(ge,Te)).subscribe(Se)})}},9468:(Rt,Ge,B)=>{B.d(Ge,{R:()=>E});var m=B(4482);function E(K,fe=0){return(0,m.e)((ge,ve)=>{ve.add(K.schedule(()=>ge.subscribe(ve),fe))})}},3900:(Rt,Ge,B)=>{B.d(Ge,{w:()=>fe});var m=B(8421),E=B(4482),K=B(5403);function fe(ge,ve){return(0,E.e)((Te,Se)=>{let Me=null,ce=0,he=!1;const Pe=()=>he&&!Me&&Se.complete();Te.subscribe((0,K.x)(Se,It=>{null==Me||Me.unsubscribe();let rt=0;const ot=ce++;(0,m.Xf)(ge(It,ot)).subscribe(Me=(0,K.x)(Se,dt=>Se.next(ve?ve(It,dt,ot,rt++):dt),()=>{Me=null,Pe()}))},()=>{he=!0,Pe()}))})}},5698:(Rt,Ge,B)=>{B.d(Ge,{q:()=>fe});var m=B(515),E=B(4482),K=B(5403);function fe(ge){return ge<=0?()=>m.E:(0,E.e)((ve,Te)=>{let Se=0;ve.subscribe((0,K.x)(Te,Me=>{++Se<=ge&&(Te.next(Me),ge<=Se&&Te.complete())}))})}},8505:(Rt,Ge,B)=>{B.d(Ge,{b:()=>ge});var m=B(576),E=B(4482),K=B(5403),fe=B(4671);function ge(ve,Te,Se){const Me=(0,m.m)(ve)||Te||Se?{next:ve,error:Te,complete:Se}:ve;return Me?(0,E.e)((ce,he)=>{var Pe;null===(Pe=Me.subscribe)||void 0===Pe||Pe.call(Me);let It=!0;ce.subscribe((0,K.x)(he,rt=>{var ot;null===(ot=Me.next)||void 0===ot||ot.call(Me,rt),he.next(rt)},()=>{var rt;It=!1,null===(rt=Me.complete)||void 0===rt||rt.call(Me),he.complete()},rt=>{var ot;It=!1,null===(ot=Me.error)||void 0===ot||ot.call(Me,rt),he.error(rt)},()=>{var rt,ot;It&&(null===(rt=Me.unsubscribe)||void 0===rt||rt.call(Me)),null===(ot=Me.finalize)||void 0===ot||ot.call(Me)}))}):fe.y}},8068:(Rt,Ge,B)=>{B.d(Ge,{T:()=>fe});var m=B(6805),E=B(4482),K=B(5403);function fe(ve=ge){return(0,E.e)((Te,Se)=>{let Me=!1;Te.subscribe((0,K.x)(Se,ce=>{Me=!0,Se.next(ce)},()=>Me?Se.complete():Se.error(ve())))})}function ge(){return new m.K}},4408:(Rt,Ge,B)=>{B.d(Ge,{o:()=>ge});var m=B(727);class E extends m.w0{constructor(Te,Se){super()}schedule(Te,Se=0){return this}}const K={setInterval(ve,Te,...Se){const{delegate:Me}=K;return(null==Me?void 0:Me.setInterval)?Me.setInterval(ve,Te,...Se):setInterval(ve,Te,...Se)},clearInterval(ve){const{delegate:Te}=K;return((null==Te?void 0:Te.clearInterval)||clearInterval)(ve)},delegate:void 0};var fe=B(8737);class ge extends E{constructor(Te,Se){super(Te,Se),this.scheduler=Te,this.work=Se,this.pending=!1}schedule(Te,Se=0){if(this.closed)return this;this.state=Te;const Me=this.id,ce=this.scheduler;return null!=Me&&(this.id=this.recycleAsyncId(ce,Me,Se)),this.pending=!0,this.delay=Se,this.id=this.id||this.requestAsyncId(ce,this.id,Se),this}requestAsyncId(Te,Se,Me=0){return K.setInterval(Te.flush.bind(Te,this),Me)}recycleAsyncId(Te,Se,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return Se;K.clearInterval(Se)}execute(Te,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(Te,Se);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,Se){let ce,Me=!1;try{this.work(Te)}catch(he){Me=!0,ce=he||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),ce}unsubscribe(){if(!this.closed){const{id:Te,scheduler:Se}=this,{actions:Me}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(Me,this),null!=Te&&(this.id=this.recycleAsyncId(Se,Te,null)),this.delay=null,super.unsubscribe()}}}},7565:(Rt,Ge,B)=>{B.d(Ge,{v:()=>K});var m=B(6063);class E{constructor(ge,ve=E.now){this.schedulerActionCtor=ge,this.now=ve}schedule(ge,ve=0,Te){return new this.schedulerActionCtor(this,ge).schedule(Te,ve)}}E.now=m.l.now;class K extends E{constructor(ge,ve=E.now){super(ge,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ge){const{actions:ve}=this;if(this._active)return void ve.push(ge);let Te;this._active=!0;do{if(Te=ge.execute(ge.state,ge.delay))break}while(ge=ve.shift());if(this._active=!1,Te){for(;ge=ve.shift();)ge.unsubscribe();throw Te}}}},4986:(Rt,Ge,B)=>{B.d(Ge,{z:()=>K});var m=B(4408);const K=new(B(7565).v)(m.o)},6063:(Rt,Ge,B)=>{B.d(Ge,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(Rt,Ge,B)=>{B.d(Ge,{z:()=>m});const m={setTimeout(E,K,...fe){const{delegate:ge}=m;return(null==ge?void 0:ge.setTimeout)?ge.setTimeout(E,K,...fe):setTimeout(E,K,...fe)},clearTimeout(E){const{delegate:K}=m;return((null==K?void 0:K.clearTimeout)||clearTimeout)(E)},delegate:void 0}},2202:(Rt,Ge,B)=>{B.d(Ge,{h:()=>E});const E=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Rt,Ge,B)=>{B.d(Ge,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Rt,Ge,B)=>{B.d(Ge,{K:()=>E});const E=(0,B(3888).d)(K=>function(){K(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Rt,Ge,B)=>{B.d(Ge,{_6:()=>ve,jO:()=>fe,yG:()=>ge});var m=B(576);function K(Te){return Te[Te.length-1]}function fe(Te){return(0,m.m)(K(Te))?Te.pop():void 0}function ge(Te){return function E(Te){return Te&&(0,m.m)(Te.schedule)}(K(Te))?Te.pop():void 0}function ve(Te,Se){return"number"==typeof K(Te)?Te.pop():Se}},4742:(Rt,Ge,B)=>{B.d(Ge,{D:()=>ge});const{isArray:m}=Array,{getPrototypeOf:E,prototype:K,keys:fe}=Object;function ge(Te){if(1===Te.length){const Se=Te[0];if(m(Se))return{args:Se,keys:null};if(function ve(Te){return Te&&"object"==typeof Te&&E(Te)===K}(Se)){const Me=fe(Se);return{args:Me.map(ce=>Se[ce]),keys:Me}}}return{args:Te,keys:null}}},8737:(Rt,Ge,B)=>{function m(E,K){if(E){const fe=E.indexOf(K);0<=fe&&E.splice(fe,1)}}B.d(Ge,{P:()=>m})},3888:(Rt,Ge,B)=>{function m(E){const fe=E(ge=>{Error.call(ge),ge.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}B.d(Ge,{d:()=>m})},1810:(Rt,Ge,B)=>{function m(E,K){return E.reduce((fe,ge,ve)=>(fe[ge]=K[ve],fe),{})}B.d(Ge,{n:()=>m})},2806:(Rt,Ge,B)=>{B.d(Ge,{O:()=>fe,x:()=>K});var m=B(2416);let E=null;function K(ge){if(m.v.useDeprecatedSynchronousErrorHandling){const ve=!E;if(ve&&(E={errorThrown:!1,error:null}),ge(),ve){const{errorThrown:Te,error:Se}=E;if(E=null,Te)throw Se}}else ge()}function fe(ge){m.v.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=ge)}},9672:(Rt,Ge,B)=>{function m(E,K,fe,ge=0,ve=!1){const Te=K.schedule(function(){fe(),ve?E.add(this.schedule(null,ge)):this.unsubscribe()},ge);if(E.add(Te),!ve)return Te}B.d(Ge,{f:()=>m})},4671:(Rt,Ge,B)=>{function m(E){return E}B.d(Ge,{y:()=>m})},1144:(Rt,Ge,B)=>{B.d(Ge,{z:()=>m});const m=E=>E&&"number"==typeof E.length&&"function"!=typeof E},2206:(Rt,Ge,B)=>{B.d(Ge,{D:()=>E});var m=B(576);function E(K){return Symbol.asyncIterator&&(0,m.m)(null==K?void 0:K[Symbol.asyncIterator])}},576:(Rt,Ge,B)=>{function m(E){return"function"==typeof E}B.d(Ge,{m:()=>m})},3670:(Rt,Ge,B)=>{B.d(Ge,{c:()=>K});var m=B(8822),E=B(576);function K(fe){return(0,E.m)(fe[m.L])}},6495:(Rt,Ge,B)=>{B.d(Ge,{T:()=>K});var m=B(2202),E=B(576);function K(fe){return(0,E.m)(null==fe?void 0:fe[m.h])}},8239:(Rt,Ge,B)=>{B.d(Ge,{t:()=>E});var m=B(576);function E(K){return(0,m.m)(null==K?void 0:K.then)}},3260:(Rt,Ge,B)=>{B.d(Ge,{L:()=>fe,Q:()=>K});var m=B(655),E=B(576);function K(ge){return(0,m.FC)(this,arguments,function*(){const Te=ge.getReader();try{for(;;){const{value:Se,done:Me}=yield(0,m.qq)(Te.read());if(Me)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(Se)}}finally{Te.releaseLock()}})}function fe(ge){return(0,E.m)(null==ge?void 0:ge.getReader)}},4482:(Rt,Ge,B)=>{B.d(Ge,{A:()=>E,e:()=>K});var m=B(576);function E(fe){return(0,m.m)(null==fe?void 0:fe.lift)}function K(fe){return ge=>{if(E(ge))return ge.lift(function(ve){try{return fe(ve,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Rt,Ge,B)=>{B.d(Ge,{Z:()=>fe});var m=B(4004);const{isArray:E}=Array;function fe(ge){return(0,m.U)(ve=>function K(ge,ve){return E(ve)?ge(...ve):ge(ve)}(ge,ve))}},5032:(Rt,Ge,B)=>{function m(){}B.d(Ge,{Z:()=>m})},7849:(Rt,Ge,B)=>{B.d(Ge,{h:()=>K});var m=B(2416),E=B(3410);function K(fe){E.z.setTimeout(()=>{const{onUnhandledError:ge}=m.v;if(!ge)throw fe;ge(fe)})}},4532:(Rt,Ge,B)=>{function m(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Ge,{z:()=>m})},655:(Rt,Ge,B)=>{function fe(Oe,$e){var pe={};for(var qe in Oe)Object.prototype.hasOwnProperty.call(Oe,qe)&&$e.indexOf(qe)<0&&(pe[qe]=Oe[qe]);if(null!=Oe&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(qe=Object.getOwnPropertySymbols(Oe);Fe<qe.length;Fe++)$e.indexOf(qe[Fe])<0&&Object.prototype.propertyIsEnumerable.call(Oe,qe[Fe])&&(pe[qe[Fe]]=Oe[qe[Fe]])}return pe}function ge(Oe,$e,pe,qe){var Ht,Fe=arguments.length,Ue=Fe<3?$e:null===qe?qe=Object.getOwnPropertyDescriptor($e,pe):qe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ue=Reflect.decorate(Oe,$e,pe,qe);else for(var Ut=Oe.length-1;Ut>=0;Ut--)(Ht=Oe[Ut])&&(Ue=(Fe<3?Ht(Ue):Fe>3?Ht($e,pe,Ue):Ht($e,pe))||Ue);return Fe>3&&Ue&&Object.defineProperty($e,pe,Ue),Ue}function ve(Oe,$e){return function(pe,qe){$e(pe,qe,Oe)}}function Se(Oe,$e,pe,qe){return new(pe||(pe=Promise))(function(Ue,Ht){function Ut(Lt){try{Pt(qe.next(Lt))}catch(Ln){Ht(Ln)}}function Gn(Lt){try{Pt(qe.throw(Lt))}catch(Ln){Ht(Ln)}}function Pt(Lt){Lt.done?Ue(Lt.value):function Fe(Ue){return Ue instanceof pe?Ue:new pe(function(Ht){Ht(Ue)})}(Lt.value).then(Ut,Gn)}Pt((qe=qe.apply(Oe,$e||[])).next())})}function We(Oe){return this instanceof We?(this.v=Oe,this):new We(Oe)}function nt(Oe,$e,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,qe=pe.apply(Oe,$e||[]),Ue=[];return Fe={},Ht("next"),Ht("throw"),Ht("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Ht(yn){qe[yn]&&(Fe[yn]=function(kn){return new Promise(function(Zt,Bt){Ue.push([yn,kn,Zt,Bt])>1||Ut(yn,kn)})})}function Ut(yn,kn){try{!function Gn(yn){yn.value instanceof We?Promise.resolve(yn.value.v).then(Pt,Lt):Ln(Ue[0][2],yn)}(qe[yn](kn))}catch(Zt){Ln(Ue[0][3],Zt)}}function Pt(yn){Ut("next",yn)}function Lt(yn){Ut("throw",yn)}function Ln(yn,kn){yn(kn),Ue.shift(),Ue.length&&Ut(Ue[0][0],Ue[0][1])}}function Dt(Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,$e=Oe[Symbol.asyncIterator];return $e?$e.call(Oe):(Oe=function Pe(Oe){var $e="function"==typeof Symbol&&Symbol.iterator,pe=$e&&Oe[$e],qe=0;if(pe)return pe.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&qe>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[qe++],done:!Oe}}};throw new TypeError($e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Oe),pe={},qe("next"),qe("throw"),qe("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function qe(Ue){pe[Ue]=Oe[Ue]&&function(Ht){return new Promise(function(Ut,Gn){!function Fe(Ue,Ht,Ut,Gn){Promise.resolve(Gn).then(function(Pt){Ue({value:Pt,done:Ut})},Ht)}(Ut,Gn,(Ht=Oe[Ue](Ht)).done,Ht.value)})}}}B.d(Ge,{FC:()=>nt,KL:()=>Dt,_T:()=>fe,fM:()=>ve,gn:()=>ge,mG:()=>Se,qq:()=>We})},9808:(Rt,Ge,B)=>{B.d(Ge,{Do:()=>it,EM:()=>eo,HT:()=>ge,JF:()=>ur,K0:()=>Te,Mx:()=>xi,O5:()=>Nr,Ov:()=>He,PM:()=>rs,S$:()=>We,V_:()=>ce,Ye:()=>Le,b0:()=>Dt,bD:()=>jr,ez:()=>Ko,lw:()=>Se,mk:()=>Ar,mr:()=>Ot,q:()=>K,sg:()=>Dr,w_:()=>ve});var m=B(5e3);let E=null;function K(){return E}function ge(F){E||(E=F)}class ve{}const Te=new m.OlP("DocumentToken");let Se=(()=>{class F{historyGo(k){throw new Error("Not implemented")}}return F.\u0275fac=function(k){return new(k||F)},F.\u0275prov=m.Yz7({token:F,factory:function(){return function Me(){return(0,m.LFG)(he)}()},providedIn:"platform"}),F})();const ce=new m.OlP("Location Initialized");let he=(()=>{class F extends Se{constructor(k){super(),this._doc=k,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(k){const X=K().getGlobalEventTarget(this._doc,"window");return X.addEventListener("popstate",k,!1),()=>X.removeEventListener("popstate",k)}onHashChange(k){const X=K().getGlobalEventTarget(this._doc,"window");return X.addEventListener("hashchange",k,!1),()=>X.removeEventListener("hashchange",k)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(k){this.location.pathname=k}pushState(k,X,_e){Pe()?this._history.pushState(k,X,_e):this.location.hash=_e}replaceState(k,X,_e){Pe()?this._history.replaceState(k,X,_e):this.location.hash=_e}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return F.\u0275fac=function(k){return new(k||F)(m.LFG(Te))},F.\u0275prov=m.Yz7({token:F,factory:function(){return function It(){return new he((0,m.LFG)(Te))}()},providedIn:"platform"}),F})();function Pe(){return!!window.history.pushState}function rt(F,z){if(0==F.length)return z;if(0==z.length)return F;let k=0;return F.endsWith("/")&&k++,z.startsWith("/")&&k++,2==k?F+z.substring(1):1==k?F+z:F+"/"+z}function ot(F){const z=F.match(/#|\?|$/),k=z&&z.index||F.length;return F.slice(0,k-("/"===F[k-1]?1:0))+F.slice(k)}function dt(F){return F&&"?"!==F[0]?"?"+F:F}let We=(()=>{class F{historyGo(k){throw new Error("Not implemented")}}return F.\u0275fac=function(k){return new(k||F)},F.\u0275prov=m.Yz7({token:F,factory:function(){return function nt(F){const z=(0,m.LFG)(Te).location;return new Dt((0,m.LFG)(Se),z&&z.origin||"")}()},providedIn:"root"}),F})();const Ot=new m.OlP("appBaseHref");let Dt=(()=>{class F extends We{constructor(k,X){if(super(),this._platformLocation=k,this._removeListenerFns=[],null==X&&(X=this._platformLocation.getBaseHrefFromDOM()),null==X)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=X}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return rt(this._baseHref,k)}path(k=!1){const X=this._platformLocation.pathname+dt(this._platformLocation.search),_e=this._platformLocation.hash;return _e&&k?`${X}${_e}`:X}pushState(k,X,_e,Ke){const ut=this.prepareExternalUrl(_e+dt(Ke));this._platformLocation.pushState(k,X,ut)}replaceState(k,X,_e,Ke){const ut=this.prepareExternalUrl(_e+dt(Ke));this._platformLocation.replaceState(k,X,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var X,_e;null===(_e=(X=this._platformLocation).historyGo)||void 0===_e||_e.call(X,k)}}return F.\u0275fac=function(k){return new(k||F)(m.LFG(Se),m.LFG(Ot,8))},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac}),F})(),it=(()=>{class F extends We{constructor(k,X){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=X&&(this._baseHref=X)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let X=this._platformLocation.hash;return null==X&&(X="#"),X.length>0?X.substring(1):X}prepareExternalUrl(k){const X=rt(this._baseHref,k);return X.length>0?"#"+X:X}pushState(k,X,_e,Ke){let ut=this.prepareExternalUrl(_e+dt(Ke));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.pushState(k,X,ut)}replaceState(k,X,_e,Ke){let ut=this.prepareExternalUrl(_e+dt(Ke));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.replaceState(k,X,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var X,_e;null===(_e=(X=this._platformLocation).historyGo)||void 0===_e||_e.call(X,k)}}return F.\u0275fac=function(k){return new(k||F)(m.LFG(Se),m.LFG(Ot,8))},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac}),F})(),Le=(()=>{class F{constructor(k,X){this._subject=new m.vpe,this._urlChangeListeners=[],this._platformStrategy=k;const _e=this._platformStrategy.getBaseHref();this._platformLocation=X,this._baseHref=ot(Ne(_e)),this._platformStrategy.onPopState(Ke=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ke.state,type:Ke.type})})}path(k=!1){return this.normalize(this._platformStrategy.path(k))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(k,X=""){return this.path()==this.normalize(k+dt(X))}normalize(k){return F.stripTrailingSlash(function mt(F,z){return F&&z.startsWith(F)?z.substring(F.length):z}(this._baseHref,Ne(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._platformStrategy.prepareExternalUrl(k)}go(k,X="",_e=null){this._platformStrategy.pushState(_e,"",k,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+dt(X)),_e)}replaceState(k,X="",_e=null){this._platformStrategy.replaceState(_e,"",k,X),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+dt(X)),_e)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(k=0){var X,_e;null===(_e=(X=this._platformStrategy).historyGo)||void 0===_e||_e.call(X,k)}onUrlChange(k){this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(X=>{this._notifyUrlChangeListeners(X.url,X.state)}))}_notifyUrlChangeListeners(k="",X){this._urlChangeListeners.forEach(_e=>_e(k,X))}subscribe(k,X,_e){return this._subject.subscribe({next:k,error:X,complete:_e})}}return F.normalizeQueryParams=dt,F.joinWithSlash=rt,F.stripTrailingSlash=ot,F.\u0275fac=function(k){return new(k||F)(m.LFG(We),m.LFG(Se))},F.\u0275prov=m.Yz7({token:F,factory:function(){return function Qe(){return new Le((0,m.LFG)(We),(0,m.LFG)(Se))}()},providedIn:"root"}),F})();function Ne(F){return F.replace(/\/index.html$/,"")}function xi(F,z){z=encodeURIComponent(z);for(const k of F.split(";")){const X=k.indexOf("="),[_e,Ke]=-1==X?[k,""]:[k.slice(0,X),k.slice(X+1)];if(_e.trim()===z)return decodeURIComponent(Ke)}return null}let Ar=(()=>{class F{constructor(k,X,_e,Ke){this._iterableDiffers=k,this._keyValueDiffers=X,this._ngEl=_e,this._renderer=Ke,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(k){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof k?k.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(k){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof k?k.split(/\s+/):k,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const k=this._iterableDiffer.diff(this._rawClass);k&&this._applyIterableChanges(k)}else if(this._keyValueDiffer){const k=this._keyValueDiffer.diff(this._rawClass);k&&this._applyKeyValueChanges(k)}}_applyKeyValueChanges(k){k.forEachAddedItem(X=>this._toggleClass(X.key,X.currentValue)),k.forEachChangedItem(X=>this._toggleClass(X.key,X.currentValue)),k.forEachRemovedItem(X=>{X.previousValue&&this._toggleClass(X.key,!1)})}_applyIterableChanges(k){k.forEachAddedItem(X=>{if("string"!=typeof X.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(X.item)}`);this._toggleClass(X.item,!0)}),k.forEachRemovedItem(X=>this._toggleClass(X.item,!1))}_applyClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(X=>this._toggleClass(X,!0)):Object.keys(k).forEach(X=>this._toggleClass(X,!!k[X])))}_removeClasses(k){k&&(Array.isArray(k)||k instanceof Set?k.forEach(X=>this._toggleClass(X,!1)):Object.keys(k).forEach(X=>this._toggleClass(X,!1)))}_toggleClass(k,X){(k=k.trim())&&k.split(/\s+/g).forEach(_e=>{X?this._renderer.addClass(this._ngEl.nativeElement,_e):this._renderer.removeClass(this._ngEl.nativeElement,_e)})}}return F.\u0275fac=function(k){return new(k||F)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},F.\u0275dir=m.lG2({type:F,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),F})();class ni{constructor(z,k,X,_e){this.$implicit=z,this.ngForOf=k,this.index=X,this.count=_e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dr=(()=>{class F{constructor(k,X,_e){this._viewContainer=k,this._template=X,this._differs=_e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;!this._differ&&k&&(this._differ=this._differs.find(k).create(this.ngForTrackBy))}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const X=this._viewContainer;k.forEachOperation((_e,Ke,ut)=>{if(null==_e.previousIndex)X.createEmbeddedView(this._template,new ni(_e.item,this._ngForOf,-1,-1),null===ut?void 0:ut);else if(null==ut)X.remove(null===Ke?void 0:Ke);else if(null!==Ke){const gt=X.get(Ke);X.move(gt,ut),Br(gt,_e)}});for(let _e=0,Ke=X.length;_e<Ke;_e++){const gt=X.get(_e).context;gt.index=_e,gt.count=Ke,gt.ngForOf=this._ngForOf}k.forEachIdentityChange(_e=>{Br(X.get(_e.currentIndex),_e)})}static ngTemplateContextGuard(k,X){return!0}}return F.\u0275fac=function(k){return new(k||F)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},F.\u0275dir=m.lG2({type:F,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),F})();function Br(F,z){F.context.$implicit=z.item}let Nr=(()=>{class F{constructor(k,X){this._viewContainer=k,this._context=new Rn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=X}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){ds("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){ds("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,X){return!0}}return F.\u0275fac=function(k){return new(k||F)(m.Y36(m.s_b),m.Y36(m.Rgc))},F.\u0275dir=m.lG2({type:F,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),F})();class Rn{constructor(){this.$implicit=null,this.ngIf=null}}function ds(F,z){if(z&&!z.createEmbeddedView)throw new Error(`${F} must be a TemplateRef, but received '${(0,m.AaK)(z)}'.`)}class As{createSubscription(z,k){return z.subscribe({next:k,error:X=>{throw X}})}dispose(z){z.unsubscribe()}onDestroy(z){z.unsubscribe()}}class qi{createSubscription(z,k){return z.then(k,X=>{throw X})}dispose(z){}onDestroy(z){}}const xe=new qi,Ce=new As;let He=(()=>{class F{constructor(k){this._ref=k,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(k){return this._obj?k!==this._obj?(this._dispose(),this.transform(k)):this._latestValue:(k&&this._subscribe(k),this._latestValue)}_subscribe(k){this._obj=k,this._strategy=this._selectStrategy(k),this._subscription=this._strategy.createSubscription(k,X=>this._updateLatestValue(k,X))}_selectStrategy(k){if((0,m.QGY)(k))return xe;if((0,m.F4k)(k))return Ce;throw function zr(F,z){return new m.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(k,X){k===this._obj&&(this._latestValue=X,this._ref.markForCheck())}}return F.\u0275fac=function(k){return new(k||F)(m.Y36(m.sBO,16))},F.\u0275pipe=m.Yjl({name:"async",type:F,pure:!1}),F})(),Ko=(()=>{class F{}return F.\u0275fac=function(k){return new(k||F)},F.\u0275mod=m.oAB({type:F}),F.\u0275inj=m.cJS({}),F})();const jr="browser";function rs(F){return"server"===F}let eo=(()=>{class F{}return F.\u0275prov=(0,m.Yz7)({token:F,providedIn:"root",factory:()=>new bs((0,m.LFG)(Te),window)}),F})();class bs{constructor(z,k){this.document=z,this.window=k,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const k=function Fr(F,z){const k=F.getElementById(z)||F.getElementsByName(z)[0];if(k)return k;if("function"==typeof F.createTreeWalker&&F.body&&(F.body.createShadowRoot||F.body.attachShadow)){const X=F.createTreeWalker(F.body,NodeFilter.SHOW_ELEMENT);let _e=X.currentNode;for(;_e;){const Ke=_e.shadowRoot;if(Ke){const ut=Ke.getElementById(z)||Ke.querySelector(`[name="${z}"]`);if(ut)return ut}_e=X.nextNode()}}return null}(this.document,z);k&&(this.scrollToElement(k),k.focus())}setHistoryScrollRestoration(z){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=z)}}scrollToElement(z){const k=z.getBoundingClientRect(),X=k.left+this.window.pageXOffset,_e=k.top+this.window.pageYOffset,Ke=this.offset();this.window.scrollTo(X-Ke[0],_e-Ke[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const z=kr(this.window.history)||kr(Object.getPrototypeOf(this.window.history));return!(!z||!z.writable&&!z.set)}catch(z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(z){return!1}}}function kr(F){return Object.getOwnPropertyDescriptor(F,"scrollRestoration")}class ur{}},520:(Rt,Ge,B)=>{B.d(Ge,{JF:()=>nn,eN:()=>Ue});var m=B(9808),E=B(5e3),K=B(9646),fe=B(8306),ge=B(4351),ve=B(9300),Te=B(4004);class Se{}class Me{}class ce{constructor(we){this.normalizedNames=new Map,this.lazyUpdate=null,we?this.lazyInit="string"==typeof we?()=>{this.headers=new Map,we.split("\n").forEach(De=>{const ct=De.indexOf(":");if(ct>0){const ke=De.slice(0,ct),ft=ke.toLowerCase(),ht=De.slice(ct+1).trim();this.maybeSetNormalizedName(ke,ft),this.headers.has(ft)?this.headers.get(ft).push(ht):this.headers.set(ft,[ht])}})}:()=>{this.headers=new Map,Object.keys(we).forEach(De=>{let ct=we[De];const ke=De.toLowerCase();"string"==typeof ct&&(ct=[ct]),ct.length>0&&(this.headers.set(ke,ct),this.maybeSetNormalizedName(De,ke))})}:this.headers=new Map}has(we){return this.init(),this.headers.has(we.toLowerCase())}get(we){this.init();const De=this.headers.get(we.toLowerCase());return De&&De.length>0?De[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(we){return this.init(),this.headers.get(we.toLowerCase())||null}append(we,De){return this.clone({name:we,value:De,op:"a"})}set(we,De){return this.clone({name:we,value:De,op:"s"})}delete(we,De){return this.clone({name:we,value:De,op:"d"})}maybeSetNormalizedName(we,De){this.normalizedNames.has(De)||this.normalizedNames.set(De,we)}init(){this.lazyInit&&(this.lazyInit instanceof ce?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(we=>this.applyUpdate(we)),this.lazyUpdate=null))}copyFrom(we){we.init(),Array.from(we.headers.keys()).forEach(De=>{this.headers.set(De,we.headers.get(De)),this.normalizedNames.set(De,we.normalizedNames.get(De))})}clone(we){const De=new ce;return De.lazyInit=this.lazyInit&&this.lazyInit instanceof ce?this.lazyInit:this,De.lazyUpdate=(this.lazyUpdate||[]).concat([we]),De}applyUpdate(we){const De=we.name.toLowerCase();switch(we.op){case"a":case"s":let ct=we.value;if("string"==typeof ct&&(ct=[ct]),0===ct.length)return;this.maybeSetNormalizedName(we.name,De);const ke=("a"===we.op?this.headers.get(De):void 0)||[];ke.push(...ct),this.headers.set(De,ke);break;case"d":const ft=we.value;if(ft){let ht=this.headers.get(De);if(!ht)return;ht=ht.filter(Vn=>-1===ft.indexOf(Vn)),0===ht.length?(this.headers.delete(De),this.normalizedNames.delete(De)):this.headers.set(De,ht)}else this.headers.delete(De),this.normalizedNames.delete(De)}}forEach(we){this.init(),Array.from(this.normalizedNames.keys()).forEach(De=>we(this.normalizedNames.get(De),this.headers.get(De)))}}class he{encodeKey(we){return ot(we)}encodeValue(we){return ot(we)}decodeKey(we){return decodeURIComponent(we)}decodeValue(we){return decodeURIComponent(we)}}const It=/%(\d[a-f0-9])/gi,rt={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ot(tt){return encodeURIComponent(tt).replace(It,(we,De)=>{var ct;return null!==(ct=rt[De])&&void 0!==ct?ct:we})}function dt(tt){return`${tt}`}class We{constructor(we={}){if(this.updates=null,this.cloneFrom=null,this.encoder=we.encoder||new he,we.fromString){if(we.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Pe(tt,we){const De=new Map;return tt.length>0&&tt.replace(/^\?/,"").split("&").forEach(ke=>{const ft=ke.indexOf("="),[ht,Vn]=-1==ft?[we.decodeKey(ke),""]:[we.decodeKey(ke.slice(0,ft)),we.decodeValue(ke.slice(ft+1))],ln=De.get(ht)||[];ln.push(Vn),De.set(ht,ln)}),De}(we.fromString,this.encoder)}else we.fromObject?(this.map=new Map,Object.keys(we.fromObject).forEach(De=>{const ct=we.fromObject[De];this.map.set(De,Array.isArray(ct)?ct:[ct])})):this.map=null}has(we){return this.init(),this.map.has(we)}get(we){this.init();const De=this.map.get(we);return De?De[0]:null}getAll(we){return this.init(),this.map.get(we)||null}keys(){return this.init(),Array.from(this.map.keys())}append(we,De){return this.clone({param:we,value:De,op:"a"})}appendAll(we){const De=[];return Object.keys(we).forEach(ct=>{const ke=we[ct];Array.isArray(ke)?ke.forEach(ft=>{De.push({param:ct,value:ft,op:"a"})}):De.push({param:ct,value:ke,op:"a"})}),this.clone(De)}set(we,De){return this.clone({param:we,value:De,op:"s"})}delete(we,De){return this.clone({param:we,value:De,op:"d"})}toString(){return this.init(),this.keys().map(we=>{const De=this.encoder.encodeKey(we);return this.map.get(we).map(ct=>De+"="+this.encoder.encodeValue(ct)).join("&")}).filter(we=>""!==we).join("&")}clone(we){const De=new We({encoder:this.encoder});return De.cloneFrom=this.cloneFrom||this,De.updates=(this.updates||[]).concat(we),De}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(we=>this.map.set(we,this.cloneFrom.map.get(we))),this.updates.forEach(we=>{switch(we.op){case"a":case"s":const De=("a"===we.op?this.map.get(we.param):void 0)||[];De.push(dt(we.value)),this.map.set(we.param,De);break;case"d":if(void 0===we.value){this.map.delete(we.param);break}{let ct=this.map.get(we.param)||[];const ke=ct.indexOf(dt(we.value));-1!==ke&&ct.splice(ke,1),ct.length>0?this.map.set(we.param,ct):this.map.delete(we.param)}}}),this.cloneFrom=this.updates=null)}}class Ot{constructor(){this.map=new Map}set(we,De){return this.map.set(we,De),this}get(we){return this.map.has(we)||this.map.set(we,we.defaultValue()),this.map.get(we)}delete(we){return this.map.delete(we),this}has(we){return this.map.has(we)}keys(){return this.map.keys()}}function it(tt){return"undefined"!=typeof ArrayBuffer&&tt instanceof ArrayBuffer}function Le(tt){return"undefined"!=typeof Blob&&tt instanceof Blob}function Qe(tt){return"undefined"!=typeof FormData&&tt instanceof FormData}class Ne{constructor(we,De,ct,ke){let ft;if(this.url=De,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=we.toUpperCase(),function Dt(tt){switch(tt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ke?(this.body=void 0!==ct?ct:null,ft=ke):ft=ct,ft&&(this.reportProgress=!!ft.reportProgress,this.withCredentials=!!ft.withCredentials,ft.responseType&&(this.responseType=ft.responseType),ft.headers&&(this.headers=ft.headers),ft.context&&(this.context=ft.context),ft.params&&(this.params=ft.params)),this.headers||(this.headers=new ce),this.context||(this.context=new Ot),this.params){const ht=this.params.toString();if(0===ht.length)this.urlWithParams=De;else{const Vn=De.indexOf("?");this.urlWithParams=De+(-1===Vn?"?":Vn<De.length-1?"&":"")+ht}}else this.params=new We,this.urlWithParams=De}serializeBody(){return null===this.body?null:it(this.body)||Le(this.body)||Qe(this.body)||function mt(tt){return"undefined"!=typeof URLSearchParams&&tt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof We?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qe(this.body)?null:Le(this.body)?this.body.type||null:it(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof We?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(we={}){var De;const ct=we.method||this.method,ke=we.url||this.url,ft=we.responseType||this.responseType,ht=void 0!==we.body?we.body:this.body,Vn=void 0!==we.withCredentials?we.withCredentials:this.withCredentials,ln=void 0!==we.reportProgress?we.reportProgress:this.reportProgress;let Xt=we.headers||this.headers,Ur=we.params||this.params;const ir=null!==(De=we.context)&&void 0!==De?De:this.context;return void 0!==we.setHeaders&&(Xt=Object.keys(we.setHeaders).reduce((cn,Ct)=>cn.set(Ct,we.setHeaders[Ct]),Xt)),we.setParams&&(Ur=Object.keys(we.setParams).reduce((cn,Ct)=>cn.set(Ct,we.setParams[Ct]),Ur)),new Ne(ct,ke,ht,{params:Ur,headers:Xt,context:ir,reportProgress:ln,responseType:ft,withCredentials:Vn})}}var Ee=(()=>((Ee=Ee||{})[Ee.Sent=0]="Sent",Ee[Ee.UploadProgress=1]="UploadProgress",Ee[Ee.ResponseHeader=2]="ResponseHeader",Ee[Ee.DownloadProgress=3]="DownloadProgress",Ee[Ee.Response=4]="Response",Ee[Ee.User=5]="User",Ee))();class Oe{constructor(we,De=200,ct="OK"){this.headers=we.headers||new ce,this.status=void 0!==we.status?we.status:De,this.statusText=we.statusText||ct,this.url=we.url||null,this.ok=this.status>=200&&this.status<300}}class $e extends Oe{constructor(we={}){super(we),this.type=Ee.ResponseHeader}clone(we={}){return new $e({headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class pe extends Oe{constructor(we={}){super(we),this.type=Ee.Response,this.body=void 0!==we.body?we.body:null}clone(we={}){return new pe({body:void 0!==we.body?we.body:this.body,headers:we.headers||this.headers,status:void 0!==we.status?we.status:this.status,statusText:we.statusText||this.statusText,url:we.url||this.url||void 0})}}class qe extends Oe{constructor(we){super(we,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${we.url||"(unknown url)"}`:`Http failure response for ${we.url||"(unknown url)"}: ${we.status} ${we.statusText}`,this.error=we.error||null}}function Fe(tt,we){return{body:we,headers:tt.headers,context:tt.context,observe:tt.observe,params:tt.params,reportProgress:tt.reportProgress,responseType:tt.responseType,withCredentials:tt.withCredentials}}let Ue=(()=>{class tt{constructor(De){this.handler=De}request(De,ct,ke={}){let ft;if(De instanceof Ne)ft=De;else{let ln,Xt;ln=ke.headers instanceof ce?ke.headers:new ce(ke.headers),ke.params&&(Xt=ke.params instanceof We?ke.params:new We({fromObject:ke.params})),ft=new Ne(De,ct,void 0!==ke.body?ke.body:null,{headers:ln,context:ke.context,params:Xt,reportProgress:ke.reportProgress,responseType:ke.responseType||"json",withCredentials:ke.withCredentials})}const ht=(0,K.of)(ft).pipe((0,ge.b)(ln=>this.handler.handle(ln)));if(De instanceof Ne||"events"===ke.observe)return ht;const Vn=ht.pipe((0,ve.h)(ln=>ln instanceof pe));switch(ke.observe||"body"){case"body":switch(ft.responseType){case"arraybuffer":return Vn.pipe((0,Te.U)(ln=>{if(null!==ln.body&&!(ln.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ln.body}));case"blob":return Vn.pipe((0,Te.U)(ln=>{if(null!==ln.body&&!(ln.body instanceof Blob))throw new Error("Response is not a Blob.");return ln.body}));case"text":return Vn.pipe((0,Te.U)(ln=>{if(null!==ln.body&&"string"!=typeof ln.body)throw new Error("Response is not a string.");return ln.body}));default:return Vn.pipe((0,Te.U)(ln=>ln.body))}case"response":return Vn;default:throw new Error(`Unreachable: unhandled observe type ${ke.observe}}`)}}delete(De,ct={}){return this.request("DELETE",De,ct)}get(De,ct={}){return this.request("GET",De,ct)}head(De,ct={}){return this.request("HEAD",De,ct)}jsonp(De,ct){return this.request("JSONP",De,{params:(new We).append(ct,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(De,ct={}){return this.request("OPTIONS",De,ct)}patch(De,ct,ke={}){return this.request("PATCH",De,Fe(ke,ct))}post(De,ct,ke={}){return this.request("POST",De,Fe(ke,ct))}put(De,ct,ke={}){return this.request("PUT",De,Fe(ke,ct))}}return tt.\u0275fac=function(De){return new(De||tt)(E.LFG(Se))},tt.\u0275prov=E.Yz7({token:tt,factory:tt.\u0275fac}),tt})();class Ht{constructor(we,De){this.next=we,this.interceptor=De}handle(we){return this.interceptor.intercept(we,this.next)}}const Ut=new E.OlP("HTTP_INTERCEPTORS");let Gn=(()=>{class tt{intercept(De,ct){return ct.handle(De)}}return tt.\u0275fac=function(De){return new(De||tt)},tt.\u0275prov=E.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const Xn=/^\)\]\}',?\n/;let Fn=(()=>{class tt{constructor(De){this.xhrFactory=De}handle(De){if("JSONP"===De.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new fe.y(ct=>{const ke=this.xhrFactory.build();if(ke.open(De.method,De.urlWithParams),De.withCredentials&&(ke.withCredentials=!0),De.headers.forEach((Ct,wn)=>ke.setRequestHeader(Ct,wn.join(","))),De.headers.has("Accept")||ke.setRequestHeader("Accept","application/json, text/plain, */*"),!De.headers.has("Content-Type")){const Ct=De.detectContentTypeHeader();null!==Ct&&ke.setRequestHeader("Content-Type",Ct)}if(De.responseType){const Ct=De.responseType.toLowerCase();ke.responseType="json"!==Ct?Ct:"text"}const ft=De.serializeBody();let ht=null;const Vn=()=>{if(null!==ht)return ht;const Ct=ke.statusText||"OK",wn=new ce(ke.getAllResponseHeaders()),fn=function zn(tt){return"responseURL"in tt&&tt.responseURL?tt.responseURL:/^X-Request-URL:/m.test(tt.getAllResponseHeaders())?tt.getResponseHeader("X-Request-URL"):null}(ke)||De.url;return ht=new $e({headers:wn,status:ke.status,statusText:Ct,url:fn}),ht},ln=()=>{let{headers:Ct,status:wn,statusText:fn,url:xt}=Vn(),Ze=null;204!==wn&&(Ze=void 0===ke.response?ke.responseText:ke.response),0===wn&&(wn=Ze?200:0);let Tt=wn>=200&&wn<300;if("json"===De.responseType&&"string"==typeof Ze){const Gt=Ze;Ze=Ze.replace(Xn,"");try{Ze=""!==Ze?JSON.parse(Ze):null}catch(dn){Ze=Gt,Tt&&(Tt=!1,Ze={error:dn,text:Ze})}}Tt?(ct.next(new pe({body:Ze,headers:Ct,status:wn,statusText:fn,url:xt||void 0})),ct.complete()):ct.error(new qe({error:Ze,headers:Ct,status:wn,statusText:fn,url:xt||void 0}))},Xt=Ct=>{const{url:wn}=Vn(),fn=new qe({error:Ct,status:ke.status||0,statusText:ke.statusText||"Unknown Error",url:wn||void 0});ct.error(fn)};let Ur=!1;const ir=Ct=>{Ur||(ct.next(Vn()),Ur=!0);let wn={type:Ee.DownloadProgress,loaded:Ct.loaded};Ct.lengthComputable&&(wn.total=Ct.total),"text"===De.responseType&&!!ke.responseText&&(wn.partialText=ke.responseText),ct.next(wn)},cn=Ct=>{let wn={type:Ee.UploadProgress,loaded:Ct.loaded};Ct.lengthComputable&&(wn.total=Ct.total),ct.next(wn)};return ke.addEventListener("load",ln),ke.addEventListener("error",Xt),ke.addEventListener("timeout",Xt),ke.addEventListener("abort",Xt),De.reportProgress&&(ke.addEventListener("progress",ir),null!==ft&&ke.upload&&ke.upload.addEventListener("progress",cn)),ke.send(ft),ct.next({type:Ee.Sent}),()=>{ke.removeEventListener("error",Xt),ke.removeEventListener("abort",Xt),ke.removeEventListener("load",ln),ke.removeEventListener("timeout",Xt),De.reportProgress&&(ke.removeEventListener("progress",ir),null!==ft&&ke.upload&&ke.upload.removeEventListener("progress",cn)),ke.readyState!==ke.DONE&&ke.abort()}})}}return tt.\u0275fac=function(De){return new(De||tt)(E.LFG(m.JF))},tt.\u0275prov=E.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const Wn=new E.OlP("XSRF_COOKIE_NAME"),or=new E.OlP("XSRF_HEADER_NAME");class Er{}let ar=(()=>{class tt{constructor(De,ct,ke){this.doc=De,this.platform=ct,this.cookieName=ke,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const De=this.doc.cookie||"";return De!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,m.Mx)(De,this.cookieName),this.lastCookieString=De),this.lastToken}}return tt.\u0275fac=function(De){return new(De||tt)(E.LFG(m.K0),E.LFG(E.Lbi),E.LFG(Wn))},tt.\u0275prov=E.Yz7({token:tt,factory:tt.\u0275fac}),tt})(),_n=(()=>{class tt{constructor(De,ct){this.tokenService=De,this.headerName=ct}intercept(De,ct){const ke=De.url.toLowerCase();if("GET"===De.method||"HEAD"===De.method||ke.startsWith("http://")||ke.startsWith("https://"))return ct.handle(De);const ft=this.tokenService.getToken();return null!==ft&&!De.headers.has(this.headerName)&&(De=De.clone({headers:De.headers.set(this.headerName,ft)})),ct.handle(De)}}return tt.\u0275fac=function(De){return new(De||tt)(E.LFG(Er),E.LFG(or))},tt.\u0275prov=E.Yz7({token:tt,factory:tt.\u0275fac}),tt})(),wr=(()=>{class tt{constructor(De,ct){this.backend=De,this.injector=ct,this.chain=null}handle(De){if(null===this.chain){const ct=this.injector.get(Ut,[]);this.chain=ct.reduceRight((ke,ft)=>new Ht(ke,ft),this.backend)}return this.chain.handle(De)}}return tt.\u0275fac=function(De){return new(De||tt)(E.LFG(Me),E.LFG(E.zs3))},tt.\u0275prov=E.Yz7({token:tt,factory:tt.\u0275fac}),tt})(),In=(()=>{class tt{static disable(){return{ngModule:tt,providers:[{provide:_n,useClass:Gn}]}}static withOptions(De={}){return{ngModule:tt,providers:[De.cookieName?{provide:Wn,useValue:De.cookieName}:[],De.headerName?{provide:or,useValue:De.headerName}:[]]}}}return tt.\u0275fac=function(De){return new(De||tt)},tt.\u0275mod=E.oAB({type:tt}),tt.\u0275inj=E.cJS({providers:[_n,{provide:Ut,useExisting:_n,multi:!0},{provide:Er,useClass:ar},{provide:Wn,useValue:"XSRF-TOKEN"},{provide:or,useValue:"X-XSRF-TOKEN"}]}),tt})(),nn=(()=>{class tt{}return tt.\u0275fac=function(De){return new(De||tt)},tt.\u0275mod=E.oAB({type:tt}),tt.\u0275inj=E.cJS({providers:[Ue,{provide:Se,useClass:wr},Fn,{provide:Me,useExisting:Fn}],imports:[[In.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),tt})()},5e3:(Rt,Ge,B)=>{B.d(Ge,{$8M:()=>ta,$Z:()=>Dh,AFp:()=>hE,ALo:()=>k0,AaK:()=>Se,Akn:()=>Ha,CHM:()=>Vt,CRH:()=>z0,CZH:()=>gv,CqO:()=>w_,DdM:()=>S0,EJc:()=>Eb,EpF:()=>gm,F$t:()=>vm,F4k:()=>mm,FYo:()=>v0,FiY:()=>En,G48:()=>jb,Gf:()=>$0,GfV:()=>E0,Gpc:()=>he,Hsn:()=>Em,IIB:()=>yb,JOm:()=>Wo,LFG:()=>P,LSH:()=>qs,Lbi:()=>gE,MAs:()=>Yf,NdJ:()=>up,O4$:()=>Jo,OlP:()=>Zn,Oqu:()=>yp,PXZ:()=>Nb,Q6J:()=>np,QGY:()=>ap,Qsj:()=>gw,R0b:()=>Ku,RDi:()=>kr,Rgc:()=>xp,SBq:()=>Tp,Sil:()=>bb,Suo:()=>G0,TTD:()=>Js,TgZ:()=>ip,VKq:()=>M0,VLi:()=>Ob,X6Q:()=>Bb,XFs:()=>At,Xpm:()=>vn,Y36:()=>Ed,YKP:()=>D0,YNc:()=>em,Yjl:()=>Xe,Yz7:()=>Zt,ZZ4:()=>Sv,_Bn:()=>m0,_UZ:()=>ms,_Vd:()=>iy,_c5:()=>rI,_uU:()=>xd,aQ5:()=>jo,aQg:()=>Mv,c2e:()=>yE,cJS:()=>Yt,cg1:()=>Io,dDg:()=>EE,deG:()=>xn,dqk:()=>Xt,eFA:()=>IE,ekj:()=>fp,g9A:()=>pE,h0i:()=>jh,hGG:()=>iI,hij:()=>Od,i9L:()=>Nu,iGM:()=>H0,ifc:()=>ke,ip1:()=>dE,kL8:()=>bp,kYT:()=>se,kcU:()=>gu,lG2:()=>ze,lcZ:()=>F0,n5z:()=>Ps,oAB:()=>te,oxw:()=>wl,q4F:()=>w0,qLn:()=>rl,qOj:()=>cd,qZA:()=>sp,r_U:()=>_b,s9C:()=>Ah,sBO:()=>Hb,sIi:()=>hd,s_b:()=>ay,soG:()=>yv,tBr:()=>Tn,tb:()=>mE,tp0:()=>An,uIk:()=>pd,vHH:()=>ot,vpe:()=>Dl,wAp:()=>tn,xp6:()=>al,z2F:()=>bv,zSh:()=>od,zs3:()=>_a});var m=B(7579),E=B(727),K=B(8306),fe=B(6451),ge=B(3099);function ve(n){for(let r in n)if(n[r]===ve)return r;throw Error("Could not find renamed property on target object.")}function Te(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Se(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Se).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Me(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ce=ve({__forward_ref__:ve});function he(n){return n.__forward_ref__=he,n.toString=function(){return Se(this())},n}function Pe(n){return It(n)?n():n}function It(n){return"function"==typeof n&&n.hasOwnProperty(ce)&&n.__forward_ref__===he}class ot extends Error{constructor(r,s){super(function dt(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function We(n){return"string"==typeof n?n:null==n?"":String(n)}function nt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():We(n)}function Le(n,r){const s=r?` in ${r}`:"";throw new ot(-201,`No provider for ${nt(n)} found${s}`)}function Pt(n,r){null==n&&function Lt(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Zt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Yt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xn(n){return zn(n,Er)||zn(n,_n)}function zn(n,r){return n.hasOwnProperty(r)?n[r]:null}function or(n){return n&&(n.hasOwnProperty(ar)||n.hasOwnProperty(wr))?n[ar]:null}const Er=ve({\u0275prov:ve}),ar=ve({\u0275inj:ve}),_n=ve({ngInjectableDef:ve}),wr=ve({ngInjectorDef:ve});var At=(()=>((At=At||{})[At.Default=0]="Default",At[At.Host=1]="Host",At[At.Self=2]="Self",At[At.SkipSelf=4]="SkipSelf",At[At.Optional=8]="Optional",At))();let br;function nn(n){const r=br;return br=n,r}function lr(n,r,s){const a=Xn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&At.Optional?null:void 0!==r?r:void Le(Se(n),"Injector")}function tt(n){return{toString:n}.toString()}var we=(()=>((we=we||{})[we.OnPush=0]="OnPush",we[we.Default=1]="Default",we))(),ke=(()=>{return(n=ke||(ke={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ke;var n})();const ft="undefined"!=typeof globalThis&&globalThis,ht="undefined"!=typeof window&&window,Vn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Xt=ft||"undefined"!=typeof global&&global||ht||Vn,cn={},Ct=[],wn=ve({\u0275cmp:ve}),fn=ve({\u0275dir:ve}),xt=ve({\u0275pipe:ve}),Ze=ve({\u0275mod:ve}),Tt=ve({\u0275fac:ve}),Gt=ve({__NG_ELEMENT_ID__:ve});let dn=0;function vn(n){return tt(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===we.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ct,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ke.Emulated,id:"c",styles:n.styles||Ct,_:null,setInput:null,schemas:n.schemas||null,tView:null},l=n.directives,f=n.features,_=n.pipes;return a.id+=dn++,a.inputs=ue(n.inputs,s),a.outputs=ue(n.outputs),f&&f.forEach(C=>C(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(le):null,a.pipeDefs=_?()=>("function"==typeof _?_():_).map(Ae):null,a})}function le(n){return St(n)||function on(n){return n[fn]||null}(n)}function Ae(n){return function Nt(n){return n[xt]||null}(n)}const Je={};function te(n){return tt(()=>{const r={type:n.type,bootstrap:n.bootstrap||Ct,declarations:n.declarations||Ct,imports:n.imports||Ct,exports:n.exports||Ct,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Je[n.id]=n.type),r})}function se(n,r){return tt(()=>{const s=pn(n,!0);s.declarations=r.declarations||Ct,s.imports=r.imports||Ct,s.exports=r.exports||Ct})}function ue(n,r){if(null==n)return cn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),s[l]=a,r&&(r[l]=f)}return s}const ze=vn;function Xe(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function St(n){return n[wn]||null}function pn(n,r){const s=n[Ze]||null;if(!s&&!0===r)throw new Error(`Type ${Se(n)} does not have '\u0275mod' property.`);return s}function dr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ri(n){return Array.isArray(n)&&!0===n[1]}function ts(n){return 0!=(8&n.flags)}function Sn(n){return 2==(2&n.flags)}function Pi(n){return 1==(1&n.flags)}function Bi(n){return null!==n.template}function js(n){return 0!=(512&n[2])}function Wr(n,r){return n.hasOwnProperty(Tt)?n[Tt]:null}class Fo{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Js(){return Hs}function Hs(n){return n.type.prototype.ngOnChanges&&(n.setInput=wi),Xs}function Xs(){const n=jr(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===cn)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function wi(n,r,s,a){const l=jr(n)||function ns(n,r){return n[Ko]=r}(n,{previous:cn,current:null}),f=l.current||(l.current={}),_=l.previous,C=this.declaredInputs[s],x=_[C];f[C]=new Fo(x&&x.currentValue,r,_===cn),n[a]=r}Js.ngInherit=!0;const Ko="__ngSimpleChanges__";function jr(n){return n[Ko]||null}let bs;function kr(n){bs=n}function ur(n){return!!n.listen}const F={createRenderer:(n,r)=>function Fr(){return void 0!==bs?bs:"undefined"!=typeof document?document:void 0}()};function k(n){for(;Array.isArray(n);)n=n[0];return n}function Ke(n,r){return k(r[n])}function ut(n,r){return k(r[n.index])}function tr(n,r){return n.data[r]}function Kn(n,r){return n[r]}function On(n,r){const s=r[n];return dr(s)?s:s[0]}function Pn(n){return 4==(4&n[2])}function mr(n){return 128==(128&n[2])}function vr(n,r){return null==r?null:n[r]}function Ni(n){n[18]=0}function ai(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const en={lFrame:ba(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function V(){return en.bindingsEnabled}function j(){return en.lFrame.lView}function Ve(){return en.lFrame.tView}function Vt(n){return en.lFrame.contextLView=n,n[8]}function hn(){let n=Lr();for(;null!==n&&64===n.type;)n=n.parent;return n}function Lr(){return en.lFrame.currentTNode}function ui(n,r){const s=en.lFrame;s.currentTNode=n,s.isParent=r}function bi(){return en.lFrame.isParent}function li(){en.lFrame.isParent=!1}function Ao(){return en.isInCheckNoChangesMode}function Vo(n){en.isInCheckNoChangesMode=n}function ci(){const n=en.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function $s(){return en.lFrame.bindingIndex++}function os(n){const r=en.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function ki(n,r){const s=en.lFrame;s.bindingIndex=s.bindingRootIndex=n,Vr(r)}function Vr(n){en.lFrame.currentDirectiveIndex=n}function Wa(){return en.lFrame.currentQueryIndex}function pu(n){en.lFrame.currentQueryIndex=n}function oa(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function aa(n,r,s){if(s&At.SkipSelf){let l=r,f=n;for(;!(l=l.parent,null!==l||s&At.Host||(l=oa(f),null===l||(f=f[15],10&l.type))););if(null===l)return!1;r=l,n=f}const a=en.lFrame=Ms();return a.currentTNode=r,a.lView=n,!0}function Yo(n){const r=Ms(),s=n[1];en.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Ms(){const n=en.lFrame,r=null===n?null:n.child;return null===r?ba(n):r}function ba(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function ua(){const n=en.lFrame;return en.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Ia=ua;function $i(){const n=ua();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ii(){return en.lFrame.selectedIndex}function ro(n){en.lFrame.selectedIndex=n}function qr(){const n=en.lFrame;return tr(n.tView,n.selectedIndex)}function Jo(){en.lFrame.currentNamespace="svg"}function gu(){!function la(){en.lFrame.currentNamespace=null}()}function io(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const f=n.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:x,ngAfterViewChecked:H,ngOnDestroy:q}=f;_&&(n.contentHooks||(n.contentHooks=[])).push(-s,_),C&&((n.contentHooks||(n.contentHooks=[])).push(s,C),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,C)),x&&(n.viewHooks||(n.viewHooks=[])).push(-s,x),H&&((n.viewHooks||(n.viewHooks=[])).push(s,H),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,H)),null!=q&&(n.destroyHooks||(n.destroyHooks=[])).push(s,q)}}function ho(n,r,s){di(n,r,3,s)}function xs(n,r,s,a){(3&n[2])===s&&di(n,r,s,a)}function Xr(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function di(n,r,s,a){const f=null!=a?a:-1,_=r.length-1;let C=0;for(let x=void 0!==a?65535&n[18]:0;x<_;x++)if("number"==typeof r[x+1]){if(C=r[x],null!=a&&C>=a)break}else r[x]<0&&(n[18]+=65536),(C<f||-1==f)&&(So(n,s,r,x),n[18]=(4294901760&n[18])+x+2),x++}function So(n,r,s,a){const l=s[a]<0,f=s[a+1],C=n[l?-s[a]:s[a]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{f.call(C)}finally{}}}else try{f.call(C)}finally{}}class zs{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function hi(n,r,s){const a=ur(n);let l=0;for(;l<s.length;){const f=s[l];if("number"==typeof f){if(0!==f)break;l++;const _=s[l++],C=s[l++],x=s[l++];a?n.setAttribute(r,C,x,_):r.setAttributeNS(_,C,x)}else{const _=f,C=s[++l];oo(_)?a&&n.setProperty(r,_,C):a?n.setAttribute(r,_,C):r.setAttribute(_,C),l++}}return l}function Ka(n){return 3===n||4===n||6===n}function oo(n){return 64===n.charCodeAt(0)}function fs(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||Ta(n,s,l,null,-1===s||2===s?r[++a]:null)}}return n}function Ta(n,r,s,a,l){let f=0,_=n.length;if(-1===r)_=-1;else for(;f<n.length;){const C=n[f++];if("number"==typeof C){if(C===r){_=-1;break}if(C>r){_=f-1;break}}}for(;f<n.length;){const C=n[f];if("number"==typeof C)break;if(C===s){if(null===a)return void(null!==l&&(n[f+1]=l));if(a===n[f+1])return void(n[f+2]=l)}f++,null!==a&&f++,null!==l&&f++}-1!==_&&(n.splice(_,0,r),f=_+1),n.splice(f++,0,s),null!==a&&n.splice(f++,0,a),null!==l&&n.splice(f++,0,l)}function Di(n){return-1!==n}function ao(n){return 32767&n}function xo(n,r){let s=function Za(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let Oo=!0;function fo(n){const r=Oo;return Oo=n,r}let ei=0;function Qi(n,r){const s=Ja(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,Rs(a.data,n),Rs(r,null),Rs(a.blueprint,null));const l=yt(n,r),f=n.injectorIndex;if(Di(l)){const _=ao(l),C=xo(l,r),x=C[1].data;for(let H=0;H<8;H++)r[f+H]=C[_+H]|x[_+H]}return r[f+8]=l,f}function Rs(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Ja(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function yt(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){const f=l[1],_=f.type;if(a=2===_?f.declTNode:1===_?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function T(n,r,s){!function po(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Gt)&&(a=s[Gt]),null==a&&(a=s[Gt]=ei++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,s)}function w(n,r,s){if(s&At.Optional)return n;Le(r,"NodeInjector")}function M(n,r,s,a){if(s&At.Optional&&void 0===a&&(a=null),0==(s&(At.Self|At.Host))){const l=n[9],f=nn(void 0);try{return l?l.get(r,a,s&At.Optional):lr(r,a,s&At.Optional)}finally{nn(f)}}return w(a,r,s)}function L(n,r,s,a=At.Default,l){if(null!==n){const f=function $n(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Gt)?n[Gt]:void 0;return"number"==typeof r?r>=0?255&r:ee:r}(s);if("function"==typeof f){if(!aa(r,n,a))return a&At.Host?w(l,s,a):M(r,s,a,l);try{const _=f(a);if(null!=_||a&At.Optional)return _;Le(s)}finally{Ia()}}else if("number"==typeof f){let _=null,C=Ja(n,r),x=-1,H=a&At.Host?r[16][6]:null;for((-1===C||a&At.SkipSelf)&&(x=-1===C?yt(n,r):r[C+8],-1!==x&&sr(a,!1)?(_=r[1],C=ao(x),r=xo(x,r)):C=-1);-1!==C;){const q=r[1];if(Wt(f,C,q.data)){const oe=J(C,r,s,_,a,H);if(oe!==Q)return oe}x=r[C+8],-1!==x&&sr(a,r[1].data[C+8]===H)&&Wt(f,C,r)?(_=q,C=ao(x),r=xo(x,r)):C=-1}}}return M(r,s,a,l)}const Q={};function ee(){return new Jn(hn(),j())}function J(n,r,s,a,l,f){const _=r[1],C=_.data[n+8],q=me(C,_,s,null==a?Sn(C)&&Oo:a!=_&&0!=(3&C.type),l&At.Host&&f===C);return null!==q?bt(r,_,q,C):Q}function me(n,r,s,a,l){const f=n.providerIndexes,_=r.data,C=1048575&f,x=n.directiveStart,q=f>>20,Ie=l?C+q:n.directiveEnd;for(let je=a?C:C+q;je<Ie;je++){const lt=_[je];if(je<x&&s===lt||je>=x&&lt.type===s)return je}if(l){const je=_[x];if(je&&Bi(je)&&je.type===s)return x}return null}function bt(n,r,s,a){let l=n[s];const f=r.data;if(function so(n){return n instanceof zs}(l)){const _=l;_.resolving&&function Ot(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ot(-200,`Circular dependency in DI detected for ${n}${s}`)}(nt(f[s]));const C=fo(_.canSeeViewProviders);_.resolving=!0;const x=_.injectImpl?nn(_.injectImpl):null;aa(n,a,At.Default);try{l=n[s]=_.factory(void 0,f,n,a),r.firstCreatePass&&s>=a.directiveStart&&function Uo(n,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:f}=r.type.prototype;if(a){const _=Hs(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,l),f&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,f),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,f))}(s,f[s],r)}finally{null!==x&&nn(x),fo(C),_.resolving=!1,Ia()}}return l}function Wt(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function sr(n,r){return!(n&At.Self||n&At.Host&&r)}class Jn{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return L(this._tNode,this._lView,r,a,s)}}function Ps(n){return tt(()=>{const r=n.prototype.constructor,s=r[Tt]||ps(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const f=l[Tt]||ps(l);if(f&&f!==s)return f;l=Object.getPrototypeOf(l)}return f=>new f})}function ps(n){return It(n)?()=>{const r=ps(Pe(n));return r&&r()}:Wr(n)}function ta(n){return function D(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const f=s[l];if(Ka(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(f===r)return s[l+1];l+=2}}}return null}(hn(),n)}const as="__parameters__",fi="__prop__metadata__";function Xa(n){return function(...s){if(n){const a=n(...s);for(const l in a)this[l]=a[l]}}}function Mn(n,r,s){return tt(()=>{const a=Xa(r);function l(...f){if(this instanceof l)return a.apply(this,f),this;const _=new l(...f);return C.annotation=_,C;function C(x,H,q){const oe=x.hasOwnProperty(as)?x[as]:Object.defineProperty(x,as,{value:[]})[as];for(;oe.length<=q;)oe.push(null);return(oe[q]=oe[q]||[]).push(_),x}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}function pi(n,r,s,a){return tt(()=>{const l=Xa(r);function f(..._){if(this instanceof f)return l.apply(this,_),this;const C=new f(..._);return function x(H,q){const oe=H.constructor,Ie=oe.hasOwnProperty(fi)?oe[fi]:Object.defineProperty(oe,fi,{value:{}})[fi];Ie[q]=Ie.hasOwnProperty(q)&&Ie[q]||[],Ie[q].unshift(C),a&&a(H,q,..._)}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=n,f.annotationCls=f,f})}class Zn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Zt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xn=new Zn("AnalyzeForEntryComponents");class Bo{}const jo=pi("ContentChild",(n,r={})=>Object.assign({selector:n,first:!0,isViewQuery:!1,descendants:!0},r),Bo),Nu=pi("ViewChild",(n,r)=>Object.assign({selector:n,first:!0,isViewQuery:!0,descendants:!0},r),Bo);function Ci(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),Ci(a,r)):r!==n&&r.push(a)}return r}function Ds(n,r){n.forEach(s=>Array.isArray(s)?Ds(s,r):r(s))}function Ma(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Ro(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Ns(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}function Fs(n,r,s){let a=Ji(n,r);return a>=0?n[1|a]=s:(a=~a,function fa(n,r,s,a){let l=n.length;if(l==r)n.push(s,a);else if(1===l)n.push(a,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function Go(n,r){const s=Ji(n,r);if(s>=0)return n[1|s]}function Ji(n,r){return function gs(n,r,s){let a=0,l=n.length>>s;for(;l!==a;){const f=a+(l-a>>1),_=n[f<<s];if(r===_)return f<<s;_>r?l=f:a=f+1}return~(l<<s)}(n,r,1)}const mo={},_u="__NG_DI_FLAG__",vu="ngTempTokenPath",U=/\n/gm,ae="__source",v=ve({provide:String,useValue:ve});let c;function d(n){const r=c;return c=n,r}function b(n,r=At.Default){if(void 0===c)throw new ot(203,"");return null===c?lr(n,void 0,r):c.get(n,r&At.Optional?null:void 0,r)}function P(n,r=At.Default){return(function In(){return br}()||b)(Pe(n),r)}const ne=P;function re(n){const r=[];for(let s=0;s<n.length;s++){const a=Pe(n[s]);if(Array.isArray(a)){if(0===a.length)throw new ot(900,"");let l,f=At.Default;for(let _=0;_<a.length;_++){const C=a[_],x=Ye(C);"number"==typeof x?-1===x?l=C.token:f|=x:l=C}r.push(P(l,f))}else r.push(P(a))}return r}function Re(n,r){return n[_u]=r,n.prototype[_u]=r,n}function Ye(n){return n[_u]}const Tn=Re(Mn("Inject",n=>({token:n})),-1),En=Re(Mn("Optional"),8),An=Re(Mn("SkipSelf"),4);class pa{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function iu(n){return n instanceof pa?n.changingThisBreaksApplicationSecurity:n}const p=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,A=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Si=(()=>((Si=Si||{})[Si.NONE=0]="NONE",Si[Si.HTML=1]="HTML",Si[Si.STYLE=2]="STYLE",Si[Si.SCRIPT=3]="SCRIPT",Si[Si.URL=4]="URL",Si[Si.RESOURCE_URL=5]="RESOURCE_URL",Si))();function qs(n){const r=function Rc(){const n=j();return n&&n[12]}();return r?r.sanitize(Si.URL,n)||"":function Ju(n,r){const s=function Ld(n){return n instanceof pa&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?iu(n):function W(n){return(n=String(n)).match(p)||n.match(A)?n:"unsafe:"+n}(We(n))}const Pc="__ngContext__";function Vs(n,r){n[Pc]=r}function Zl(n){const r=function Hu(n){return n[Pc]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Us(n){return n.ngOriginalError}function Hp(n,...r){n.error(...r)}class rl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function Kh(n){return n&&n.ngErrorLogger||Hp}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Us(r);for(;s&&Us(s);)s=Us(s);return s||null}}const Qh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Xt))();function Iu(n){return n instanceof Function?n():n}var Wo=(()=>((Wo=Wo||{})[Wo.Important=1]="Important",Wo[Wo.DashCase=2]="DashCase",Wo))();function Xh(n,r){return undefined(n,r)}function Ks(n){const r=n[3];return Ri(r)?r[3]:r}function Fa(n){return Lc(n[13])}function Hd(n){return Lc(n[4])}function Lc(n){for(;null!==n&&!Ri(n);)n=n[4];return n}function Yl(n,r,s,a,l){if(null!=a){let f,_=!1;Ri(a)?f=a:dr(a)&&(_=!0,a=a[0]);const C=k(a);0===n&&null!==s?null==l?uf(r,s,C):il(r,s,C,l||null,!0):1===n&&null!==s?il(r,s,C,l||null,!0):2===n?function Gd(n,r,s){const a=ia(n,r);a&&function $d(n,r,s,a){ur(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,C,_):3===n&&r.destroyNode(C),null!=f&&function ig(n,r,s,a,l){const f=s[7];f!==k(s)&&Yl(r,n,a,f,l);for(let C=10;C<s.length;C++){const x=s[C];La(x[1],x,n,r,a,f)}}(r,n,f,s,l)}}function rf(n,r,s){if(ur(n))return n.createElement(r,s);{const a=null!==s?function eo(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function Qp(n,r){const s=n[9],a=s.indexOf(r),l=r[3];1024&r[2]&&(r[2]&=-1025,ai(l,-1)),s.splice(a,1)}function sf(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const l=a[17];null!==l&&l!==n&&Qp(l,a),r>0&&(n[s-1][4]=a[4]);const f=Ro(n,10+r);!function Ty(n,r){La(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const _=f[19];null!==_&&_.detachView(f[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Jp(n,r){if(!(256&r[2])){const s=r[11];ur(s)&&s.destroyNode&&La(n,r,s,3,null,null),function My(n){let r=n[13];if(!r)return of(n[1],n);for(;r;){let s=null;if(dr(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)dr(r)&&of(r[1],r),r=r[3];null===r&&(r=n),dr(r)&&of(r[1],r),s=r&&r[4]}r=s}}(r)}}function of(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Ry(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof zs)){const f=s[a+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const C=l[f[_]],x=f[_+1];try{x.call(C)}finally{}}else try{f.call(l)}finally{}}}}(n,r),function Xp(n,r){const s=n.cleanup,a=r[7];let l=-1;if(null!==s)for(let f=0;f<s.length-1;f+=2)if("string"==typeof s[f]){const _=s[f+1],C="function"==typeof _?_(r):k(r[_]),x=a[l=s[f+2]],H=s[f+3];"boolean"==typeof H?C.removeEventListener(s[f],x,H):H>=0?a[l=H]():a[l=-H].unsubscribe(),f+=2}else{const _=a[l=s[f+1]];s[f].call(_)}if(null!==a){for(let f=l+1;f<a.length;f++)a[f]();r[7]=null}}(n,r),1===r[1].type&&ur(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&Ri(r[3])){s!==r[3]&&Qp(s,r);const a=r[19];null!==a&&a.detachView(n)}}}function af(n,r,s){return function eg(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=n.data[a.directiveStart].encapsulation;if(l===ke.None||l===ke.Emulated)return null}return ut(a,s)}(n,r.parent,s)}function il(n,r,s,a,l){ur(n)?n.insertBefore(r,s,a,l):r.insertBefore(s,a,l)}function uf(n,r,s){ur(n)?n.appendChild(r,s):r.appendChild(s)}function st(n,r,s,a,l){null!==a?il(n,r,s,a,l):uf(n,r,s)}function ia(n,r){return ur(n)?n.parentNode(r):r.parentNode}function Ql(n,r,s){return tg(n,r,s)}let tg=function sl(n,r,s){return 40&n.type?ut(n,s):null};function Jl(n,r,s,a){const l=af(n,a,r),f=r[11],C=Ql(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let x=0;x<s.length;x++)st(f,l,s[x],C,!1);else st(f,l,s,C,!1)}function Vc(n,r){if(null!==r){const s=r.type;if(3&s)return ut(r,n);if(4&s)return Uc(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Vc(n,a);{const l=n[r.index];return Ri(l)?Uc(-1,l):k(l)}}if(32&s)return Xh(r,n)()||k(n[r.index]);{const a=Zs(n,r);return null!==a?Array.isArray(a)?a[0]:Vc(Ks(n[16]),a):Vc(n,r.next)}}return null}function Zs(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Uc(n,r){const s=10+n+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return Vc(a,l)}return r[7]}function Bc(n,r,s,a,l,f,_){for(;null!=s;){const C=a[s.index],x=s.type;if(_&&0===r&&(C&&Vs(k(C),a),s.flags|=4),64!=(64&s.flags))if(8&x)Bc(n,r,s.child,a,l,f,!1),Yl(r,n,l,C,f);else if(32&x){const H=Xh(s,a);let q;for(;q=H();)Yl(r,n,l,q,f);Yl(r,n,l,C,f)}else 16&x?rg(n,r,a,s,l,f):Yl(r,n,l,C,f);s=_?s.projectionNext:s.next}}function La(n,r,s,a,l,f){Bc(s,a,n.firstChild,r,l,f,!1)}function rg(n,r,s,a,l,f){const _=s[16],x=_[6].projection[a.projection];if(Array.isArray(x))for(let H=0;H<x.length;H++)Yl(r,n,l,x[H],f);else Bc(n,r,x,_[3],l,f,!0)}function ol(n,r,s){ur(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Gu(n,r,s){ur(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function Ol(n,r,s){let a=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const f=r.length;if(l+f===a||n.charCodeAt(l+f)<=32)return l}s=l+1}}const cf="ng-template";function df(n,r,s){let a=0;for(;a<n.length;){let l=n[a++];if(s&&"class"===l){if(l=n[a],-1!==Ol(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function qd(n){return 4===n.type&&n.value!==cf}function sg(n,r,s){return r===(4!==n.type||s?n.value:cf)}function Ny(n,r,s){let a=4;const l=n.attrs||[],f=function Rl(n){for(let r=0;r<n.length;r++)if(Ka(n[r]))return r;return n.length}(l);let _=!1;for(let C=0;C<r.length;C++){const x=r[C];if("number"!=typeof x){if(!_)if(4&a){if(a=2|1&a,""!==x&&!sg(n,x,s)||""===x&&1===r.length){if(Va(a))return!1;_=!0}}else{const H=8&a?x:r[++C];if(8&a&&null!==n.attrs){if(!df(n.attrs,H,s)){if(Va(a))return!1;_=!0}continue}const oe=og(8&a?"class":x,l,qd(n),s);if(-1===oe){if(Va(a))return!1;_=!0;continue}if(""!==H){let Ie;Ie=oe>f?"":l[oe+1].toLowerCase();const je=8&a?Ie:null;if(je&&-1!==Ol(je,H,0)||2&a&&H!==Ie){if(Va(a))return!1;_=!0}}}}else{if(!_&&!Va(a)&&!Va(x))return!1;if(_&&Va(x))continue;_=!1,a=x|1&a}}return Va(a)||_}function Va(n){return 0==(1&n)}function og(n,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let f=!1;for(;l<r.length;){const _=r[l];if(_===n)return l;if(3===_||6===_)f=!0;else{if(1===_||2===_){let C=r[++l];for(;"string"==typeof C;)C=r[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=f?1:2}return-1}return function ky(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function Kd(n,r,s=!1){for(let a=0;a<r.length;a++)if(Ny(n,r[a],s))return!0;return!1}function ag(n,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(n.length===a.length){for(let l=0;l<n.length;l++)if(n[l]!==a[l])continue e;return!0}}return!1}function ug(n,r){return n?":not("+r.trim()+")":r}function Fy(n){let r=n[0],s=1,a=2,l="",f=!1;for(;s<n.length;){let _=n[s];if("string"==typeof _)if(2&a){const C=n[++s];l+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?l+="."+_:4&a&&(l+=" "+_);else""!==l&&!Va(_)&&(r+=ug(f,l),l=""),a=_,f=f||!Va(a);s++}return""!==l&&(r+=ug(f,l)),r}const Bn={};function al(n){hf(Ve(),j(),Ii()+n,Ao())}function hf(n,r,s,a){if(!a)if(3==(3&r[2])){const f=n.preOrderCheckHooks;null!==f&&ho(r,f,s)}else{const f=n.preOrderHooks;null!==f&&xs(r,f,0,s)}ro(s)}function Zd(n,r){return n<<17|r<<2}function ga(n){return n>>17&32767}function Yd(n){return 2|n}function ma(n){return(131068&n)>>2}function Xl(n,r){return-131069&n|r<<2}function Qd(n){return 1|n}function mf(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],f=s[a+1];if(-1!==f){const _=n.data[f];pu(l),_.contentQueries(2,r[f],f)}}}function Qc(n,r,s,a,l,f,_,C,x,H){const q=r.blueprint.slice();return q[0]=l,q[2]=140|a,Ni(q),q[3]=q[15]=n,q[8]=s,q[10]=_||n&&n[10],q[11]=C||n&&n[11],q[12]=x||n&&n[12]||null,q[9]=H||n&&n[9]||null,q[6]=f,q[16]=2==r.type?n[16]:q,q}function au(n,r,s,a,l){let f=n.data[r];if(null===f)f=function hl(n,r,s,a,l){const f=Lr(),_=bi(),x=n.data[r]=function Zy(n,r,s,a,l,f){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,s,r,a,l);return null===n.firstChild&&(n.firstChild=x),null!==f&&(_?null==f.child&&null!==x.parent&&(f.child=x):null===f.next&&(f.next=x)),x}(n,r,s,a,l),function za(){return en.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=s,f.value=a,f.attrs=l;const _=function Jr(){const n=en.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return ui(f,!0),f}function fl(n,r,s,a){if(0===s)return-1;const l=r.length;for(let f=0;f<s;f++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function pl(n,r,s){Yo(r);try{const a=n.viewQuery;null!==a&&rd(1,a,s);const l=n.template;null!==l&&yf(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&mf(n,r),n.staticViewQueries&&rd(2,n.viewQuery,s);const f=n.components;null!==f&&function _g(n,r){for(let s=0;s<r.length;s++)ed(n,r[s])}(r,f)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,$i()}}function Nl(n,r,s,a){const l=r[2];if(256==(256&l))return;Yo(r);const f=Ao();try{Ni(r),function to(n){return en.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&yf(n,r,s,2,a);const _=3==(3&l);if(!f)if(_){const H=n.preOrderCheckHooks;null!==H&&ho(r,H,null)}else{const H=n.preOrderHooks;null!==H&&xs(r,H,0,null),Xr(r,0)}if(function uc(n){for(let r=Fa(n);null!==r;r=Hd(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],f=l[3];0==(1024&l[2])&&ai(f,1),l[2]|=1024}}}(r),function If(n){for(let r=Fa(n);null!==r;r=Hd(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];mr(a)&&Nl(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&mf(n,r),!f)if(_){const H=n.contentCheckHooks;null!==H&&ho(r,H)}else{const H=n.contentHooks;null!==H&&xs(r,H,1),Xr(r,1)}!function Wy(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)ro(~l);else{const f=l,_=s[++a],C=s[++a];ki(_,f),C(2,r[f])}}}finally{ro(-1)}}(n,r);const C=n.components;null!==C&&function qy(n,r){for(let s=0;s<r.length;s++)Df(n,r[s])}(r,C);const x=n.viewQuery;if(null!==x&&rd(2,x,a),!f)if(_){const H=n.viewCheckHooks;null!==H&&ho(r,H)}else{const H=n.viewHooks;null!==H&&xs(r,H,2),Xr(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),f||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,ai(r[3],-1))}finally{$i()}}function vg(n,r,s,a){const l=r[10],f=!Ao(),_=Pn(r);try{f&&!_&&l.begin&&l.begin(),_&&pl(n,r,a),Nl(n,r,s,a)}finally{f&&!_&&l.end&&l.end()}}function yf(n,r,s,a,l){const f=Ii(),_=2&a;try{ro(-1),_&&r.length>20&&hf(n,r,20,Ao()),s(a,l)}finally{ro(f)}}function Jc(n,r,s){!V()||(function Jy(n,r,s,a){const l=s.directiveStart,f=s.directiveEnd;n.firstCreatePass||Qi(s,r),Vs(a,r);const _=s.initialInputs;for(let C=l;C<f;C++){const x=n.data[C],H=Bi(x);H&&Rg(r,s,x);const q=bt(r,n,C,s);Vs(q,r),null!==_&&e_(0,C-l,q,x,0,_),H&&(On(s.index,r)[8]=q)}}(n,r,s,ut(s,r)),128==(128&s.flags)&&function Sg(n,r,s){const a=s.directiveStart,l=s.directiveEnd,_=s.index,C=function Zo(){return en.lFrame.currentDirectiveIndex}();try{ro(_);for(let x=a;x<l;x++){const H=n.data[x],q=r[x];Vr(x),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&Mg(H,q)}}finally{ro(-1),Vr(C)}}(n,r,s))}function _f(n,r,s=ut){const a=r.localNames;if(null!==a){let l=r.index+1;for(let f=0;f<a.length;f+=2){const _=a[f+1],C=-1===_?s(r,n):n[_];n[l++]=C}}}function eh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=th(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function th(n,r,s,a,l,f,_,C,x,H){const q=20+a,oe=q+l,Ie=function Ky(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:Bn);return s}(q,oe),je="function"==typeof H?H():H;return Ie[1]={type:n,blueprint:Ie,template:s,queries:null,viewQuery:C,declTNode:r,data:Ie.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:x,consts:je,incompleteFirstPass:!1}}function bg(n,r,s,a){const l=id(r);null===s?l.push(a):(l.push(s),n.firstCreatePass&&ah(n).push(a,l.length-1))}function Ig(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const l=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function qo(n,r,s,a,l,f,_,C){const x=ut(r,s);let q,H=r.inputs;!C&&null!=H&&(q=H[a])?(uh(n,s,q,a,l),Sn(r)&&function Dg(n,r){const s=On(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function Qy(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=_?_(l,r.value||"",a):l,ur(f)?f.setProperty(x,a,l):oo(a)||(x.setProperty?x.setProperty(a,l):x[a]=l))}function Xc(n,r,s,a){let l=!1;if(V()){const f=function Xy(n,r,s){const a=n.directiveRegistry;let l=null;if(a)for(let f=0;f<a.length;f++){const _=a[f];Kd(s,_.selectors,!1)&&(l||(l=[]),T(Qi(s,r),n,_.type),Bi(_)?(xg(n,s),l.unshift(_)):l.push(_))}return l}(n,r,s),_=null===a?null:{"":-1};if(null!==f){l=!0,oc(s,n.data.length,f.length);for(let q=0;q<f.length;q++){const oe=f[q];oe.providersResolver&&oe.providersResolver(oe)}let C=!1,x=!1,H=fl(n,r,f.length,null);for(let q=0;q<f.length;q++){const oe=f[q];s.mergedAttrs=fs(s.mergedAttrs,oe.hostAttrs),sh(n,s,r,H,oe),ih(H,oe,_),null!==oe.contentQueries&&(s.flags|=8),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(s.flags|=128);const Ie=oe.type.prototype;!C&&(Ie.ngOnChanges||Ie.ngOnInit||Ie.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),C=!0),!x&&(Ie.ngOnChanges||Ie.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),x=!0),H++}!function Yy(n,r){const a=r.directiveEnd,l=n.data,f=r.attrs,_=[];let C=null,x=null;for(let H=r.directiveStart;H<a;H++){const q=l[H],oe=q.inputs,Ie=null===f||qd(r)?null:t_(oe,f);_.push(Ie),C=Ig(oe,H,C),x=Ig(q.outputs,H,x)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=16),C.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=_,r.inputs=C,r.outputs=x}(n,s)}_&&function Og(n,r,s){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const f=s[r[l+1]];if(null==f)throw new ot(-301,!1);a.push(r[l],f)}}}(s,a,_)}return s.mergedAttrs=fs(s.mergedAttrs,s.attrs),l}function rh(n,r,s,a,l,f){const _=f.hostBindings;if(_){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const x=~r.index;(function Ag(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(C)!=x&&C.push(x),C.push(a,l,_)}}function Mg(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function xg(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function ih(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;Bi(r)&&(s[""]=n)}}function oc(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function sh(n,r,s,a,l){n.data[a]=l;const f=l.factory||(l.factory=Wr(l.type)),_=new zs(f,Bi(l),null);n.blueprint[a]=_,s[a]=_,rh(n,r,0,a,fl(n,s,l.hostVars,Bn),l)}function Rg(n,r,s){const a=ut(r,n),l=eh(s),f=n[10],_=td(n,Qc(n,l,null,s.onPush?64:16,a,r,f,f.createRenderer(a,s),null,null));n[r.index]=_}function Tu(n,r,s,a,l,f){const _=ut(n,r);!function bf(n,r,s,a,l,f,_){if(null==f)ur(n)?n.removeAttribute(r,l,s):r.removeAttribute(l);else{const C=null==_?We(f):_(f,a||"",l);ur(n)?n.setAttribute(r,l,C,s):s?r.setAttributeNS(s,l,C):r.setAttribute(l,C)}}(r[11],_,f,n.value,s,a,l)}function e_(n,r,s,a,l,f){const _=f[r];if(null!==_){const C=a.setInput;for(let x=0;x<_.length;){const H=_[x++],q=_[x++],oe=_[x++];null!==C?a.setInput(s,oe,H,q):s[q]=oe}}}function t_(n,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,n[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function ac(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function Df(n,r){const s=On(r,n);if(mr(s)){const a=s[1];80&s[2]?Nl(a,s,a.template,s[8]):s[5]>0&&lc(s)}}function lc(n){for(let a=Fa(n);null!==a;a=Hd(a))for(let l=10;l<a.length;l++){const f=a[l];if(1024&f[2]){const _=f[1];Nl(_,f,_.template,f[8])}else f[5]>0&&lc(f)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=On(s[a],n);mr(l)&&l[5]>0&&lc(l)}}function ed(n,r){const s=On(r,n),a=s[1];(function Cf(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),pl(a,s,s[8])}function td(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function nd(n){for(;n;){n[2]|=64;const r=Ks(n);if(js(n)&&!r)return n;n=r}return null}function oh(n,r,s){const a=r[10];a.begin&&a.begin();try{Nl(n,r,n.template,s)}catch(l){throw kl(r,l),l}finally{a.end&&a.end()}}function Pg(n){!function Au(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=Zl(s),l=a[1];vg(l,a,l.template,s)}}(n[8])}function rd(n,r,s){pu(0),r(n,s)}const Sf=(()=>Promise.resolve(null))();function id(n){return n[7]||(n[7]=[])}function ah(n){return n.cleanup||(n.cleanup=[])}function kl(n,r){const s=n[9],a=s?s.get(rl,null):null;a&&a.handleError(r)}function uh(n,r,s,a,l){for(let f=0;f<s.length;){const _=s[f++],C=s[f++],x=r[_],H=n.data[_];null!==H.setInput?H.setInput(x,l,a,C):x[C]=l}}function zu(n,r,s){const a=Ke(r,n);!function Yp(n,r,s){ur(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function lh(n,r,s){let a=s?n.styles:null,l=s?n.classes:null,f=0;if(null!==r)for(let _=0;_<r.length;_++){const C=r[_];"number"==typeof C?f=C:1==f?l=Me(l,C):2==f&&(a=Me(a,C+": "+r[++_]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=l:n.classesWithoutHost=l}const sd=new Zn("INJECTOR",-1);class Fg{get(r,s=mo){if(s===mo){const a=new Error(`NullInjectorError: No provider for ${Se(r)}!`);throw a.name="NullInjectorError",a}return s}}const od=new Zn("Set Injector scope."),ad={},xf={};let Of;function ch(){return void 0===Of&&(Of=new Fg),Of}function Rf(n,r=null,s=null,a){const l=dh(n,r,s,a);return l._resolveInjectorDefTypes(),l}function dh(n,r=null,s=null,a){return new Pf(n,s,r||ch(),a)}class Pf{constructor(r,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];s&&Ds(s,C=>this.processProvider(C,r,s)),Ds([r],C=>this.processInjectorType(C,[],f)),this.records.set(sd,uu(void 0,this));const _=this.records.get(od);this.scope=null!=_?_.value:null,this.source=l||("object"==typeof r?null:Se(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=mo,a=At.Default){this.assertNotDestroyed();const l=d(this),f=nn(void 0);try{if(!(a&At.SkipSelf)){let C=this.records.get(r);if(void 0===C){const x=function Ff(n){return"function"==typeof n||"object"==typeof n&&n instanceof Zn}(r)&&Xn(r);C=x&&this.injectableDefInScope(x)?uu(ud(r),ad):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&At.Self?ch():this.parent).get(r,s=a&At.Optional&&s===mo?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[vu]=_[vu]||[]).unshift(Se(r)),l)throw _;return function jt(n,r,s,a){const l=n[vu];throw r[ae]&&l.unshift(r[ae]),n.message=function Qt(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let l=Se(r);if(Array.isArray(r))l=r.map(Se).join(" -> ");else if("object"==typeof r){let f=[];for(let _ in r)if(r.hasOwnProperty(_)){let C=r[_];f.push(_+":"+("string"==typeof C?JSON.stringify(C):Se(C)))}l=`{${f.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${n.replace(U,"\n  ")}`}("\n"+n.message,l,s,a),n.ngTokenPath=l,n[vu]=null,n}(_,r,"R3InjectorError",this.source)}throw _}finally{nn(f),d(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,l)=>r.push(Se(l))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ot(205,!1)}processInjectorType(r,s,a){if(!(r=Pe(r)))return!1;let l=or(r);const f=null==l&&r.ngModule||void 0,_=void 0===f?r:f,C=-1!==a.indexOf(_);if(void 0!==f&&(l=or(f)),null==l)return!1;if(null!=l.imports&&!C){let q;a.push(_);try{Ds(l.imports,oe=>{this.processInjectorType(oe,s,a)&&(void 0===q&&(q=[]),q.push(oe))})}finally{}if(void 0!==q)for(let oe=0;oe<q.length;oe++){const{ngModule:Ie,providers:je}=q[oe];Ds(je,lt=>this.processProvider(lt,Ie,je||Ct))}}this.injectorDefTypes.add(_);const x=Wr(_)||(()=>new _);this.records.set(_,uu(x,ad));const H=l.providers;if(null!=H&&!C){const q=r;Ds(H,oe=>this.processProvider(oe,q,H))}return void 0!==f&&void 0!==r.providers}processProvider(r,s,a){let l=hc(r=Pe(r))?r:Pe(r&&r.provide);const f=function gl(n,r,s){return Fl(n)?uu(void 0,n.useValue):uu(hh(n),ad)}(r);if(hc(r)||!0!==r.multi)this.records.get(l);else{let _=this.records.get(l);_||(_=uu(void 0,ad,!0),_.factory=()=>re(_.multi),this.records.set(l,_)),l=r,_.multi.push(r)}this.records.set(l,f)}hydrate(r,s){return s.value===ad&&(s.value=xf,s.value=s.factory()),"object"==typeof s.value&&s.value&&function kf(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Pe(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function ud(n){const r=Xn(n),s=null!==r?r.factory:Wr(n);if(null!==s)return s;if(n instanceof Zn)throw new ot(204,!1);if(n instanceof Function)return function cc(n){const r=n.length;if(r>0)throw Ns(r,"?"),new ot(204,!1);const s=function Fn(n){const r=n&&(n[Er]||n[_n]);if(r){const s=function Wn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ot(204,!1)}function hh(n,r,s){let a;if(hc(n)){const l=Pe(n);return Wr(l)||ud(l)}if(Fl(n))a=()=>Pe(n.useValue);else if(function dc(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...re(n.deps||[]));else if(function Lg(n){return!(!n||!n.useExisting)}(n))a=()=>P(Pe(n.useExisting));else{const l=Pe(n&&(n.useClass||n.provide));if(!function Nf(n){return!!n.deps}(n))return Wr(l)||ud(l);a=()=>new l(...re(n.deps))}return a}function uu(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Fl(n){return null!==n&&"object"==typeof n&&v in n}function hc(n){return"function"==typeof n}let _a=(()=>{class n{static create(s,a){var l;if(Array.isArray(s))return Rf({name:""},a,s,"");{const f=null!==(l=s.name)&&void 0!==l?l:"";return Rf({name:f},s.parent,s.providers,f)}}}return n.THROW_IF_NOT_FOUND=mo,n.NULL=new Fg,n.\u0275prov=Zt({token:n,providedIn:"any",factory:()=>P(sd)}),n.__NG_ELEMENT_ID__=-1,n})();function l_(n,r){io(Zl(n)[1],hn())}function cd(n){let r=function Zg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let l;if(Bi(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ot(903,"");l=r.\u0275dir}if(l){if(s){a.push(l);const _=n;_.inputs=dd(n.inputs),_.declaredInputs=dd(n.declaredInputs),_.outputs=dd(n.outputs);const C=l.hostBindings;C&&fc(n,C);const x=l.viewQuery,H=l.contentQueries;if(x&&jf(n,x),H&&Hf(n,H),Te(n.inputs,l.inputs),Te(n.declaredInputs,l.declaredInputs),Te(n.outputs,l.outputs),Bi(l)&&l.data.animation){const q=n.data;q.animation=(q.animation||[]).concat(l.data.animation)}}const f=l.features;if(f)for(let _=0;_<f.length;_++){const C=f[_];C&&C.ngInherit&&C(n),C===cd&&(s=!1)}}r=Object.getPrototypeOf(r)}!function c_(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=fs(l.hostAttrs,s=fs(s,l.hostAttrs))}}(a)}function dd(n){return n===cn?{}:n===Ct?[]:n}function jf(n,r){const s=n.viewQuery;n.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function Hf(n,r){const s=n.contentQueries;n.contentQueries=s?(a,l,f)=>{r(a,l,f),s(a,l,f)}:r}function fc(n,r){const s=n.hostBindings;n.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let pc=null;function sa(){if(!pc){const n=Xt.Symbol;if(n&&n.iterator)pc=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(pc=a)}}}return pc}function hd(n){return!!Wf(n)&&(Array.isArray(n)||!(n instanceof Map)&&sa()in n)}function Wf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ua(n,r,s){return n[r]=s}function co(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function pd(n,r,s,a){const l=j();return co(l,$s(),r)&&(Ve(),Tu(qr(),l,n,r,s,a)),pd}function ml(n,r,s,a){return co(n,$s(),s)?r+We(s)+a:Bn}function em(n,r,s,a,l,f,_,C){const x=j(),H=Ve(),q=n+20,oe=H.firstCreatePass?function f_(n,r,s,a,l,f,_,C,x){const H=r.consts,q=au(r,n,4,_||null,vr(H,C));Xc(r,s,q,vr(H,x)),io(r,q);const oe=q.tViews=th(2,q,a,l,f,r.directiveRegistry,r.pipeRegistry,null,r.schemas,H);return null!==r.queries&&(r.queries.template(r,q),oe.queries=r.queries.embeddedTView(q)),q}(q,H,x,r,s,a,l,f,_):H.data[q];ui(oe,!1);const Ie=x[11].createComment("");Jl(H,x,Ie,oe),Vs(Ie,x),td(x,x[q]=ac(Ie,x,Ie,oe)),Pi(oe)&&Jc(H,x,oe),null!=_&&_f(x,oe,C)}function Yf(n){return Kn(function wa(){return en.lFrame.contextLView}(),20+n)}function Ed(n,r=At.Default){const s=j();return null===s?P(n,r):L(hn(),s,Pe(n),r)}function Dh(){throw new Error("invalid")}function np(n,r,s){const a=j();return co(a,$s(),r)&&qo(Ve(),qr(),a,n,r,a[11],s,!1),np}function rp(n,r,s,a,l){const _=l?"class":"style";uh(n,s,r.inputs[_],_,a)}function ip(n,r,s,a){const l=j(),f=Ve(),_=20+n,C=l[11],x=l[_]=rf(C,r,function Xo(){return en.lFrame.currentNamespace}()),H=f.firstCreatePass?function es(n,r,s,a,l,f,_){const C=r.consts,H=au(r,n,2,l,vr(C,f));return Xc(r,s,H,vr(C,_)),null!==H.attrs&&lh(H,H.attrs,!1),null!==H.mergedAttrs&&lh(H,H.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,H),H}(_,f,l,0,r,s,a):f.data[_];ui(H,!0);const q=H.mergedAttrs;null!==q&&hi(C,x,q);const oe=H.classes;null!==oe&&Gu(C,x,oe);const Ie=H.styles;return null!==Ie&&ol(C,x,Ie),64!=(64&H.flags)&&Jl(f,l,x,H),0===function Is(){return en.lFrame.elementDepthCount}()&&Vs(x,l),function ri(){en.lFrame.elementDepthCount++}(),Pi(H)&&(Jc(f,l,H),function Eg(n,r,s){if(ts(r)){const l=r.directiveEnd;for(let f=r.directiveStart;f<l;f++){const _=n.data[f];_.contentQueries&&_.contentQueries(1,s[f],f)}}}(f,H,l)),null!==a&&_f(l,H),ip}function sp(){let n=hn();bi()?li():(n=n.parent,ui(n,!1));const r=n;!function To(){en.lFrame.elementDepthCount--}();const s=Ve();return s.firstCreatePass&&(io(s,n),ts(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function qa(n){return 0!=(16&n.flags)}(r)&&rp(s,r,j(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function ca(n){return 0!=(32&n.flags)}(r)&&rp(s,r,j(),r.stylesWithoutHost,!1),sp}function ms(n,r,s,a){return ip(n,r,s,a),sp(),ms}function gm(){return j()}function ap(n){return!!n&&"function"==typeof n.then}function mm(n){return!!n&&"function"==typeof n.subscribe}const w_=mm;function up(n,r,s,a){const l=j(),f=Ve(),_=hn();return function Su(n,r,s,a,l,f,_,C){const x=Pi(a),q=n.firstCreatePass&&ah(n),oe=r[8],Ie=id(r);let je=!0;if(3&a.type||C){const $t=ut(a,r),un=C?C($t):$t,Et=Ie.length,Nn=C?Rr=>C(k(Rr[a.index])):a.index;if(ur(s)){let Rr=null;if(!C&&x&&(Rr=function _m(n,r,s,a){const l=n.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const _=l[f];if(_===s&&l[f+1]===a){const C=r[7],x=l[f+2];return C.length>x?C[x]:null}"string"==typeof _&&(f+=2)}return null}(n,r,l,a.index)),null!==Rr)(Rr.__ngLastListenerFn__||Rr).__ngNextListenerFn__=f,Rr.__ngLastListenerFn__=f,je=!1;else{f=ja(a,r,oe,f,!1);const _i=s.listen(un,l,f);Ie.push(f,_i),q&&q.push(l,Nn,Et,Et+1)}}else f=ja(a,r,oe,f,!0),un.addEventListener(l,f,_),Ie.push(f),q&&q.push(l,Nn,Et,_)}else f=ja(a,r,oe,f,!1);const lt=a.outputs;let Ft;if(je&&null!==lt&&(Ft=lt[l])){const $t=Ft.length;if($t)for(let un=0;un<$t;un+=2){const fu=r[Ft[un]][Ft[un+1]].subscribe(f),Fd=Ie.length;Ie.push(f,fu),q&&q.push(l,a.index,Fd,-(Fd+1))}}}(f,l,l[11],_,n,r,!!s,a),up}function b_(n,r,s,a){try{return!1!==s(a)}catch(l){return kl(n,l),!1}}function ja(n,r,s,a,l){return function f(_){if(_===Function)return a;const C=2&n.flags?On(n.index,r):r;0==(32&r[2])&&nd(C);let x=b_(r,0,a,_),H=f.__ngNextListenerFn__;for(;H;)x=b_(r,0,H,_)&&x,H=H.__ngNextListenerFn__;return l&&!1===x&&(_.preventDefault(),_.returnValue=!1),x}}function wl(n=1){return function Qo(n){return(en.lFrame.contextLView=function Da(n,r){for(;n>0;)r=r[15],n--;return r}(n,en.lFrame.contextLView))[8]}(n)}function Th(n,r){let s=null;const a=function jc(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let l=0;l<r.length;l++){const f=r[l];if("*"!==f){if(null===a?Kd(n,f,!0):ag(a,f))return l}else s=l}return s}function vm(n){const r=j()[16][6];if(!r.projection){const a=r.projection=Ns(n?n.length:1,null),l=a.slice();let f=r.child;for(;null!==f;){const _=n?Th(f,n):0;null!==_&&(l[_]?l[_].projectionNext=f:a[_]=f,l[_]=f),f=f.next}}}function Em(n,r=0,s){const a=j(),l=Ve(),f=au(l,20+n,16,null,s||null);null===f.projection&&(f.projection=r),li(),64!=(64&f.flags)&&function ng(n,r,s){rg(r[11],0,r,s,af(n,s,r),Ql(s.parent||r[6],s,r))}(l,a,f)}function Ah(n,r,s){return Sh(n,"",r,"",s),Ah}function Sh(n,r,s,a,l){const f=j(),_=ml(f,r,s,a);return _!==Bn&&qo(Ve(),qr(),f,n,_,f[11],l,!1),Sh}function xh(n,r,s,a,l){const f=n[s+1],_=null===r;let C=a?ga(f):ma(f),x=!1;for(;0!==C&&(!1===x||_);){const q=n[C+1];Im(n[C],r)&&(x=!0,n[C+1]=a?Qd(q):Yd(q)),C=a?ga(q):ma(q)}x&&(n[s+1]=a?Yd(f):Qd(f))}function Im(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Ji(n,r)>=0}const zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dp(n){return n.substring(zi.key,zi.keyEnd)}function Dm(n){return n.substring(zi.value,zi.valueEnd)}function Id(n,r){const s=zi.textEnd;let a=zi.key=Bl(n,r,s);return s===a?-1:(a=zi.keyEnd=function C_(n,r,s){let a;for(;r<s&&(45===(a=n.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(n,a,s),a=Td(n,a,s),a=zi.value=Bl(n,a,s),a=zi.valueEnd=function jl(n,r,s){let a=-1,l=-1,f=-1,_=r,C=_;for(;_<s;){const x=n.charCodeAt(_++);if(59===x)return C;34===x||39===x?C=_=Mu(n,x,_,s):r===_-4&&85===f&&82===l&&76===a&&40===x?C=_=Mu(n,41,_,s):x>32&&(C=_),f=l,l=a,a=-33&x}return C}(n,a,s),Td(n,a,s))}function Bl(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function Td(n,r,s,a){return(r=Bl(n,r,s))<s&&r++,r}function Mu(n,r,s,a){let l=-1,f=s;for(;f<a;){const _=n.charCodeAt(f++);if(_==r&&92!==l)return f;l=92==_&&92===l?0:_}throw new Error}function fp(n,r){return function cu(n,r,s,a){const l=j(),f=Ve(),_=os(2);f.firstUpdatePass&&Am(f,n,_,a),r!==Bn&&co(l,_,r)&&gp(f,f.data[Ii()],l,l[11],n,l[_+1]=function Rm(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Se(iu(n)))),n}(r,s),a,_)}(n,r,null,!0),fp}function Ha(n){!function du(n,r,s,a){const l=Ve(),f=os(2);l.firstUpdatePass&&Am(l,null,f,a);const _=j();if(s!==Bn&&co(_,f,s)){const C=l.data[Ii()];if(Ph(C,a)&&!Tm(l,f)){let x=a?C.classesWithoutHost:C.stylesWithoutHost;null!==x&&(s=Me(x,s||"")),rp(l,C,_,s,a)}else!function S_(n,r,s,a,l,f,_,C){l===Bn&&(l=Ct);let x=0,H=0,q=0<l.length?l[0]:null,oe=0<f.length?f[0]:null;for(;null!==q||null!==oe;){const Ie=x<l.length?l[x+1]:void 0,je=H<f.length?f[H+1]:void 0;let Ft,lt=null;q===oe?(x+=2,H+=2,Ie!==je&&(lt=oe,Ft=je)):null===oe||null!==q&&q<oe?(x+=2,lt=q):(H+=2,lt=oe,Ft=je),null!==lt&&gp(n,r,s,a,lt,Ft,_,C),q=x<l.length?l[x]:null,oe=H<f.length?f[H]:null}}(l,C,_,_[11],_[f+1],_[f+1]=function xm(n,r,s){if(null==s||""===s)return Ct;const a=[],l=iu(s);if(Array.isArray(l))for(let f=0;f<l.length;f++)n(a,l[f],!0);else if("object"==typeof l)for(const f in l)l.hasOwnProperty(f)&&n(a,f,l[f]);else"string"==typeof l&&r(a,l);return a}(n,r,s),a,f)}}(Om,Cm,n,!1)}function Cm(n,r){for(let s=function D_(n){return function Dd(n){zi.key=0,zi.keyEnd=0,zi.value=0,zi.valueEnd=0,zi.textEnd=n.length}(n),Id(n,Bl(n,0,zi.textEnd))}(r);s>=0;s=Id(r,s))Om(n,dp(r),Dm(r))}function Tm(n,r){return r>=n.expandoStartIndex}function Am(n,r,s,a){const l=n.data;if(null===l[s+1]){const f=l[Ii()],_=Tm(n,s);Ph(f,a)&&null===r&&!_&&(r=!1),r=function Sm(n,r,s,a){const l=function Gs(n){const r=en.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let f=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=Sd(s=pp(null,n,r,s,a),r.attrs,a),f=null);else{const _=r.directiveStylingLast;if(-1===_||n[_]!==l)if(s=pp(l,n,r,s,a),null===f){let x=function T_(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==ma(a))return n[ga(a)]}(n,r,a);void 0!==x&&Array.isArray(x)&&(x=pp(null,n,r,x[1],a),x=Sd(x,r.attrs,a),function A_(n,r,s,a){n[ga(s?r.classBindings:r.styleBindings)]=a}(n,r,a,x))}else f=function Mm(n,r,s){let a;const l=r.directiveEnd;for(let f=1+r.directiveStylingLast;f<l;f++)a=Sd(a,n[f].hostAttrs,s);return Sd(a,r.attrs,s)}(n,r,a)}return void 0!==f&&(a?r.residualClasses=f:r.residualStyles=f),s}(l,f,r,a),function I_(n,r,s,a,l,f){let _=f?r.classBindings:r.styleBindings,C=ga(_),x=ma(_);n[a]=s;let q,H=!1;if(Array.isArray(s)){const oe=s;q=oe[1],(null===q||Ji(oe,q)>0)&&(H=!0)}else q=s;if(l)if(0!==x){const Ie=ga(n[C+1]);n[a+1]=Zd(Ie,C),0!==Ie&&(n[Ie+1]=Xl(n[Ie+1],a)),n[C+1]=function Vy(n,r){return 131071&n|r<<17}(n[C+1],a)}else n[a+1]=Zd(C,0),0!==C&&(n[C+1]=Xl(n[C+1],a)),C=a;else n[a+1]=Zd(x,0),0===C?C=a:n[x+1]=Xl(n[x+1],a),x=a;H&&(n[a+1]=Yd(n[a+1])),xh(n,q,a,!0),xh(n,q,a,!1),function cp(n,r,s,a,l){const f=l?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof r&&Ji(f,r)>=0&&(s[a+1]=Qd(s[a+1]))}(r,q,n,a,f),_=Zd(C,x),f?r.classBindings=_:r.styleBindings=_}(l,f,r,s,_,a)}}function pp(n,r,s,a,l){let f=null;const _=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<_&&(f=r[C],a=Sd(a,f.hostAttrs,l),f!==n);)C++;return null!==n&&(s.directiveStylingLast=C),a}function Sd(n,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let f=0;f<r.length;f++){const _=r[f];"number"==typeof _?l=_:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Fs(n,_,!!s||r[++f]))}return void 0===n?null:n}function Om(n,r,s){Fs(n,r,iu(s))}function gp(n,r,s,a,l,f,_,C){if(!(3&r.type))return;const x=n.data,H=x[C+1];Md(function $c(n){return 1==(1&n)}(H)?mp(x,r,s,l,ma(H),_):void 0)||(Md(f)||function Pl(n){return 2==(2&n)}(H)&&(f=mp(x,null,s,l,C,_)),function zd(n,r,s,a,l){const f=ur(n);if(r)l?f?n.addClass(s,a):s.classList.add(a):f?n.removeClass(s,a):s.classList.remove(a);else{let _=-1===a.indexOf("-")?void 0:Wo.DashCase;if(null==l)f?n.removeStyle(s,a,_):s.style.removeProperty(a);else{const C="string"==typeof l&&l.endsWith("!important");C&&(l=l.slice(0,-10),_|=Wo.Important),f?n.setStyle(s,a,l,_):s.style.setProperty(a,l,C?"important":"")}}}(a,_,Ke(Ii(),s),l,f))}function mp(n,r,s,a,l,f){const _=null===r;let C;for(;l>0;){const x=n[l],H=Array.isArray(x),q=H?x[1]:x,oe=null===q;let Ie=s[l+1];Ie===Bn&&(Ie=oe?Ct:void 0);let je=oe?Go(Ie,a):q===a?Ie:void 0;if(H&&!Md(je)&&(je=Go(x,a)),Md(je)&&(C=je,_))return C;const lt=n[l+1];l=_?ga(lt):ma(lt)}if(null!==r){let x=f?r.residualClasses:r.residualStyles;null!=x&&(C=Go(x,a))}return C}function Md(n){return void 0!==n}function Ph(n,r){return 0!=(n.flags&(r?16:32))}function xd(n,r=""){const s=j(),a=Ve(),l=n+20,f=a.firstCreatePass?au(a,l,1,r,null):a.data[l],_=s[l]=function nf(n,r){return ur(n)?n.createText(r):n.createTextNode(r)}(s[11],r);Jl(a,s,_,f),ui(f,!1)}function yp(n){return Od("",n,""),yp}function Od(n,r,s){const a=j(),l=ml(a,n,r,s);return l!==Bn&&zu(a,Ii(),l),Od}const Hl=void 0;var Km=["en",[["a","p"],["AM","PM"],Hl],[["AM","PM"],Hl,Hl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hl,"{1} 'at' {0}",Hl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qm(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let $a={};function Io(n){const r=function B_(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Dc(r);if(s)return s;const a=r.split("-")[0];if(s=Dc(a),s)return s;if("en"===a)return Km;throw new Error(`Missing locale data for the locale "${n}".`)}function bp(n){return Io(n)[tn.PluralCase]}function Dc(n){return n in $a||($a[n]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[n]),$a[n]}var tn=(()=>((tn=tn||{})[tn.LocaleId=0]="LocaleId",tn[tn.DayPeriodsFormat=1]="DayPeriodsFormat",tn[tn.DayPeriodsStandalone=2]="DayPeriodsStandalone",tn[tn.DaysFormat=3]="DaysFormat",tn[tn.DaysStandalone=4]="DaysStandalone",tn[tn.MonthsFormat=5]="MonthsFormat",tn[tn.MonthsStandalone=6]="MonthsStandalone",tn[tn.Eras=7]="Eras",tn[tn.FirstDayOfWeek=8]="FirstDayOfWeek",tn[tn.WeekendRange=9]="WeekendRange",tn[tn.DateFormat=10]="DateFormat",tn[tn.TimeFormat=11]="TimeFormat",tn[tn.DateTimeFormat=12]="DateTimeFormat",tn[tn.NumberSymbols=13]="NumberSymbols",tn[tn.NumberFormats=14]="NumberFormats",tn[tn.CurrencyCode=15]="CurrencyCode",tn[tn.CurrencySymbol=16]="CurrencySymbol",tn[tn.CurrencyName=17]="CurrencyName",tn[tn.Currencies=18]="Currencies",tn[tn.Directionality=19]="Directionality",tn[tn.PluralCase=20]="PluralCase",tn[tn.ExtraData=21]="ExtraData",tn))();const xu="en-US";let Ru=xu;function Z_(n,r,s,a,l){if(n=Pe(n),Array.isArray(n))for(let f=0;f<n.length;f++)Z_(n[f],r,s,a,l);else{const f=Ve(),_=j();let C=hc(n)?n:Pe(n.provide),x=hh(n);const H=hn(),q=1048575&H.providerIndexes,oe=H.directiveStart,Ie=H.providerIndexes>>20;if(hc(n)||!n.multi){const je=new zs(x,l,Ed),lt=Q_(C,r,l?q:q+Ie,oe);-1===lt?(T(Qi(H,_),f,C),Y_(f,n,r.length),r.push(C),H.directiveStart++,H.directiveEnd++,l&&(H.providerIndexes+=1048576),s.push(je),_.push(je)):(s[lt]=je,_[lt]=je)}else{const je=Q_(C,r,q+Ie,oe),lt=Q_(C,r,q,q+Ie),Ft=je>=0&&s[je],$t=lt>=0&&s[lt];if(l&&!$t||!l&&!Ft){T(Qi(H,_),f,C);const un=function lw(n,r,s,a,l){const f=new zs(n,s,Ed);return f.multi=[],f.index=r,f.componentProviders=0,g0(f,l,a&&!s),f}(l?uw:aw,s.length,l,a,x);!l&&$t&&(s[lt].providerFactory=un),Y_(f,n,r.length,0),r.push(C),H.directiveStart++,H.directiveEnd++,l&&(H.providerIndexes+=1048576),s.push(un),_.push(un)}else Y_(f,n,je>-1?je:lt,g0(s[l?lt:je],x,!l&&a));!l&&a&&$t&&s[lt].componentProviders++}}}function Y_(n,r,s,a){const l=hc(r),f=function r_(n){return!!n.useClass}(r);if(l||f){const x=(f?Pe(r.useClass):r).prototype.ngOnDestroy;if(x){const H=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const q=H.indexOf(s);-1===q?H.push(s,[a,x]):H[q+1].push(a,x)}else H.push(s,x)}}}function g0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Q_(n,r,s,a){for(let l=s;l<a;l++)if(r[l]===n)return l;return-1}function aw(n,r,s,a){return J_(this.multi,[])}function uw(n,r,s,a){const l=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=bt(s,s[1],this.providerFactory.index,a);f=C.slice(0,_),J_(l,f);for(let x=_;x<C.length;x++)f.push(C[x])}else f=[],J_(l,f);return f}function J_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function m0(n,r=[]){return s=>{s.providersResolver=(a,l)=>function ow(n,r,s){const a=Ve();if(a.firstCreatePass){const l=Bi(n);Z_(s,a.data,a.blueprint,l,!0),Z_(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class y0{}class hw{resolveComponentFactory(r){throw function dw(n){const r=Error(`No component factory found for ${Se(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let iy=(()=>{class n{}return n.NULL=new hw,n})();function fw(){return Bh(hn(),j())}function Bh(n,r){return new Tp(ut(n,r))}let Tp=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=fw,n})();function pw(n){return n instanceof Tp?n.nativeElement:n}class v0{}let gw=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function yw(){const n=j(),s=On(hn().index,n);return function mw(n){return n[11]}(dr(s)?s:n)}(),n})(),_w=(()=>{class n{}return n.\u0275prov=Zt({token:n,providedIn:"root",factory:()=>null}),n})();class E0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const w0=new E0("13.3.2"),X_={};function sy(n,r,s,a,l=!1){for(;null!==s;){const f=r[s.index];if(null!==f&&a.push(k(f)),Ri(f))for(let C=10;C<f.length;C++){const x=f[C],H=x[1].firstChild;null!==H&&sy(x[1],x,H,a)}const _=s.type;if(8&_)sy(n,r,s.child,a);else if(32&_){const C=Xh(s,r);let x;for(;x=C();)a.push(x)}else if(16&_){const C=Zs(r,s);if(Array.isArray(C))a.push(...C);else{const x=Ks(r[16]);sy(x[1],x,C,a,!0)}}s=l?s.projectionNext:s.next}return a}class Ap{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return sy(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Ri(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(sf(r,a),Ro(s,a))}this._attachedToViewContainer=!1}Jp(this._lView[1],this._lView)}onDestroy(r){bg(this._lView[1],this._lView,null,r)}markForCheck(){nd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){oh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Af(n,r,s){Vo(!0);try{oh(n,r,s)}finally{Vo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ot(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sy(n,r){La(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ot(902,"");this._appRef=r}}class vw extends Ap{constructor(r){super(r),this._view=r}detectChanges(){Pg(this._view)}checkNoChanges(){!function n_(n){Vo(!0);try{Pg(n)}finally{Vo(!1)}}(this._view)}get context(){return null}}class b0 extends iy{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=St(r);return new ev(s,this.ngModule)}}function I0(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class ev extends y0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Ly(n){return n.map(Fy).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return I0(this.componentDef.inputs)}get outputs(){return I0(this.componentDef.outputs)}create(r,s,a,l){const f=(l=l||this.ngModule)?function ww(n,r){return{get:(s,a,l)=>{const f=n.get(s,X_,l);return f!==X_||a===X_?f:r.get(s,a,l)}}}(r,l.injector):r,_=f.get(v0,F),C=f.get(_w,null),x=_.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",q=a?function wg(n,r,s){if(ur(n))return n.selectRootElement(r,s===ke.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(x,a,this.componentDef.encapsulation):rf(_.createRenderer(null,this.componentDef),H,function Ew(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(H)),oe=this.componentDef.onPush?576:528,Ie=function mh(n,r){return{components:[],scheduler:n||Qh,clean:Sf,playerHandler:r||null,flags:0}}(),je=th(0,null,null,1,0,null,null,null,null,null),lt=Qc(null,je,Ie,oe,null,null,_,x,C,f);let Ft,$t;Yo(lt);try{const un=function Bf(n,r,s,a,l,f){const _=s[1];s[20]=n;const x=au(_,20,2,"#host",null),H=x.mergedAttrs=r.hostAttrs;null!==H&&(lh(x,H,!0),null!==n&&(hi(l,n,H),null!==x.classes&&Gu(l,n,x.classes),null!==x.styles&&ol(l,n,x.styles)));const q=a.createRenderer(n,r),oe=Qc(s,eh(r),null,r.onPush?64:16,s[20],x,a,q,f||null,null);return _.firstCreatePass&&(T(Qi(x,s),_,r.type),xg(_,x),oc(x,s.length,1)),td(s,oe),s[20]=oe}(q,this.componentDef,lt,_,x);if(q)if(a)hi(x,q,["ng-version",w0.full]);else{const{attrs:Et,classes:Nn}=function Hc(n){const r=[],s=[];let a=1,l=2;for(;a<n.length;){let f=n[a];if("string"==typeof f)2===l?""!==f&&r.push(f,n[++a]):8===l&&s.push(f);else{if(!Va(l))break;l=f}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Et&&hi(x,q,Et),Nn&&Nn.length>0&&Gu(x,q,Nn.join(" "))}if($t=tr(je,20),void 0!==s){const Et=$t.projection=[];for(let Nn=0;Nn<this.ngContentSelectors.length;Nn++){const Rr=s[Nn];Et.push(null!=Rr?Array.from(Rr):null)}}Ft=function qg(n,r,s,a,l){const f=s[1],_=function wf(n,r,s){const a=hn();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),sh(n,a,r,fl(n,r,1,null),s));const l=bt(r,n,a.directiveStart,a);Vs(l,r);const f=ut(a,r);return f&&Vs(f,r),l}(f,s,r);if(a.components.push(_),n[8]=_,l&&l.forEach(x=>x(_,r)),r.contentQueries){const x=hn();r.contentQueries(1,_,x.directiveStart)}const C=hn();return!f.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(ro(C.index),rh(s[1],C,0,C.directiveStart,C.directiveEnd,r),Mg(r,_)),_}(un,this.componentDef,lt,Ie,[l_]),pl(je,lt,null)}finally{$i()}return new Iw(this.componentType,Ft,Bh($t,lt),lt,$t)}}class Iw extends class cw{}{constructor(r,s,a,l,f){super(),this.location=a,this._rootLView=l,this._tNode=f,this.instance=s,this.hostView=this.changeDetectorRef=new vw(l),this.componentType=r}get injector(){return new Jn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class jh{}class D0{}const Hh=new Map;class A0 extends jh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new b0(this);const a=pn(r);this._bootstrapComponents=Iu(a.bootstrap),this._r3Injector=dh(r,s,[{provide:jh,useValue:this},{provide:iy,useValue:this.componentFactoryResolver}],Se(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=_a.THROW_IF_NOT_FOUND,a=At.Default){return r===_a||r===jh||r===sd?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class tv extends D0{constructor(r){super(),this.moduleType=r,null!==pn(r)&&function Cw(n){const r=new Set;!function s(a){const l=pn(a,!0),f=l.id;null!==f&&(function C0(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${Se(r)} vs ${Se(r.name)}`)}(f,Hh.get(f),a),Hh.set(f,a));const _=Iu(l.imports);for(const C of _)r.has(C)||(r.add(C),s(C))}(n)}(r)}create(r){return new A0(this.moduleType,r)}}function S0(n,r,s){const a=ci()+n,l=j();return l[a]===Bn?Ua(l,a,s?r.call(s):r()):function fd(n,r){return n[r]}(l,a)}function M0(n,r,s,a){return x0(j(),ci(),n,r,s,a)}function x0(n,r,s,a,l,f){const _=r+s;return co(n,_,l)?Ua(n,_+1,f?a.call(f,l):a(l)):function Sp(n,r){const s=n[r];return s===Bn?void 0:s}(n,_+1)}function k0(n,r){const s=Ve();let a;const l=n+20;s.firstCreatePass?(a=function Nw(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const f=a.factory||(a.factory=Wr(a.type)),_=nn(Ed);try{const C=fo(!1),x=f();return fo(C),function p_(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,j(),l,x),x}finally{nn(_)}}function F0(n,r,s){const a=n+20,l=j(),f=Kn(l,a);return function Mp(n,r){return n[1].data[r].pure}(l,a)?x0(l,ci(),r,f.transform,s,f):f.transform(s)}function nv(n){return r=>{setTimeout(n,void 0,r)}}const Dl=class Uw extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var l,f,_;let C=r,x=s||(()=>null),H=a;if(r&&"object"==typeof r){const oe=r;C=null===(l=oe.next)||void 0===l?void 0:l.bind(oe),x=null===(f=oe.error)||void 0===f?void 0:f.bind(oe),H=null===(_=oe.complete)||void 0===_?void 0:_.bind(oe)}this.__isAsync&&(x=nv(x),C&&(C=nv(C)),H&&(H=nv(H)));const q=super.subscribe({next:C,error:x,complete:H});return r instanceof E.w0&&r.add(q),q}};function Bw(){return this._results[sa()]()}class rv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=sa(),a=rv.prototype;a[s]||(a[s]=Bw)}get changes(){return this._changes||(this._changes=new Dl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=Ci(r);(this._changesDetected=!function Kr(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],f=r[a];if(s&&(l=s(l),f=s(f)),f!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xp=(()=>{class n{}return n.__NG_ELEMENT_ID__=$w,n})();const jw=xp,Hw=class extends jw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=Qc(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(a[19]=f.createEmbeddedView(s)),pl(s,a,r),new Ap(a)}};function $w(){return oy(hn(),j())}function oy(n,r){return 4&n.type?new Hw(r,n,Bh(n,r)):null}let ay=(()=>{class n{}return n.__NG_ELEMENT_ID__=Gw,n})();function Gw(){return U0(hn(),j())}const zw=ay,L0=class extends zw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Bh(this._hostTNode,this._hostLView)}get injector(){return new Jn(this._hostTNode,this._hostLView)}get parentInjector(){const r=yt(this._hostTNode,this._hostLView);if(Di(r)){const s=xo(r,this._hostLView),a=ao(r);return new Jn(s[1].data[a+8],s)}return new Jn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=V0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const l=r.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(r,s,a,l,f){const _=r&&!function mu(n){return"function"==typeof n}(r);let C;if(_)C=s;else{const oe=s||{};C=oe.index,a=oe.injector,l=oe.projectableNodes,f=oe.ngModuleRef}const x=_?r:new ev(St(r)),H=a||this.parentInjector;if(!f&&null==x.ngModule){const Ie=(_?H:this.parentInjector).get(jh,null);Ie&&(f=Ie)}const q=x.create(H,l,void 0,f);return this.insert(q.hostView,C),q}insert(r,s){const a=r._lView,l=a[1];if(function nr(n){return Ri(n[3])}(a)){const q=this.indexOf(r);if(-1!==q)this.detach(q);else{const oe=a[3],Ie=new L0(oe,oe[6],oe[3]);Ie.detach(Ie.indexOf(r))}}const f=this._adjustIndex(s),_=this._lContainer;!function xy(n,r,s,a){const l=10+a,f=s.length;a>0&&(s[l-1][4]=r),a<f-10?(r[4]=s[l],Ma(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const _=r[17];null!==_&&s!==_&&function Oy(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(_,r);const C=r[19];null!==C&&C.insertView(n),r[2]|=128}(l,a,_,f);const C=Uc(f,_),x=a[11],H=ia(x,_[7]);return null!==H&&function Ay(n,r,s,a,l,f){a[0]=l,a[6]=r,La(n,a,s,1,l,f)}(l,_[6],x,a,H,C),r.attachToViewContainerRef(),Ma(iv(_),f,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=V0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=sf(this._lContainer,s);a&&(Ro(iv(this._lContainer),s),Jp(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=sf(this._lContainer,s);return a&&null!=Ro(iv(this._lContainer),s)?new Ap(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function V0(n){return n[8]}function iv(n){return n[8]||(n[8]=[])}function U0(n,r){let s;const a=r[n.index];if(Ri(a))s=a;else{let l;if(8&n.type)l=k(a);else{const f=r[11];l=f.createComment("");const _=ut(n,r);il(f,ia(f,_),l,function Py(n,r){return ur(n)?n.nextSibling(r):r.nextSibling}(f,_),!1)}r[n.index]=s=ac(a,r,l,n),td(r,s)}return new L0(s,n,r)}class sv{constructor(r){this.queryList=r,this.matches=null}clone(){return new sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class ov{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let f=0;f<a;f++){const _=s.getByIndex(f);l.push(this.queries[_.indexInDeclarationView].clone())}return new ov(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==K0(r,s).matches&&this.queries[s].setDirty()}}class B0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class av{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,f=this.getByIndex(a).embeddedTView(r,l);f&&(f.indexInDeclarationView=a,null!==s?s.push(f):s=[f])}return null!==s?new av(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class uv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new uv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const f=a[l];this.matchTNodeWithReadOption(r,s,Kw(s,f)),this.matchTNodeWithReadOption(r,s,me(s,r,f,!1,!1))}else a===xp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,me(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Tp||l===ay||l===xp&&4&s.type)this.addMatch(s.index,-2);else{const f=me(s,r,l,!1,!1);null!==f&&this.addMatch(s.index,f)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Kw(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Yw(n,r,s,a){return-1===s?function Zw(n,r){return 11&n.type?Bh(n,r):4&n.type?oy(n,r):null}(r,n):-2===s?function Qw(n,r,s){return s===Tp?Bh(r,n):s===xp?oy(r,n):s===ay?U0(r,n):void 0}(n,r,a):bt(n,n[1],s,r)}function j0(n,r,s,a){const l=r[19].queries[a];if(null===l.matches){const f=n.data,_=s.matches,C=[];for(let x=0;x<_.length;x+=2){const H=_[x];C.push(H<0?null:Yw(r,f[H],_[x+1],s.metadata.read))}l.matches=C}return l.matches}function lv(n,r,s,a){const l=n.queries.getByIndex(s),f=l.matches;if(null!==f){const _=j0(n,r,l,s);for(let C=0;C<f.length;C+=2){const x=f[C];if(x>0)a.push(_[C/2]);else{const H=f[C+1],q=r[-x];for(let oe=10;oe<q.length;oe++){const Ie=q[oe];Ie[17]===Ie[3]&&lv(Ie[1],Ie,H,a)}if(null!==q[9]){const oe=q[9];for(let Ie=0;Ie<oe.length;Ie++){const je=oe[Ie];lv(je[1],je,H,a)}}}}}return a}function H0(n){const r=j(),s=Ve(),a=Wa();pu(a+1);const l=K0(s,a);if(n.dirty&&Pn(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const f=l.crossesNgTemplate?lv(s,r,a,[]):j0(s,r,l,a);n.reset(f,pw),n.notifyOnChanges()}return!0}return!1}function $0(n,r,s){const a=Ve();a.firstCreatePass&&(q0(a,new B0(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),W0(a,j(),r)}function G0(n,r,s,a){const l=Ve();if(l.firstCreatePass){const f=hn();q0(l,new B0(r,s,a),f.index),function Xw(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}W0(l,j(),s)}function z0(){return function Jw(n,r){return n[19].queries[r].queryList}(j(),Wa())}function W0(n,r,s){const a=new rv(4==(4&s));bg(n,r,a,a.destroy),null===r[19]&&(r[19]=new ov),r[19].queries.push(new sv(a))}function q0(n,r,s){null===n.queries&&(n.queries=new av),n.queries.track(new uv(r,s))}function K0(n,r){return n.queries.getByIndex(r)}const yb=pi("Input",n=>({bindingPropertyName:n})),_b=pi("Output",n=>({bindingPropertyName:n}));function cy(...n){}const dE=new Zn("Application Initializer");let gv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=cy,this.reject=cy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(ap(f))s.push(f);else if(w_(f)){const _=new Promise((C,x)=>{f.subscribe({complete:C,error:x})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(P(dE,8))},n.\u0275prov=Zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hE=new Zn("AppId",{providedIn:"root",factory:function fE(){return`${mv()}${mv()}${mv()}`}});function mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pE=new Zn("Platform Initializer"),gE=new Zn("Platform ID"),mE=new Zn("appBootstrapListener");let yE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Zt({token:n,factory:n.\u0275fac}),n})();const yv=new Zn("LocaleId",{providedIn:"root",factory:()=>ne(yv,At.Optional|At.SkipSelf)||function vb(){return"undefined"!=typeof $localize&&$localize.locale||xu}()}),Eb=new Zn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wb{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let bb=(()=>{class n{compileModuleSync(s){return new tv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),f=Iu(pn(s).declarations).reduce((_,C)=>{const x=St(C);return x&&_.push(new ev(x)),_},[]);return new wb(a,f)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Db=(()=>Promise.resolve(0))();function _v(n){"undefined"==typeof Zone?Db.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ku{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dl(!1),this.onMicrotaskEmpty=new Dl(!1),this.onStable=new Dl(!1),this.onError=new Dl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Cb(){let n=Xt.requestAnimationFrame,r=Xt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Sb(n){const r=()=>{!function Ab(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Xt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ev(n),n.isCheckStableRunning=!0,vv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ev(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,f,_,C)=>{try{return _E(n),s.invokeTask(l,f,_,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&r(),vE(n)}},onInvoke:(s,a,l,f,_,C,x)=>{try{return _E(n),s.invoke(l,f,_,C,x)}finally{n.shouldCoalesceRunChangeDetection&&r(),vE(n)}},onHasTask:(s,a,l,f)=>{s.hasTask(l,f),a===l&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,Ev(n),vv(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,a,l,f)=>(s.handleError(l,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ku.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ku.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+l,r,Tb,cy,cy);try{return f.runTask(_,s,a)}finally{f.cancelTask(_)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Tb={};function vv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ev(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function _E(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vE(n){n._nesting--,vv(n)}class Mb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dl,this.onMicrotaskEmpty=new Dl,this.onStable=new Dl,this.onError=new Dl}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}let EE=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ku.assertNotInAngularZone(),_v(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_v(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:f,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(P(Ku))},n.\u0275prov=Zt({token:n,factory:n.\u0275fac}),n})(),wE=(()=>{class n{constructor(){this._applications=new Map,wv.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return wv.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Zt({token:n,factory:n.\u0275fac}),n})();class xb{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function Ob(n){wv=n}let Zu,wv=new xb;const bE=new Zn("AllowMultipleToken");class Nb{constructor(r,s){this.name=r,this.token=s}}function IE(n,r,s=[]){const a=`Platform: ${r}`,l=new Zn(a);return(f=[])=>{let _=DE();if(!_||_.injector.get(bE,!1))if(n)n(s.concat(f).concat({provide:l,useValue:!0}));else{const C=s.concat(f).concat({provide:l,useValue:!0},{provide:od,useValue:"platform"});!function kb(n){if(Zu&&!Zu.destroyed&&!Zu.injector.get(bE,!1))throw new ot(400,"");Zu=n.get(CE);const r=n.get(pE,null);r&&r.forEach(s=>s())}(_a.create({providers:C,name:a}))}return function Fb(n){const r=DE();if(!r)throw new ot(401,"");return r}()}}function DE(){return Zu&&!Zu.destroyed?Zu:null}let CE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const C=function Lb(n,r){let s;return s="noop"===n?new Mb:("zone.js"===n?void 0:n)||new Ku({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),x=[{provide:Ku,useValue:C}];return C.run(()=>{const H=_a.create({providers:x,parent:this.injector,name:s.moduleType.name}),q=s.create(H),oe=q.injector.get(rl,null);if(!oe)throw new ot(402,"");return C.runOutsideAngular(()=>{const Ie=C.onError.subscribe({next:je=>{oe.handleError(je)}});q.onDestroy(()=>{Iv(this._modules,q),Ie.unsubscribe()})}),function Vb(n,r,s){try{const a=s();return ap(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(oe,C,()=>{const Ie=q.injector.get(gv);return Ie.runInitializers(),Ie.donePromise.then(()=>(function j_(n){Pt(n,"Expected localeId to be defined"),"string"==typeof n&&(Ru=n.toLowerCase().replace(/_/g,"-"))}(q.injector.get(yv,xu)||xu),this._moduleDoBootstrap(q),q))})})}bootstrapModule(s,a=[]){const l=TE({},a);return function Rb(n,r,s){const a=new tv(s);return Promise.resolve(a)}(0,0,s).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(s){const a=s.injector.get(bv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new ot(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ot(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(P(_a))},n.\u0275prov=Zt({token:n,factory:n.\u0275fac}),n})();function TE(n,r){return Array.isArray(r)?r.reduce(TE,n):Object.assign(Object.assign({},n),r)}let bv=(()=>{class n{constructor(s,a,l,f,_){this._zone=s,this._injector=a,this._exceptionHandler=l,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new K.y(H=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{H.next(this._stable),H.complete()})}),x=new K.y(H=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{Ku.assertNotInAngularZone(),_v(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,H.next(!0))})})});const oe=this._zone.onUnstable.subscribe(()=>{Ku.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{H.next(!1)}))});return()=>{q.unsubscribe(),oe.unsubscribe()}});this.isStable=(0,fe.T)(C,x.pipe((0,ge.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new ot(405,"");let l;l=s instanceof y0?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(l.componentType);const f=function Pb(n){return n.isBoundToModule}(l)?void 0:this._injector.get(jh),C=l.create(_a.NULL,[],a||l.selector,f),x=C.location.nativeElement,H=C.injector.get(EE,null),q=H&&C.injector.get(wE);return H&&q&&q.registerApplication(x,H),C.onDestroy(()=>{this.detachView(C.hostView),Iv(this.components,C),q&&q.unregisterApplication(x)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new ot(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Iv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(mE,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(P(Ku),P(_a),P(rl),P(iy),P(gv))},n.\u0275prov=Zt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Iv(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let SE=!0,ME=!1;function Bb(){return ME=!0,SE}function jb(){if(ME)throw new Error("Cannot enable prod mode after platform setup.");SE=!1}let Hb=(()=>{class n{}return n.__NG_ELEMENT_ID__=$b,n})();function $b(n){return function Gb(n,r,s){if(Sn(n)&&!s){const a=On(n.index,r);return new Ap(a,a)}return 47&n.type?new Ap(r[16],r):null}(hn(),j(),16==(16&n))}class PE{constructor(){}supports(r){return hd(r)}create(r){return new Yb(r)}}const Zb=(n,r)=>r;class Yb{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Zb}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,f=null;for(;s||a;){const _=!a||s&&s.currentIndex<kE(a,l,f)?s:a,C=kE(_,l,f),x=_.currentIndex;if(_===a)l--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)l++;else{f||(f=[]);const H=C-l,q=x-l;if(H!=q){for(let Ie=0;Ie<H;Ie++){const je=Ie<f.length?f[Ie]:f[Ie]=0,lt=je+Ie;q<=lt&&lt<H&&(f[Ie]=je+1)}f[_.previousIndex]=q-H}}C!==x&&r(_,C,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!hd(r))throw new ot(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,f,_,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)f=r[C],_=this._trackByFn(C,f),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,f,_,C)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,_,C),a=!0),s=s._next}else l=0,function h_(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[sa()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,C=>{_=this._trackByFn(l,C),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,C,_,l)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,_,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let f;return null===r?f=this._itTail:(f=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,f,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,f,l)):r=this._addAfter(new Qb(s,a),f,l),r}_verifyReinsertion(r,s,a,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?r=this._reinsertAfter(f,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,f=r._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new NE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Qb{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jb{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class NE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Jb,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kE(n,r,s){const a=n.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class FE{constructor(){}supports(r){return r instanceof Map||Wf(r)}create(){return new Xb}}class Xb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Wf(r)))throw new ot(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const f=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,f)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const f=l._prev,_=l._next;return f&&(f._next=_),_&&(_._prev=f),l._next=null,l._prev=null,l}const a=new eI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class eI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LE(){return new Sv([new PE])}let Sv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||LE()),deps:[[n,new An,new En]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new ot(901,"")}}return n.\u0275prov=Zt({token:n,providedIn:"root",factory:LE}),n})();function VE(){return new Mv([new FE])}let Mv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||VE()),deps:[[n,new An,new En]]}}find(s){const a=this.factories.find(f=>f.supports(s));if(a)return a;throw new ot(901,"")}}return n.\u0275prov=Zt({token:n,providedIn:"root",factory:VE}),n})();const rI=IE(null,"core",[{provide:gE,useValue:"unknown"},{provide:CE,deps:[_a]},{provide:wE,deps:[]},{provide:yE,deps:[]}]);let iI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(P(bv))},n.\u0275mod=te({type:n}),n.\u0275inj=Yt({}),n})()},2382:(Rt,Ge,B)=>{B.d(Ge,{Fj:()=>it,qu:()=>ri,u5:()=>en,JJ:()=>we,JL:()=>De,F:()=>dr,YN:()=>ns,wV:()=>Ce,kI:()=>Oe,_Y:()=>qi,Kr:()=>Hr});var m=B(5e3),E=B(9808),K=B(8306),fe=B(4742),ge=B(8421),ve=B(7669),Te=B(5403),Se=B(3268),Me=B(1810),he=B(8996),Pe=B(4004);let It=(()=>{class V{constructor(O,j){this._renderer=O,this._elementRef=j,this.onChange=Ve=>{},this.onTouched=()=>{}}setProperty(O,j){this._renderer.setProperty(this._elementRef.nativeElement,O,j)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return V.\u0275fac=function(O){return new(O||V)(m.Y36(m.Qsj),m.Y36(m.SBq))},V.\u0275dir=m.lG2({type:V}),V})(),rt=(()=>{class V extends It{}return V.\u0275fac=function(){let N;return function(j){return(N||(N=m.n5z(V)))(j||V)}}(),V.\u0275dir=m.lG2({type:V,features:[m.qOj]}),V})();const ot=new m.OlP("NgValueAccessor"),nt={provide:ot,useExisting:(0,m.Gpc)(()=>it),multi:!0},Dt=new m.OlP("CompositionEventMode");let it=(()=>{class V extends It{constructor(O,j,Ve){super(O,j),this._compositionMode=Ve,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ot(){const V=(0,E.q)()?(0,E.q)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(O){this.setProperty("value",null==O?"":O)}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return V.\u0275fac=function(O){return new(O||V)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(Dt,8))},V.\u0275dir=m.lG2({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,j){1&O&&m.NdJ("input",function(Vt){return j._handleInput(Vt.target.value)})("blur",function(){return j.onTouched()})("compositionstart",function(){return j._compositionStart()})("compositionend",function(Vt){return j._compositionEnd(Vt.target.value)})},features:[m._Bn([nt]),m.qOj]}),V})();function Le(V){return null==V||0===V.length}function Qe(V){return null!=V&&"number"==typeof V.length}const mt=new m.OlP("NgValidators"),Ne=new m.OlP("NgAsyncValidators"),Ee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Oe{static min(N){return function $e(V){return N=>{if(Le(N.value)||Le(V))return null;const O=parseFloat(N.value);return!isNaN(O)&&O<V?{min:{min:V,actual:N.value}}:null}}(N)}static max(N){return function pe(V){return N=>{if(Le(N.value)||Le(V))return null;const O=parseFloat(N.value);return!isNaN(O)&&O>V?{max:{max:V,actual:N.value}}:null}}(N)}static required(N){return function qe(V){return Le(V.value)?{required:!0}:null}(N)}static requiredTrue(N){return function Fe(V){return!0===V.value?null:{required:!0}}(N)}static email(N){return function Ue(V){return Le(V.value)||Ee.test(V.value)?null:{email:!0}}(N)}static minLength(N){return function Ht(V){return N=>Le(N.value)||!Qe(N.value)?null:N.value.length<V?{minlength:{requiredLength:V,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function Ut(V){return N=>Qe(N.value)&&N.value.length>V?{maxlength:{requiredLength:V,actualLength:N.value.length}}:null}(N)}static pattern(N){return function Gn(V){if(!V)return Pt;let N,O;return"string"==typeof V?(O="","^"!==V.charAt(0)&&(O+="^"),O+=V,"$"!==V.charAt(V.length-1)&&(O+="$"),N=new RegExp(O)):(O=V.toString(),N=V),j=>{if(Le(j.value))return null;const Ve=j.value;return N.test(Ve)?null:{pattern:{requiredPattern:O,actualValue:Ve}}}}(N)}static nullValidator(N){return null}static compose(N){return Yt(N)}static composeAsync(N){return zn(N)}}function Pt(V){return null}function Lt(V){return null!=V}function Ln(V){const N=(0,m.QGY)(V)?(0,he.D)(V):V;return(0,m.CqO)(N),N}function yn(V){let N={};return V.forEach(O=>{N=null!=O?Object.assign(Object.assign({},N),O):N}),0===Object.keys(N).length?null:N}function kn(V,N){return N.map(O=>O(V))}function Bt(V){return V.map(N=>function Zt(V){return!V.validate}(N)?N:O=>N.validate(O))}function Yt(V){if(!V)return null;const N=V.filter(Lt);return 0==N.length?null:function(O){return yn(kn(O,N))}}function Xn(V){return null!=V?Yt(Bt(V)):null}function zn(V){if(!V)return null;const N=V.filter(Lt);return 0==N.length?null:function(O){return function ce(...V){const N=(0,ve.jO)(V),{args:O,keys:j}=(0,fe.D)(V),Ve=new K.y(Vt=>{const{length:hn}=O;if(!hn)return void Vt.complete();const Lr=new Array(hn);let Jr=hn,ui=hn;for(let bi=0;bi<hn;bi++){let li=!1;(0,ge.Xf)(O[bi]).subscribe((0,Te.x)(Vt,Lo=>{li||(li=!0,ui--),Lr[bi]=Lo},()=>Jr--,void 0,()=>{(!Jr||!li)&&(ui||Vt.next(j?(0,Me.n)(j,Lr):Lr),Vt.complete())}))}});return N?Ve.pipe((0,Se.Z)(N)):Ve}(kn(O,N).map(Ln)).pipe((0,Pe.U)(yn))}}function Fn(V){return null!=V?zn(Bt(V)):null}function Wn(V,N){return null===V?[N]:Array.isArray(V)?[...V,N]:[V,N]}function ar(V){return V?Array.isArray(V)?V:[V]:[]}function _n(V,N){return Array.isArray(V)?V.includes(N):V===N}function wr(V,N){const O=ar(N);return ar(V).forEach(Ve=>{_n(O,Ve)||O.push(Ve)}),O}function At(V,N){return ar(N).filter(O=>!_n(V,O))}class br{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=Xn(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=Fn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,O){return!!this.control&&this.control.hasError(N,O)}getError(N,O){return this.control?this.control.getError(N,O):null}}class In extends br{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nn extends br{get formDirective(){return null}get path(){return null}}class lr{constructor(N){this._cd=N}is(N){var O,j,Ve;return"submitted"===N?!!(null===(O=this._cd)||void 0===O?void 0:O.submitted):!!(null===(Ve=null===(j=this._cd)||void 0===j?void 0:j.control)||void 0===Ve?void 0:Ve[N])}}let we=(()=>{class V extends lr{constructor(O){super(O)}}return V.\u0275fac=function(O){return new(O||V)(m.Y36(In,2))},V.\u0275dir=m.lG2({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,j){2&O&&m.ekj("ng-untouched",j.is("untouched"))("ng-touched",j.is("touched"))("ng-pristine",j.is("pristine"))("ng-dirty",j.is("dirty"))("ng-valid",j.is("valid"))("ng-invalid",j.is("invalid"))("ng-pending",j.is("pending"))},features:[m.qOj]}),V})(),De=(()=>{class V extends lr{constructor(O){super(O)}}return V.\u0275fac=function(O){return new(O||V)(m.Y36(nn,10))},V.\u0275dir=m.lG2({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(O,j){2&O&&m.ekj("ng-untouched",j.is("untouched"))("ng-touched",j.is("touched"))("ng-pristine",j.is("pristine"))("ng-dirty",j.is("dirty"))("ng-valid",j.is("valid"))("ng-invalid",j.is("invalid"))("ng-pending",j.is("pending"))("ng-submitted",j.is("submitted"))},features:[m.qOj]}),V})();function ye(V,N){V.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(N)})}function Ae(V,N){const O=function or(V){return V._rawValidators}(V);null!==N.validator?V.setValidators(Wn(O,N.validator)):"function"==typeof O&&V.setValidators([O]);const j=function Er(V){return V._rawAsyncValidators}(V);null!==N.asyncValidator?V.setAsyncValidators(Wn(j,N.asyncValidator)):"function"==typeof j&&V.setAsyncValidators([j]);const Ve=()=>V.updateValueAndValidity();ye(N._rawValidators,Ve),ye(N._rawAsyncValidators,Ve)}function ue(V,N){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function fr(V,N){const O=V.indexOf(N);O>-1&&V.splice(O,1)}const Mt="VALID",bn="INVALID",rn="PENDING",Un="DISABLED";function pr(V){return(Mi(V)?V.validators:V)||null}function Gr(V){return Array.isArray(V)?Xn(V):V||null}function Hn(V,N){return(Mi(N)?N.asyncValidators:V)||null}function gr(V){return Array.isArray(V)?Fn(V):V||null}function Mi(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}const Cn=V=>V instanceof Cr,xi=V=>V instanceof Nr,Ar=V=>V instanceof Rn;function Ys(V){return Cn(V)?V.value:V.getRawValue()}function ni(V,N){const O=xi(V),j=V.controls;if(!(O?Object.keys(j):j).length)throw new m.vHH(1e3,"");if(!j[N])throw new m.vHH(1001,"")}function Dr(V,N){xi(V),V._forEachChild((j,Ve)=>{if(void 0===N[Ve])throw new m.vHH(1002,"")})}class Br{constructor(N,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=N,this._rawAsyncValidators=O,this._composedValidatorFn=Gr(this._rawValidators),this._composedAsyncValidatorFn=gr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===Mt}get invalid(){return this.status===bn}get pending(){return this.status==rn}get disabled(){return this.status===Un}get enabled(){return this.status!==Un}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._rawValidators=N,this._composedValidatorFn=Gr(N)}setAsyncValidators(N){this._rawAsyncValidators=N,this._composedAsyncValidatorFn=gr(N)}addValidators(N){this.setValidators(wr(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(wr(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(At(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(At(N,this._rawAsyncValidators))}hasValidator(N){return _n(this._rawValidators,N)}hasAsyncValidator(N){return _n(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=rn,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const O=this._parentMarkedDirty(N.onlySelf);this.status=Un,this.errors=null,this._forEachChild(j=>{j.disable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:O})),this._onDisabledChange.forEach(j=>j(!0))}enable(N={}){const O=this._parentMarkedDirty(N.onlySelf);this.status=Mt,this._forEachChild(j=>{j.enable(Object.assign(Object.assign({},N),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},N),{skipPristineCheck:O})),this._onDisabledChange.forEach(j=>j(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mt||this.status===rn)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Un:Mt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=rn,this._hasOwnPendingAsyncValidator=!0;const O=Ln(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(j=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(j,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,O={}){this.errors=N,this._updateControlsErrors(!1!==O.emitEvent)}get(N){return function vi(V,N,O){if(null==N||(Array.isArray(N)||(N=N.split(O)),Array.isArray(N)&&0===N.length))return null;let j=V;return N.forEach(Ve=>{j=xi(j)?j.controls.hasOwnProperty(Ve)?j.controls[Ve]:null:Ar(j)&&j.at(Ve)||null}),j}(this,N,".")}getError(N,O){const j=O?this.get(O):this;return j&&j.errors?j.errors[N]:null}hasError(N,O){return!!this.getError(N,O)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?Un:this.errors?bn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rn)?rn:this._anyControlsHaveStatus(bn)?bn:Mt}_anyControlsHaveStatus(N){return this._anyControls(O=>O.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_isBoxedValue(N){return"object"==typeof N&&null!==N&&2===Object.keys(N).length&&"value"in N&&"disabled"in N}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){Mi(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Cr extends Br{constructor(N=null,O,j){super(pr(O),Hn(j,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mi(O)&&O.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(N)?N.value:N)}setValue(N,O={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(j=>j(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(N,O={}){this.setValue(N,O)}reset(N=this.defaultValue,O={}){this._applyFormState(N),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){fr(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){fr(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){this._isBoxedValue(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}}class Nr extends Br{constructor(N,O,j){super(pr(O),Hn(j,O)),this.controls=N,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,O){return this.controls[N]?this.controls[N]:(this.controls[N]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(N,O,j={}){this.registerControl(N,O),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}removeControl(N,O={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(N,O,j={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],O&&this.registerControl(N,O),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,O={}){Dr(this,N),Object.keys(N).forEach(j=>{ni(this,j),this.controls[j].setValue(N[j],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(N,O={}){null!=N&&(Object.keys(N).forEach(j=>{this.controls[j]&&this.controls[j].patchValue(N[j],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(N={},O={}){this._forEachChild((j,Ve)=>{j.reset(N[Ve],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(N,O,j)=>(N[j]=Ys(O),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(O,j)=>!!j._syncPendingControls()||O);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(O=>{const j=this.controls[O];j&&N(j,O)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const O of Object.keys(this.controls)){const j=this.controls[O];if(this.contains(O)&&N(j))return!0}return!1}_reduceValue(){return this._reduceChildren({},(N,O,j)=>((O.enabled||this.disabled)&&(N[j]=O.value),N))}_reduceChildren(N,O){let j=N;return this._forEachChild((Ve,Vt)=>{j=O(j,Ve,Vt)}),j}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Rn extends Br{constructor(N,O,j){super(pr(O),Hn(j,O)),this.controls=N,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(N){return this.controls[N]}push(N,O={}){this.controls.push(N),this._registerControl(N),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(N,O,j={}){this.controls.splice(N,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:j.emitEvent})}removeAt(N,O={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(N,O,j={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),this.controls.splice(N,1),O&&(this.controls.splice(N,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(N,O={}){Dr(this,N),N.forEach((j,Ve)=>{ni(this,Ve),this.at(Ve).setValue(j,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(N,O={}){null!=N&&(N.forEach((j,Ve)=>{this.at(Ve)&&this.at(Ve).patchValue(j,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(N=[],O={}){this._forEachChild((j,Ve)=>{j.reset(N[Ve],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(N=>Ys(N))}clear(N={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:N.emitEvent}))}_syncPendingControls(){let N=this.controls.reduce((O,j)=>!!j._syncPendingControls()||O,!1);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){this.controls.forEach((O,j)=>{N(O,j)})}_updateValue(){this.value=this.controls.filter(N=>N.enabled||this.disabled).map(N=>N.value)}_anyControls(N){return this.controls.some(O=>O.enabled&&N(O))}_setUpControls(){this._forEachChild(N=>this._registerControl(N))}_allControlsDisabled(){for(const N of this.controls)if(N.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(N){N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)}}const ds={provide:nn,useExisting:(0,m.Gpc)(()=>dr)},Oi=(()=>Promise.resolve(null))();let dr=(()=>{class V extends nn{constructor(O,j){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new m.vpe,this.form=new Nr({},Xn(O),Fn(j))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(O){Oi.then(()=>{const j=this._findContainer(O.path);O.control=j.registerControl(O.name,O.control),function dn(V,N){Ae(V,N),N.valueAccessor.writeValue(V.value),function te(V,N){N.valueAccessor.registerOnChange(O=>{V._pendingValue=O,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&ue(V,N)})}(V,N),function ze(V,N){const O=(j,Ve)=>{N.valueAccessor.writeValue(j),Ve&&N.viewToModelUpdate(j)};V.registerOnChange(O),N._registerOnDestroy(()=>{V._unregisterOnChange(O)})}(V,N),function se(V,N){N.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&ue(V,N),"submit"!==V.updateOn&&V.markAsTouched()})}(V,N),function le(V,N){if(N.valueAccessor.setDisabledState){const O=j=>{N.valueAccessor.setDisabledState(j)};V.registerOnDisabledChange(O),N._registerOnDestroy(()=>{V._unregisterOnDisabledChange(O)})}}(V,N)}(O.control,O),O.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(O)})}getControl(O){return this.form.get(O.path)}removeControl(O){Oi.then(()=>{const j=this._findContainer(O.path);j&&j.removeControl(O.name),this._directives.delete(O)})}addFormGroup(O){Oi.then(()=>{const j=this._findContainer(O.path),Ve=new Nr({});(function Xe(V,N){Ae(V,N)})(Ve,O),j.registerControl(O.name,Ve),Ve.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(O){Oi.then(()=>{const j=this._findContainer(O.path);j&&j.removeControl(O.name)})}getFormGroup(O){return this.form.get(O.path)}updateModel(O,j){Oi.then(()=>{this.form.get(O.path).setValue(j)})}setValue(O){this.control.setValue(O)}onSubmit(O){return this.submitted=!0,function _r(V,N){V._syncPendingControls(),N.forEach(O=>{const j=O.control;"submit"===j.updateOn&&j._pendingChange&&(O.viewToModelUpdate(j._pendingValue),j._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(O),!1}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(O){return O.pop(),O.length?this.form.get(O):this.form}}return V.\u0275fac=function(O){return new(O||V)(m.Y36(mt,10),m.Y36(Ne,10))},V.\u0275dir=m.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(O,j){1&O&&m.NdJ("submit",function(Vt){return j.onSubmit(Vt)})("reset",function(){return j.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([ds]),m.qOj]}),V})(),qi=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275dir=m.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),V})();const xe={provide:ot,useExisting:(0,m.Gpc)(()=>Ce),multi:!0};let Ce=(()=>{class V extends rt{writeValue(O){this.setProperty("value",null==O?"":O)}registerOnChange(O){this.onChange=j=>{O(""==j?null:parseFloat(j))}}}return V.\u0275fac=function(){let N;return function(j){return(N||(N=m.n5z(V)))(j||V)}}(),V.\u0275dir=m.lG2({type:V,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(O,j){1&O&&m.NdJ("input",function(Vt){return j.onChange(Vt.target.value)})("blur",function(){return j.onTouched()})},features:[m._Bn([xe]),m.qOj]}),V})(),pt=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({}),V})();const Qr=new m.OlP("NgModelWithFormControlWarning"),Xs={provide:ot,useExisting:(0,m.Gpc)(()=>jr),multi:!0};function wi(V,N){return null==V?`${N}`:(N&&"object"==typeof N&&(N="Object"),`${V}: ${N}`.slice(0,50))}let jr=(()=>{class V extends rt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){this.value=O;const Ve=wi(this._getOptionId(O),O);this.setProperty("value",Ve)}registerOnChange(O){this.onChange=j=>{this.value=this._getOptionValue(j),O(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(O){for(const j of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(j),O))return j;return null}_getOptionValue(O){const j=function Ko(V){return V.split(":")[0]}(O);return this._optionMap.has(j)?this._optionMap.get(j):O}}return V.\u0275fac=function(){let N;return function(j){return(N||(N=m.n5z(V)))(j||V)}}(),V.\u0275dir=m.lG2({type:V,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(O,j){1&O&&m.NdJ("change",function(Vt){return j.onChange(Vt.target.value)})("blur",function(){return j.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Xs]),m.qOj]}),V})(),ns=(()=>{class V{constructor(O,j,Ve){this._element=O,this._renderer=j,this._select=Ve,this._select&&(this.id=this._select._registerOption())}set ngValue(O){null!=this._select&&(this._select._optionMap.set(this.id,O),this._setElementValue(wi(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._setElementValue(O),this._select&&this._select.writeValue(this._select.value)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return V.\u0275fac=function(O){return new(O||V)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(jr,9))},V.\u0275dir=m.lG2({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),V})();const Co={provide:ot,useExisting:(0,m.Gpc)(()=>Ki),multi:!0};function ws(V,N){return null==V?`${N}`:("string"==typeof N&&(N=`'${N}'`),N&&"object"==typeof N&&(N="Object"),`${V}: ${N}`.slice(0,50))}let Ki=(()=>{class V extends rt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(O){this._compareWith=O}writeValue(O){let j;if(this.value=O,Array.isArray(O)){const Ve=O.map(Vt=>this._getOptionId(Vt));j=(Vt,hn)=>{Vt._setSelected(Ve.indexOf(hn.toString())>-1)}}else j=(Ve,Vt)=>{Ve._setSelected(!1)};this._optionMap.forEach(j)}registerOnChange(O){this.onChange=j=>{const Ve=[],Vt=j.selectedOptions;if(void 0!==Vt){const hn=Vt;for(let Lr=0;Lr<hn.length;Lr++){const ui=this._getOptionValue(hn[Lr].value);Ve.push(ui)}}else{const hn=j.options;for(let Lr=0;Lr<hn.length;Lr++){const Jr=hn[Lr];if(Jr.selected){const ui=this._getOptionValue(Jr.value);Ve.push(ui)}}}this.value=Ve,O(Ve)}}_registerOption(O){const j=(this._idCounter++).toString();return this._optionMap.set(j,O),j}_getOptionId(O){for(const j of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(j)._value,O))return j;return null}_getOptionValue(O){const j=function Mr(V){return V.split(":")[0]}(O);return this._optionMap.has(j)?this._optionMap.get(j)._value:O}}return V.\u0275fac=function(){let N;return function(j){return(N||(N=m.n5z(V)))(j||V)}}(),V.\u0275dir=m.lG2({type:V,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(O,j){1&O&&m.NdJ("change",function(Vt){return j.onChange(Vt.target)})("blur",function(){return j.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Co]),m.qOj]}),V})(),Hr=(()=>{class V{constructor(O,j,Ve){this._element=O,this._renderer=j,this._select=Ve,this._select&&(this.id=this._select._registerOption(this))}set ngValue(O){null!=this._select&&(this._value=O,this._setElementValue(ws(this.id,O)),this._select.writeValue(this._select.value))}set value(O){this._select?(this._value=O,this._setElementValue(ws(this.id,O)),this._select.writeValue(this._select.value)):this._setElementValue(O)}_setElementValue(O){this._renderer.setProperty(this._element.nativeElement,"value",O)}_setSelected(O){this._renderer.setProperty(this._element.nativeElement,"selected",O)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return V.\u0275fac=function(O){return new(O||V)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Ki,9))},V.\u0275dir=m.lG2({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),V})(),ai=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({imports:[[pt]]}),V})(),en=(()=>{class V{}return V.\u0275fac=function(O){return new(O||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({imports:[ai]}),V})(),ss=(()=>{class V{static withConfig(O){return{ngModule:V,providers:[{provide:Qr,useValue:O.warnOnNgModelWithFormControl}]}}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275mod=m.oAB({type:V}),V.\u0275inj=m.cJS({imports:[ai]}),V})(),ri=(()=>{class V{group(O,j=null){const Ve=this._reduceControls(O);let Lr,Vt=null,hn=null;return null!=j&&(function Is(V){return void 0!==V.asyncValidators||void 0!==V.validators||void 0!==V.updateOn}(j)?(Vt=null!=j.validators?j.validators:null,hn=null!=j.asyncValidators?j.asyncValidators:null,Lr=null!=j.updateOn?j.updateOn:void 0):(Vt=null!=j.validator?j.validator:null,hn=null!=j.asyncValidator?j.asyncValidator:null)),new Nr(Ve,{asyncValidators:hn,updateOn:Lr,validators:Vt})}control(O,j,Ve){return new Cr(O,j,Ve)}array(O,j,Ve){const Vt=O.map(hn=>this._createControl(hn));return new Rn(Vt,j,Ve)}_reduceControls(O){const j={};return Object.keys(O).forEach(Ve=>{j[Ve]=this._createControl(O[Ve])}),j}_createControl(O){return Cn(O)||xi(O)||Ar(O)?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac,providedIn:ss}),V})()},4232:(Rt,Ge,B)=>{B.d(Ge,{gz:()=>Oi,y6:()=>Zi,c9:()=>At,m2:()=>or,OD:()=>Wn,wm:()=>ca,F0:()=>di,rH:()=>zs,Od:()=>hs,yS:()=>so,Bz:()=>ao,lC:()=>eo});var m=B(5e3),E=B(8306),K=B(4742),fe=B(8996),ge=B(4671),ve=B(3268),Te=B(7669),Se=B(1810),Me=B(5403),ce=B(9672);function It(T,D,w){T?(0,ce.f)(w,T,D):D()}var rt=B(576);function ot(T,D){const w=(0,rt.m)(T)?T:()=>T,M=L=>L.error(w());return new E.y(D?L=>D.schedule(M,0,L):M)}var dt=B(8421);function We(T){return new E.y(D=>{(0,dt.Xf)(T()).subscribe(D)})}var nt=B(727),Ot=B(4482);function Dt(){return(0,Ot.e)((T,D)=>{let w=null;T._refCount++;const M=(0,Me.x)(D,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(w=null);const L=T._connection,Q=w;w=null,L&&(!Q||L===Q)&&L.unsubscribe(),D.unsubscribe()});T.subscribe(M),M.closed||(w=T.connect())})}class it extends E.y{constructor(D,w){super(),this.source=D,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,Ot.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new nt.w0;const w=this.getSubject();D.add(this.source.subscribe((0,Me.x)(w,void 0,()=>{this._teardown(),w.complete()},M=>{this._teardown(),w.error(M)},()=>this._teardown()))),D.closed&&(this._connection=null,D=nt.w0.EMPTY)}return D}refCount(){return Dt()(this)}}var Le=B(9646),Qe=B(1135),mt=B(6805),Ne=B(7272),Ee=B(515),Oe=B(7579),$e=B(9300);function pe(T){return T<=0?()=>Ee.E:(0,Ot.e)((D,w)=>{let M=[];D.subscribe((0,Me.x)(w,L=>{M.push(L),T<M.length&&M.shift()},()=>{for(const L of M)w.next(L);w.complete()},void 0,()=>{M=null}))})}var qe=B(8068),Fe=B(6590),Ut=B(4004),Gn=B(3900),Pt=B(5698),Lt=B(8675),Ln=B(2940),yn=B(262),kn=B(4351),Zt=B(590),Bt=B(5577),Yt=B(8505),Xn=B(8189),zn=B(9808);class Fn{constructor(D,w){this.id=D,this.url=w}}class Wn extends Fn{constructor(D,w,M="imperative",L=null){super(D,w),this.navigationTrigger=M,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class or extends Fn{constructor(D,w,M){super(D,w),this.urlAfterRedirects=M}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Er extends Fn{constructor(D,w,M){super(D,w),this.reason=M}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ar extends Fn{constructor(D,w,M){super(D,w),this.error=M}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _n extends Fn{constructor(D,w,M,L){super(D,w),this.urlAfterRedirects=M,this.state=L}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wr extends Fn{constructor(D,w,M,L){super(D,w),this.urlAfterRedirects=M,this.state=L}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class At extends Fn{constructor(D,w,M,L,Q){super(D,w),this.urlAfterRedirects=M,this.state=L,this.shouldActivate=Q}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class br extends Fn{constructor(D,w,M,L){super(D,w),this.urlAfterRedirects=M,this.state=L}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class In extends Fn{constructor(D,w,M,L){super(D,w),this.urlAfterRedirects=M,this.state=L}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nn{constructor(D){this.route=D}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lr{constructor(D){this.route=D}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oi{constructor(D){this.snapshot=D}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tt{constructor(D){this.snapshot=D}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class we{constructor(D){this.snapshot=D}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(D){this.snapshot=D}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ct{constructor(D,w,M){this.routerEvent=D,this.position=w,this.anchor=M}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ke="primary";class ft{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const w=this.params[D];return Array.isArray(w)?w[0]:w}return null}getAll(D){if(this.has(D)){const w=this.params[D];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function ht(T){return new ft(T)}const Vn="ngNavigationCancelingError";function ln(T){const D=Error("NavigationCancelingError: "+T);return D[Vn]=!0,D}function Ur(T,D,w){const M=w.path.split("/");if(M.length>T.length||"full"===w.pathMatch&&(D.hasChildren()||M.length<T.length))return null;const L={};for(let Q=0;Q<M.length;Q++){const ee=M[Q],J=T[Q];if(ee.startsWith(":"))L[ee.substring(1)]=J;else if(ee!==J.path)return null}return{consumed:T.slice(0,M.length),posParams:L}}function cn(T,D){const w=T?Object.keys(T):void 0,M=D?Object.keys(D):void 0;if(!w||!M||w.length!=M.length)return!1;let L;for(let Q=0;Q<w.length;Q++)if(L=w[Q],!Ct(T[L],D[L]))return!1;return!0}function Ct(T,D){if(Array.isArray(T)&&Array.isArray(D)){if(T.length!==D.length)return!1;const w=[...T].sort(),M=[...D].sort();return w.every((L,Q)=>M[Q]===L)}return T===D}function wn(T){return Array.prototype.concat.apply([],T)}function fn(T){return T.length>0?T[T.length-1]:null}function Ze(T,D){for(const w in T)T.hasOwnProperty(w)&&D(T[w],w)}function Tt(T){return(0,m.CqO)(T)?T:(0,m.QGY)(T)?(0,fe.D)(Promise.resolve(T)):(0,Le.of)(T)}const dn={exact:function Ae(T,D,w){if(!Nt(T.segments,D.segments)||!ue(T.segments,D.segments,w)||T.numberOfChildren!==D.numberOfChildren)return!1;for(const M in D.children)if(!T.children[M]||!Ae(T.children[M],D.children[M],w))return!1;return!0},subset:te},vn={exact:function le(T,D){return cn(T,D)},subset:function Je(T,D){return Object.keys(D).length<=Object.keys(T).length&&Object.keys(D).every(w=>Ct(T[w],D[w]))},ignored:()=>!0};function ye(T,D,w){return dn[w.paths](T.root,D.root,w.matrixParams)&&vn[w.queryParams](T.queryParams,D.queryParams)&&!("exact"===w.fragment&&T.fragment!==D.fragment)}function te(T,D,w){return se(T,D,D.segments,w)}function se(T,D,w,M){if(T.segments.length>w.length){const L=T.segments.slice(0,w.length);return!(!Nt(L,w)||D.hasChildren()||!ue(L,w,M))}if(T.segments.length===w.length){if(!Nt(T.segments,w)||!ue(T.segments,w,M))return!1;for(const L in D.children)if(!T.children[L]||!te(T.children[L],D.children[L],M))return!1;return!0}{const L=w.slice(0,T.segments.length),Q=w.slice(T.segments.length);return!!(Nt(T.segments,L)&&ue(T.segments,L,M)&&T.children[ke])&&se(T.children[ke],D,Q,M)}}function ue(T,D,w){return D.every((M,L)=>vn[w](T[L].parameters,M.parameters))}class ze{constructor(D,w,M){this.root=D,this.queryParams=w,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ht(this.queryParams)),this._queryParamMap}toString(){return jn.serialize(this)}}class Xe{constructor(D,w){this.segments=D,this.children=w,this.parent=null,Ze(w,(M,L)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _r(this)}}class St{constructor(D,w){this.path=D,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=ht(this.parameters)),this._parameterMap}toString(){return Un(this)}}function Nt(T,D){return T.length===D.length&&T.every((w,M)=>w.path===D[M].path)}class cr{}class Ir{parse(D){const w=new Ar(D);return new ze(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(D){const w=`/${Pr(D.root,!0)}`,M=function pr(T){const D=Object.keys(T).map(w=>{const M=T[w];return Array.isArray(M)?M.map(L=>`${cs(w)}=${cs(L)}`).join("&"):`${cs(w)}=${cs(M)}`}).filter(w=>!!w);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${w}${M}${"string"==typeof D.fragment?`#${function Dn(T){return encodeURI(T)}(D.fragment)}`:""}`}}const jn=new Ir;function _r(T){return T.segments.map(D=>Un(D)).join("/")}function Pr(T,D){if(!T.hasChildren())return _r(T);if(D){const w=T.children[ke]?Pr(T.children[ke],!1):"",M=[];return Ze(T.children,(L,Q)=>{Q!==ke&&M.push(`${Q}:${Pr(L,!1)}`)}),M.length>0?`${w}(${M.join("//")})`:w}{const w=function pn(T,D){let w=[];return Ze(T.children,(M,L)=>{L===ke&&(w=w.concat(D(M,L)))}),Ze(T.children,(M,L)=>{L!==ke&&(w=w.concat(D(M,L)))}),w}(T,(M,L)=>L===ke?[Pr(T.children[ke],!1)]:[`${L}:${Pr(M,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[ke]?`${_r(T)}/${w[0]}`:`${_r(T)}/(${w.join("//")})`}}function fr(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cs(T){return fr(T).replace(/%3B/gi,";")}function Mt(T){return fr(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bn(T){return decodeURIComponent(T)}function rn(T){return bn(T.replace(/\+/g,"%20"))}function Un(T){return`${Mt(T.path)}${function vi(T){return Object.keys(T).map(D=>`;${Mt(D)}=${Mt(T[D])}`).join("")}(T.parameters)}`}const Gr=/^[^\/()?;=#]+/;function Hn(T){const D=T.match(Gr);return D?D[0]:""}const gr=/^[^=?&#]+/,Cn=/^[^&#]+/;class Ar{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(D.length>0||Object.keys(w).length>0)&&(M[ke]=new Xe(D,w)),M}parseSegment(){const D=Hn(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(D),new St(bn(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const w=Hn(this.remaining);if(!w)return;this.capture(w);let M="";if(this.consumeOptional("=")){const L=Hn(this.remaining);L&&(M=L,this.capture(M))}D[bn(w)]=bn(M)}parseQueryParam(D){const w=function Mi(T){const D=T.match(gr);return D?D[0]:""}(this.remaining);if(!w)return;this.capture(w);let M="";if(this.consumeOptional("=")){const ee=function xi(T){const D=T.match(Cn);return D?D[0]:""}(this.remaining);ee&&(M=ee,this.capture(M))}const L=rn(w),Q=rn(M);if(D.hasOwnProperty(L)){let ee=D[L];Array.isArray(ee)||(ee=[ee],D[L]=ee),ee.push(Q)}else D[L]=Q}parseParens(D){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=Hn(this.remaining),L=this.remaining[M.length];if("/"!==L&&")"!==L&&";"!==L)throw new Error(`Cannot parse url '${this.url}'`);let Q;M.indexOf(":")>-1?(Q=M.substr(0,M.indexOf(":")),this.capture(Q),this.capture(":")):D&&(Q=ke);const ee=this.parseChildren();w[Q]=1===Object.keys(ee).length?ee[ke]:new Xe([],ee),this.consumeOptional("//")}return w}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new Error(`Expected "${D}".`)}}class Ys{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const w=this.pathFromRoot(D);return w.length>1?w[w.length-2]:null}children(D){const w=ni(D,this._root);return w?w.children.map(M=>M.value):[]}firstChild(D){const w=ni(D,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(D){const w=Dr(D,this._root);return w.length<2?[]:w[w.length-2].children.map(L=>L.value).filter(L=>L!==D)}pathFromRoot(D){return Dr(D,this._root).map(w=>w.value)}}function ni(T,D){if(T===D.value)return D;for(const w of D.children){const M=ni(T,w);if(M)return M}return null}function Dr(T,D){if(T===D.value)return[D];for(const w of D.children){const M=Dr(T,w);if(M.length)return M.unshift(D),M}return[]}class Br{constructor(D,w){this.value=D,this.children=w}toString(){return`TreeNode(${this.value})`}}function Cr(T){const D={};return T&&T.children.forEach(w=>D[w.value.outlet]=w),D}class Nr extends Ys{constructor(D,w){super(D),this.snapshot=w,Pi(this,D)}toString(){return this.snapshot.toString()}}function Rn(T,D){const w=function ds(T,D){const ee=new ts([],{},{},"",{},ke,D,null,T.root,-1,{});return new Sn("",new Br(ee,[]))}(T,D),M=new Qe.X([new St("",{})]),L=new Qe.X({}),Q=new Qe.X({}),ee=new Qe.X({}),J=new Qe.X(""),me=new Oi(M,L,ee,J,Q,ke,D,w.root);return me.snapshot=w.root,new Nr(new Br(me,[]),w)}class Oi{constructor(D,w,M,L,Q,ee,J,me){this.url=D,this.params=w,this.queryParams=M,this.fragment=L,this.data=Q,this.outlet=ee,this.component=J,this._futureSnapshot=me}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ut.U)(D=>ht(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ut.U)(D=>ht(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dr(T,D="emptyOnly"){const w=T.pathFromRoot;let M=0;if("always"!==D)for(M=w.length-1;M>=1;){const L=w[M],Q=w[M-1];if(L.routeConfig&&""===L.routeConfig.path)M--;else{if(Q.component)break;M--}}return function Ri(T){return T.reduce((D,w)=>({params:Object.assign(Object.assign({},D.params),w.params),data:Object.assign(Object.assign({},D.data),w.data),resolve:Object.assign(Object.assign({},D.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice(M))}class ts{constructor(D,w,M,L,Q,ee,J,me,bt,$n,Wt){this.url=D,this.params=w,this.queryParams=M,this.fragment=L,this.data=Q,this.outlet=ee,this.component=J,this.routeConfig=me,this._urlSegment=bt,this._lastPathIndex=$n,this._resolve=Wt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ht(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ht(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sn extends Ys{constructor(D,w){super(w),this.url=D,Pi(this,w)}toString(){return Bi(this._root)}}function Pi(T,D){D.value._routerState=T,D.children.forEach(w=>Pi(T,w))}function Bi(T){const D=T.children.length>0?` { ${T.children.map(Bi).join(", ")} } `:"";return`${T.value}${D}`}function js(T){if(T.snapshot){const D=T.snapshot,w=T._futureSnapshot;T.snapshot=w,cn(D.queryParams,w.queryParams)||T.queryParams.next(w.queryParams),D.fragment!==w.fragment&&T.fragment.next(w.fragment),cn(D.params,w.params)||T.params.next(w.params),function ir(T,D){if(T.length!==D.length)return!1;for(let w=0;w<T.length;++w)if(!cn(T[w],D[w]))return!1;return!0}(D.url,w.url)||T.url.next(w.url),cn(D.data,w.data)||T.data.next(w.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function ji(T,D){const w=cn(T.params,D.params)&&function on(T,D){return Nt(T,D)&&T.every((w,M)=>cn(w.parameters,D[M].parameters))}(T.url,D.url);return w&&!(!T.parent!=!D.parent)&&(!T.parent||ji(T.parent,D.parent))}function zr(T,D,w){if(w&&T.shouldReuseRoute(D.value,w.value.snapshot)){const M=w.value;M._futureSnapshot=D.value;const L=function As(T,D,w){return D.children.map(M=>{for(const L of w.children)if(T.shouldReuseRoute(M.value,L.value.snapshot))return zr(T,M,L);return zr(T,M)})}(T,D,w);return new Br(M,L)}{if(T.shouldAttach(D.value)){const Q=T.retrieve(D.value);if(null!==Q){const ee=Q.route;return ee.value._futureSnapshot=D.value,ee.children=D.children.map(J=>zr(T,J)),ee}}const M=function qi(T){return new Oi(new Qe.X(T.url),new Qe.X(T.params),new Qe.X(T.queryParams),new Qe.X(T.fragment),new Qe.X(T.data),T.outlet,T.component,T)}(D.value),L=D.children.map(Q=>zr(T,Q));return new Br(M,L)}}function Ce(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function He(T){return"object"==typeof T&&null!=T&&T.outlets}function at(T,D,w,M,L){let Q={};if(M&&Ze(M,(J,me)=>{Q[me]=Array.isArray(J)?J.map(bt=>`${bt}`):`${J}`}),T===D)return new ze(w,Q,L);const ee=pt(T,D,w);return new ze(ee,Q,L)}function pt(T,D,w){const M={};return Ze(T.children,(L,Q)=>{M[Q]=L===D?w:pt(L,D,w)}),new Xe(T.segments,M)}class zt{constructor(D,w,M){if(this.isAbsolute=D,this.numberOfDoubleDots=w,this.commands=M,D&&M.length>0&&Ce(M[0]))throw new Error("Root segment cannot have matrix parameters");const L=M.find(He);if(L&&L!==fn(M))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sr{constructor(D,w,M){this.segmentGroup=D,this.processChildren=w,this.index=M}}function vs(T,D,w){if(T||(T=new Xe([],{})),0===T.segments.length&&T.hasChildren())return Ei(T,D,w);const M=function Qs(T,D,w){let M=0,L=D;const Q={match:!1,pathIndex:0,commandIndex:0};for(;L<T.segments.length;){if(M>=w.length)return Q;const ee=T.segments[L],J=w[M];if(He(J))break;const me=`${J}`,bt=M<w.length-1?w[M+1]:null;if(L>0&&void 0===me)break;if(me&&bt&&"object"==typeof bt&&void 0===bt.outlets){if(!Wr(me,bt,ee))return Q;M+=2}else{if(!Wr(me,{},ee))return Q;M++}L++}return{match:!0,pathIndex:L,commandIndex:M}}(T,D,w),L=w.slice(M.commandIndex);if(M.match&&M.pathIndex<T.segments.length){const Q=new Xe(T.segments.slice(0,M.pathIndex),{});return Q.children[ke]=new Xe(T.segments.slice(M.pathIndex),T.children),Ei(Q,0,L)}return M.match&&0===L.length?new Xe(T.segments,{}):M.match&&!T.hasChildren()?Ss(T,D,w):M.match?Ei(T,0,L):Ss(T,D,w)}function Ei(T,D,w){if(0===w.length)return new Xe(T.segments,{});{const M=function Do(T){return He(T[0])?T[0].outlets:{[ke]:T}}(w),L={};return Ze(M,(Q,ee)=>{"string"==typeof Q&&(Q=[Q]),null!==Q&&(L[ee]=vs(T.children[ee],D,Q))}),Ze(T.children,(Q,ee)=>{void 0===M[ee]&&(L[ee]=Q)}),new Xe(T.segments,L)}}function Ss(T,D,w){const M=T.segments.slice(0,D);let L=0;for(;L<w.length;){const Q=w[L];if(He(Q)){const me=Hi(Q.outlets);return new Xe(M,me)}if(0===L&&Ce(w[0])){M.push(new St(T.segments[D].path,Es(w[0]))),L++;continue}const ee=He(Q)?Q.outlets[ke]:`${Q}`,J=L<w.length-1?w[L+1]:null;ee&&J&&Ce(J)?(M.push(new St(ee,Es(J))),L+=2):(M.push(new St(ee,{})),L++)}return new Xe(M,{})}function Hi(T){const D={};return Ze(T,(w,M)=>{"string"==typeof w&&(w=[w]),null!==w&&(D[M]=Ss(new Xe([],{}),0,w))}),D}function Es(T){const D={};return Ze(T,(w,M)=>D[M]=`${w}`),D}function Wr(T,D,w){return T==w.path&&cn(D,w.parameters)}class Js{constructor(D,w,M,L){this.routeReuseStrategy=D,this.futureState=w,this.currState=M,this.forwardEvent=L}activate(D){const w=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,M,D),js(this.futureState.root),this.activateChildRoutes(w,M,D)}deactivateChildRoutes(D,w,M){const L=Cr(w);D.children.forEach(Q=>{const ee=Q.value.outlet;this.deactivateRoutes(Q,L[ee],M),delete L[ee]}),Ze(L,(Q,ee)=>{this.deactivateRouteAndItsChildren(Q,M)})}deactivateRoutes(D,w,M){const L=D.value,Q=w?w.value:null;if(L===Q)if(L.component){const ee=M.getContext(L.outlet);ee&&this.deactivateChildRoutes(D,w,ee.children)}else this.deactivateChildRoutes(D,w,M);else Q&&this.deactivateRouteAndItsChildren(w,M)}deactivateRouteAndItsChildren(D,w){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,w):this.deactivateRouteAndOutlet(D,w)}detachAndStoreRouteSubtree(D,w){const M=w.getContext(D.value.outlet),L=M&&D.value.component?M.children:w,Q=Cr(D);for(const ee of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[ee],L);if(M&&M.outlet){const ee=M.outlet.detach(),J=M.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:ee,route:D,contexts:J})}}deactivateRouteAndOutlet(D,w){const M=w.getContext(D.value.outlet),L=M&&D.value.component?M.children:w,Q=Cr(D);for(const ee of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[ee],L);M&&M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated(),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(D,w,M){const L=Cr(w);D.children.forEach(Q=>{this.activateRoutes(Q,L[Q.value.outlet],M),this.forwardEvent(new De(Q.value.snapshot))}),D.children.length&&this.forwardEvent(new tt(D.value.snapshot))}activateRoutes(D,w,M){const L=D.value,Q=w?w.value:null;if(js(L),L===Q)if(L.component){const ee=M.getOrCreateContext(L.outlet);this.activateChildRoutes(D,w,ee.children)}else this.activateChildRoutes(D,w,M);else if(L.component){const ee=M.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const J=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),ee.children.onOutletReAttached(J.contexts),ee.attachRef=J.componentRef,ee.route=J.route.value,ee.outlet&&ee.outlet.attach(J.componentRef,J.route.value),js(J.route.value),this.activateChildRoutes(D,null,ee.children)}else{const J=function Hs(T){for(let D=T.parent;D;D=D.parent){const w=D.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}(L.snapshot),me=J?J.module.componentFactoryResolver:null;ee.attachRef=null,ee.route=L,ee.resolver=me,ee.outlet&&ee.outlet.activateWith(L,me),this.activateChildRoutes(D,null,ee.children)}}else this.activateChildRoutes(D,null,M)}}class Xs{constructor(D,w){this.routes=D,this.module=w}}function wi(T){return"function"==typeof T}function jr(T){return T instanceof ze}const rs=Symbol("INITIAL_VALUE");function Ki(){return(0,Gn.w)(T=>function he(...T){const D=(0,Te.yG)(T),w=(0,Te.jO)(T),{args:M,keys:L}=(0,K.D)(T);if(0===M.length)return(0,fe.D)([],D);const Q=new E.y(function Pe(T,D,w=ge.y){return M=>{It(D,()=>{const{length:L}=T,Q=new Array(L);let ee=L,J=L;for(let me=0;me<L;me++)It(D,()=>{const bt=(0,fe.D)(T[me],D);let $n=!1;bt.subscribe((0,Me.x)(M,Wt=>{Q[me]=Wt,$n||($n=!0,J--),J||M.next(w(Q.slice()))},()=>{--ee||M.complete()}))},M)},M)}}(M,D,L?ee=>(0,Se.n)(L,ee):ge.y));return w?Q.pipe((0,ve.Z)(w)):Q}(T.map(D=>D.pipe((0,Pt.q)(1),(0,Lt.O)(rs)))).pipe((0,Ln.R)((D,w)=>{let M=!1;return w.reduce((L,Q,ee)=>L!==rs?L:(Q===rs&&(M=!0),M||!1!==Q&&ee!==w.length-1&&!jr(Q)?L:Q),D)},rs),(0,$e.h)(D=>D!==rs),(0,Ut.U)(D=>jr(D)?D:!0===D),(0,Pt.q)(1)))}class Hr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zi,this.attachRef=null}}class Zi{constructor(){this.contexts=new Map}onChildOutletCreated(D,w){const M=this.getOrCreateContext(D);M.outlet=w,this.contexts.set(D,M)}onChildOutletDestroyed(D){const w=this.getContext(D);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let w=this.getContext(D);return w||(w=new Hr,this.contexts.set(D,w)),w}getContext(D){return this.contexts.get(D)||null}}let eo=(()=>{class T{constructor(w,M,L,Q,ee){this.parentContexts=w,this.location=M,this.resolver=L,this.changeDetector=ee,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=Q||ke,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,M){this.activated=w,this._activatedRoute=M,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,M){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const ee=(M=M||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),J=this.parentContexts.getOrCreateContext(this.name).children,me=new bs(w,J,this.location.injector);this.activated=this.location.createComponent(ee,this.location.length,me),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(w){return new(w||T)(m.Y36(Zi),m.Y36(m.s_b),m.Y36(m._Vd),m.$8M("name"),m.Y36(m.sBO))},T.\u0275dir=m.lG2({type:T,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),T})();class bs{constructor(D,w,M){this.route=D,this.childContexts=w,this.parent=M}get(D,w){return D===Oi?this.route:D===Zi?this.childContexts:this.parent.get(D,w)}}let kr=(()=>{class T{}return T.\u0275fac=function(w){return new(w||T)},T.\u0275cmp=m.Xpm({type:T,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,M){1&w&&m._UZ(0,"router-outlet")},directives:[eo],encapsulation:2}),T})();function Fr(T,D=""){for(let w=0;w<T.length;w++){const M=T[w];is(M,ur(D,M))}}function is(T,D){T.children&&Fr(T.children,D)}function ur(T,D){return D?T||D.path?T&&!D.path?`${T}/`:!T&&D.path?D.path:`${T}/${D.path}`:"":T}function F(T){const D=T.children&&T.children.map(F),w=D?Object.assign(Object.assign({},T),{children:D}):Object.assign({},T);return!w.component&&(D||w.loadChildren)&&w.outlet&&w.outlet!==ke&&(w.component=kr),w}function z(T){return T.outlet||ke}function k(T,D){const w=T.filter(M=>z(M)===D);return w.push(...T.filter(M=>z(M)!==D)),w}const X={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _e(T,D,w){var M;if(""===D.path)return"full"===D.pathMatch&&(T.hasChildren()||w.length>0)?Object.assign({},X):{matched:!0,consumedSegments:[],remainingSegments:w,parameters:{},positionalParamSegments:{}};const Q=(D.matcher||Ur)(w,T,D);if(!Q)return Object.assign({},X);const ee={};Ze(Q.posParams,(me,bt)=>{ee[bt]=me.path});const J=Q.consumed.length>0?Object.assign(Object.assign({},ee),Q.consumed[Q.consumed.length-1].parameters):ee;return{matched:!0,consumedSegments:Q.consumed,remainingSegments:w.slice(Q.consumed.length),parameters:J,positionalParamSegments:null!==(M=Q.posParams)&&void 0!==M?M:{}}}function Ke(T,D,w,M,L="corrected"){if(w.length>0&&function tr(T,D,w){return w.some(M=>On(T,D,M)&&z(M)!==ke)}(T,w,M)){const ee=new Xe(D,function gt(T,D,w,M){const L={};L[ke]=M,M._sourceSegment=T,M._segmentIndexShift=D.length;for(const Q of w)if(""===Q.path&&z(Q)!==ke){const ee=new Xe([],{});ee._sourceSegment=T,ee._segmentIndexShift=D.length,L[z(Q)]=ee}return L}(T,D,M,new Xe(w,T.children)));return ee._sourceSegment=T,ee._segmentIndexShift=D.length,{segmentGroup:ee,slicedSegments:[]}}if(0===w.length&&function Kn(T,D,w){return w.some(M=>On(T,D,M))}(T,w,M)){const ee=new Xe(T.segments,function ut(T,D,w,M,L,Q){const ee={};for(const J of M)if(On(T,w,J)&&!L[z(J)]){const me=new Xe([],{});me._sourceSegment=T,me._segmentIndexShift="legacy"===Q?T.segments.length:D.length,ee[z(J)]=me}return Object.assign(Object.assign({},L),ee)}(T,D,w,M,T.children,L));return ee._sourceSegment=T,ee._segmentIndexShift=D.length,{segmentGroup:ee,slicedSegments:w}}const Q=new Xe(T.segments,T.children);return Q._sourceSegment=T,Q._segmentIndexShift=D.length,{segmentGroup:Q,slicedSegments:w}}function On(T,D,w){return(!(T.hasChildren()||D.length>0)||"full"!==w.pathMatch)&&""===w.path}function Pn(T,D,w,M){return!!(z(T)===M||M!==ke&&On(D,w,T))&&("**"===T.path||_e(D,T,w).matched)}function mr(T,D,w){return 0===D.length&&!T.children[w]}class nr{constructor(D){this.segmentGroup=D||null}}class vr{constructor(D){this.urlTree=D}}function Ni(T){return ot(new nr(T))}function ai(T){return ot(new vr(T))}class ri{constructor(D,w,M,L,Q){this.configLoader=w,this.urlSerializer=M,this.urlTree=L,this.config=Q,this.allowRedirects=!0,this.ngModule=D.get(m.h0i)}apply(){const D=Ke(this.urlTree.root,[],[],this.config).segmentGroup,w=new Xe(D.segments,D.children);return this.expandSegmentGroup(this.ngModule,this.config,w,ke).pipe((0,Ut.U)(Q=>this.createUrlTree(V(Q),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,yn.K)(Q=>{if(Q instanceof vr)return this.allowRedirects=!1,this.match(Q.urlTree);throw Q instanceof nr?this.noMatchError(Q):Q}))}match(D){return this.expandSegmentGroup(this.ngModule,this.config,D.root,ke).pipe((0,Ut.U)(L=>this.createUrlTree(V(L),D.queryParams,D.fragment))).pipe((0,yn.K)(L=>{throw L instanceof nr?this.noMatchError(L):L}))}noMatchError(D){return new Error(`Cannot match any routes. URL Segment: '${D.segmentGroup}'`)}createUrlTree(D,w,M){const L=D.segments.length>0?new Xe([],{[ke]:D}):D;return new ze(L,w,M)}expandSegmentGroup(D,w,M,L){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(D,w,M).pipe((0,Ut.U)(Q=>new Xe([],Q))):this.expandSegment(D,M,w,M.segments,L,!0)}expandChildren(D,w,M){const L=[];for(const Q of Object.keys(M.children))"primary"===Q?L.unshift(Q):L.push(Q);return(0,fe.D)(L).pipe((0,kn.b)(Q=>{const ee=M.children[Q],J=k(w,Q);return this.expandSegmentGroup(D,J,ee,Q).pipe((0,Ut.U)(me=>({segment:me,outlet:Q})))}),(0,Ln.R)((Q,ee)=>(Q[ee.outlet]=ee.segment,Q),{}),function Ue(T,D){const w=arguments.length>=2;return M=>M.pipe(T?(0,$e.h)((L,Q)=>T(L,Q,M)):ge.y,pe(1),w?(0,Fe.d)(D):(0,qe.T)(()=>new mt.K))}())}expandSegment(D,w,M,L,Q,ee){return(0,fe.D)(M).pipe((0,kn.b)(J=>this.expandSegmentAgainstRoute(D,w,M,J,L,Q,ee).pipe((0,yn.K)(bt=>{if(bt instanceof nr)return(0,Le.of)(null);throw bt}))),(0,Zt.P)(J=>!!J),(0,yn.K)((J,me)=>{if(J instanceof mt.K||"EmptyError"===J.name)return mr(w,L,Q)?(0,Le.of)(new Xe([],{})):Ni(w);throw J}))}expandSegmentAgainstRoute(D,w,M,L,Q,ee,J){return Pn(L,w,Q,ee)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(D,w,L,Q,ee):J&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,w,M,L,Q,ee):Ni(w):Ni(w)}expandSegmentAgainstRouteUsingRedirect(D,w,M,L,Q,ee){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,M,L,ee):this.expandRegularSegmentAgainstRouteUsingRedirect(D,w,M,L,Q,ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,w,M,L){const Q=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?ai(Q):this.lineralizeSegments(M,Q).pipe((0,Bt.z)(ee=>{const J=new Xe(ee,{});return this.expandSegment(D,J,w,ee,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,w,M,L,Q,ee){const{matched:J,consumedSegments:me,remainingSegments:bt,positionalParamSegments:$n}=_e(w,L,Q);if(!J)return Ni(w);const Wt=this.applyRedirectCommands(me,L.redirectTo,$n);return L.redirectTo.startsWith("/")?ai(Wt):this.lineralizeSegments(L,Wt).pipe((0,Bt.z)(sr=>this.expandSegment(D,w,M,sr.concat(bt),ee,!1)))}matchSegmentAgainstRoute(D,w,M,L,Q){if("**"===M.path)return M.loadChildren?(M._loadedConfig?(0,Le.of)(M._loadedConfig):this.configLoader.load(D.injector,M)).pipe((0,Ut.U)(Wt=>(M._loadedConfig=Wt,new Xe(L,{})))):(0,Le.of)(new Xe(L,{}));const{matched:ee,consumedSegments:J,remainingSegments:me}=_e(w,M,L);return ee?this.getChildConfig(D,M,L).pipe((0,Bt.z)($n=>{const Wt=$n.module,sr=$n.routes,{segmentGroup:Jn,slicedSegments:Ps}=Ke(w,J,me,sr),ps=new Xe(Jn.segments,Jn.children);if(0===Ps.length&&ps.hasChildren())return this.expandChildren(Wt,sr,ps).pipe((0,Ut.U)(fi=>new Xe(J,fi)));if(0===sr.length&&0===Ps.length)return(0,Le.of)(new Xe(J,{}));const ta=z(M)===Q;return this.expandSegment(Wt,ps,sr,Ps,ta?ke:Q,!0).pipe((0,Ut.U)(as=>new Xe(J.concat(as.segments),as.children)))})):Ni(w)}getChildConfig(D,w,M){return w.children?(0,Le.of)(new Xs(w.children,D)):w.loadChildren?void 0!==w._loadedConfig?(0,Le.of)(w._loadedConfig):this.runCanLoadGuards(D.injector,w,M).pipe((0,Bt.z)(L=>L?this.configLoader.load(D.injector,w).pipe((0,Ut.U)(Q=>(w._loadedConfig=Q,Q))):function ss(T){return ot(ln(`Cannot load children because the guard of the route "path: '${T.path}'" returned false`))}(w))):(0,Le.of)(new Xs([],D))}runCanLoadGuards(D,w,M){const L=w.canLoad;if(!L||0===L.length)return(0,Le.of)(!0);const Q=L.map(ee=>{const J=D.get(ee);let me;if(function ns(T){return T&&wi(T.canLoad)}(J))me=J.canLoad(w,M);else{if(!wi(J))throw new Error("Invalid CanLoad guard");me=J(w,M)}return Tt(me)});return(0,Le.of)(Q).pipe(Ki(),(0,Yt.b)(ee=>{if(!jr(ee))return;const J=ln(`Redirecting to "${this.urlSerializer.serialize(ee)}"`);throw J.url=ee,J}),(0,Ut.U)(ee=>!0===ee))}lineralizeSegments(D,w){let M=[],L=w.root;for(;;){if(M=M.concat(L.segments),0===L.numberOfChildren)return(0,Le.of)(M);if(L.numberOfChildren>1||!L.children[ke])return ot(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D.redirectTo}'`));L=L.children[ke]}}applyRedirectCommands(D,w,M){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),D,M)}applyRedirectCreatreUrlTree(D,w,M,L){const Q=this.createSegmentGroup(D,w.root,M,L);return new ze(Q,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(D,w){const M={};return Ze(D,(L,Q)=>{if("string"==typeof L&&L.startsWith(":")){const J=L.substring(1);M[Q]=w[J]}else M[Q]=L}),M}createSegmentGroup(D,w,M,L){const Q=this.createSegments(D,w.segments,M,L);let ee={};return Ze(w.children,(J,me)=>{ee[me]=this.createSegmentGroup(D,J,M,L)}),new Xe(Q,ee)}createSegments(D,w,M,L){return w.map(Q=>Q.path.startsWith(":")?this.findPosParam(D,Q,L):this.findOrReturn(Q,M))}findPosParam(D,w,M){const L=M[w.path.substring(1)];if(!L)throw new Error(`Cannot redirect to '${D}'. Cannot find '${w.path}'.`);return L}findOrReturn(D,w){let M=0;for(const L of w){if(L.path===D.path)return w.splice(M),L;M++}return D}}function V(T){const D={};for(const M of Object.keys(T.children)){const Q=V(T.children[M]);(Q.segments.length>0||Q.hasChildren())&&(D[M]=Q)}return function To(T){if(1===T.numberOfChildren&&T.children[ke]){const D=T.children[ke];return new Xe(T.segments.concat(D.segments),D.children)}return T}(new Xe(T.segments,D))}class O{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class j{constructor(D,w){this.component=D,this.route=w}}function Ve(T,D,w){const M=T._root;return Jr(M,D?D._root:null,w,[M.value])}function hn(T,D,w){const M=function Lr(T){if(!T)return null;for(let D=T.parent;D;D=D.parent){const w=D.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(D);return(M?M.module.injector:w).get(T)}function Jr(T,D,w,M,L={canDeactivateChecks:[],canActivateChecks:[]}){const Q=Cr(D);return T.children.forEach(ee=>{(function ui(T,D,w,M,L={canDeactivateChecks:[],canActivateChecks:[]}){const Q=T.value,ee=D?D.value:null,J=w?w.getContext(T.value.outlet):null;if(ee&&Q.routeConfig===ee.routeConfig){const me=function bi(T,D,w){if("function"==typeof w)return w(T,D);switch(w){case"pathParamsChange":return!Nt(T.url,D.url);case"pathParamsOrQueryParamsChange":return!Nt(T.url,D.url)||!cn(T.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ji(T,D)||!cn(T.queryParams,D.queryParams);default:return!ji(T,D)}}(ee,Q,Q.routeConfig.runGuardsAndResolvers);me?L.canActivateChecks.push(new O(M)):(Q.data=ee.data,Q._resolvedData=ee._resolvedData),Jr(T,D,Q.component?J?J.children:null:w,M,L),me&&J&&J.outlet&&J.outlet.isActivated&&L.canDeactivateChecks.push(new j(J.outlet.component,ee))}else ee&&li(D,J,L),L.canActivateChecks.push(new O(M)),Jr(T,null,Q.component?J?J.children:null:w,M,L)})(ee,Q[ee.value.outlet],w,M.concat([ee.value]),L),delete Q[ee.value.outlet]}),Ze(Q,(ee,J)=>li(ee,w.getContext(J),L)),L}function li(T,D,w){const M=Cr(T),L=T.value;Ze(M,(Q,ee)=>{li(Q,L.component?D?D.children.getContext(ee):null:D,w)}),w.canDeactivateChecks.push(new j(L.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,L))}class os{}function za(T){return new E.y(D=>D.error(T))}class ki{constructor(D,w,M,L,Q,ee){this.rootComponentType=D,this.config=w,this.urlTree=M,this.url=L,this.paramsInheritanceStrategy=Q,this.relativeLinkResolution=ee}recognize(){const D=Ke(this.urlTree.root,[],[],this.config.filter(ee=>void 0===ee.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,D,ke);if(null===w)return null;const M=new ts([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ke,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new Br(M,w),Q=new Sn(this.url,L);return this.inheritParamsAndData(Q._root),Q}inheritParamsAndData(D){const w=D.value,M=dr(w,this.paramsInheritanceStrategy);w.params=Object.freeze(M.params),w.data=Object.freeze(M.data),D.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(D,w,M){return 0===w.segments.length&&w.hasChildren()?this.processChildren(D,w):this.processSegment(D,w,w.segments,M)}processChildren(D,w){const M=[];for(const Q of Object.keys(w.children)){const ee=w.children[Q],J=k(D,Q),me=this.processSegmentGroup(J,ee,Q);if(null===me)return null;M.push(...me)}const L=Wa(M);return function Zo(T){T.sort((D,w)=>D.value.outlet===ke?-1:w.value.outlet===ke?1:D.value.outlet.localeCompare(w.value.outlet))}(L),L}processSegment(D,w,M,L){for(const Q of D){const ee=this.processSegmentAgainstRoute(Q,w,M,L);if(null!==ee)return ee}return mr(w,M,L)?[]:null}processSegmentAgainstRoute(D,w,M,L){if(D.redirectTo||!Pn(D,w,M,L))return null;let Q,ee=[],J=[];if("**"===D.path){const Jn=M.length>0?fn(M).parameters:{};Q=new ts(M,Jn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yo(D),z(D),D.component,D,oa(w),aa(w)+M.length,Ms(D))}else{const Jn=_e(w,D,M);if(!Jn.matched)return null;ee=Jn.consumedSegments,J=Jn.remainingSegments,Q=new ts(ee,Jn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yo(D),z(D),D.component,D,oa(w),aa(w)+ee.length,Ms(D))}const me=function Vr(T){return T.children?T.children:T.loadChildren?T._loadedConfig.routes:[]}(D),{segmentGroup:bt,slicedSegments:$n}=Ke(w,ee,J,me.filter(Jn=>void 0===Jn.redirectTo),this.relativeLinkResolution);if(0===$n.length&&bt.hasChildren()){const Jn=this.processChildren(me,bt);return null===Jn?null:[new Br(Q,Jn)]}if(0===me.length&&0===$n.length)return[new Br(Q,[])];const Wt=z(D)===L,sr=this.processSegment(me,bt,$n,Wt?ke:L);return null===sr?null:[new Br(Q,sr)]}}function Gs(T){const D=T.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function Wa(T){const D=[],w=new Set;for(const M of T){if(!Gs(M)){D.push(M);continue}const L=D.find(Q=>M.value.routeConfig===Q.value.routeConfig);void 0!==L?(L.children.push(...M.children),w.add(L)):D.push(M)}for(const M of w){const L=Wa(M.children);D.push(new Br(M.value,L))}return D.filter(M=>!w.has(M))}function oa(T){let D=T;for(;D._sourceSegment;)D=D._sourceSegment;return D}function aa(T){let D=T,w=D._segmentIndexShift?D._segmentIndexShift:0;for(;D._sourceSegment;)D=D._sourceSegment,w+=D._segmentIndexShift?D._segmentIndexShift:0;return w-1}function Yo(T){return T.data||{}}function Ms(T){return T.resolve||{}}function Qo(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}function Ii(T){return(0,Gn.w)(D=>{const w=T(D);return w?(0,fe.D)(w).pipe((0,Ut.U)(()=>D)):(0,Le.of)(D)})}class Jo extends class qr{shouldDetach(D){return!1}store(D,w){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,w){return D.routeConfig===w.routeConfig}}{}const Ca=new m.OlP("ROUTES");class gu{constructor(D,w,M,L){this.injector=D,this.compiler=w,this.onLoadStartListener=M,this.onLoadEndListener=L}load(D,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const L=this.loadModuleFactory(w.loadChildren).pipe((0,Ut.U)(Q=>{this.onLoadEndListener&&this.onLoadEndListener(w);const ee=Q.create(D);return new Xs(wn(ee.injector.get(Ca,void 0,m.XFs.Self|m.XFs.Optional)).map(F),ee)}),(0,yn.K)(Q=>{throw w._loader$=void 0,Q}));return w._loader$=new it(L,()=>new Oe.x).pipe(Dt()),w._loader$}loadModuleFactory(D){return Tt(D()).pipe((0,Bt.z)(w=>w instanceof m.YKP?(0,Le.of)(w):(0,fe.D)(this.compiler.compileModuleAsync(w))))}}class Xo{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,w){return D}}function Uo(T){throw T}function io(T,D,w){return D.parse("/")}function ho(T,D){return(0,Le.of)(null)}const xs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let di=(()=>{class T{constructor(w,M,L,Q,ee,J,me){this.rootComponentType=w,this.urlSerializer=M,this.rootContexts=L,this.location=Q,this.config=me,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Oe.x,this.errorHandler=Uo,this.malformedUriErrorHandler=io,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ho,afterPreactivation:ho},this.urlHandlingStrategy=new Xo,this.routeReuseStrategy=new Jo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ee.get(m.h0i),this.console=ee.get(m.c2e);const Wt=ee.get(m.R0b);this.isNgZoneEnabled=Wt instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(me),this.currentUrlTree=function Gt(){return new ze(new Xe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gu(ee,J,sr=>this.triggerEvent(new nn(sr)),sr=>this.triggerEvent(new lr(sr))),this.routerState=Rn(this.currentUrlTree,this.rootComponentType),this.transitions=new Qe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}setupNavigations(w){const M=this.events;return w.pipe((0,$e.h)(L=>0!==L.id),(0,Ut.U)(L=>Object.assign(Object.assign({},L),{extractedUrl:this.urlHandlingStrategy.extract(L.rawUrl)})),(0,Gn.w)(L=>{let Q=!1,ee=!1;return(0,Le.of)(L).pipe((0,Yt.b)(J=>{this.currentNavigation={id:J.id,initialUrl:J.currentRawUrl,extractedUrl:J.extractedUrl,trigger:J.source,extras:J.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Gn.w)(J=>{const me=this.browserUrlTree.toString(),bt=!this.navigated||J.extractedUrl.toString()!==me||me!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||bt)&&this.urlHandlingStrategy.shouldProcessUrl(J.rawUrl))return Os(J.source)&&(this.browserUrlTree=J.extractedUrl),(0,Le.of)(J).pipe((0,Gn.w)(Wt=>{const sr=this.transitions.getValue();return M.next(new Wn(Wt.id,this.serializeUrl(Wt.extractedUrl),Wt.source,Wt.restoredState)),sr!==this.transitions.getValue()?Ee.E:Promise.resolve(Wt)}),function N(T,D,w,M){return(0,Gn.w)(L=>function Is(T,D,w,M,L){return new ri(T,D,w,M,L).apply()}(T,D,w,L.extractedUrl,M).pipe((0,Ut.U)(Q=>Object.assign(Object.assign({},L),{urlAfterRedirects:Q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yt.b)(Wt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Wt.urlAfterRedirects})}),function ba(T,D,w,M,L){return(0,Bt.z)(Q=>function no(T,D,w,M,L="emptyOnly",Q="legacy"){try{const ee=new ki(T,D,w,M,L,Q).recognize();return null===ee?za(new os):(0,Le.of)(ee)}catch(ee){return za(ee)}}(T,D,Q.urlAfterRedirects,w(Q.urlAfterRedirects),M,L).pipe((0,Ut.U)(ee=>Object.assign(Object.assign({},Q),{targetSnapshot:ee}))))}(this.rootComponentType,this.config,Wt=>this.serializeUrl(Wt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yt.b)(Wt=>{if("eager"===this.urlUpdateStrategy){if(!Wt.extras.skipLocationChange){const Jn=this.urlHandlingStrategy.merge(Wt.urlAfterRedirects,Wt.rawUrl);this.setBrowserUrl(Jn,Wt)}this.browserUrlTree=Wt.urlAfterRedirects}const sr=new _n(Wt.id,this.serializeUrl(Wt.extractedUrl),this.serializeUrl(Wt.urlAfterRedirects),Wt.targetSnapshot);M.next(sr)}));if(bt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:sr,extractedUrl:Jn,source:Ps,restoredState:ps,extras:ta}=J,go=new Wn(sr,this.serializeUrl(Jn),Ps,ps);M.next(go);const as=Rn(Jn,this.rootComponentType).snapshot;return(0,Le.of)(Object.assign(Object.assign({},J),{targetSnapshot:as,urlAfterRedirects:Jn,extras:Object.assign(Object.assign({},ta),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=J.rawUrl,J.resolve(null),Ee.E}),Ii(J=>{const{targetSnapshot:me,id:bt,extractedUrl:$n,rawUrl:Wt,extras:{skipLocationChange:sr,replaceUrl:Jn}}=J;return this.hooks.beforePreactivation(me,{navigationId:bt,appliedUrlTree:$n,rawUrlTree:Wt,skipLocationChange:!!sr,replaceUrl:!!Jn})}),(0,Yt.b)(J=>{const me=new wr(J.id,this.serializeUrl(J.extractedUrl),this.serializeUrl(J.urlAfterRedirects),J.targetSnapshot);this.triggerEvent(me)}),(0,Ut.U)(J=>Object.assign(Object.assign({},J),{guards:Ve(J.targetSnapshot,J.currentSnapshot,this.rootContexts)})),function Lo(T,D){return(0,Bt.z)(w=>{const{targetSnapshot:M,currentSnapshot:L,guards:{canActivateChecks:Q,canDeactivateChecks:ee}}=w;return 0===ee.length&&0===Q.length?(0,Le.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function wa(T,D,w,M){return(0,fe.D)(T).pipe((0,Bt.z)(L=>function $s(T,D,w,M,L){const Q=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,Le.of)(!0);const ee=Q.map(J=>{const me=hn(J,D,L);let bt;if(function Mr(T){return T&&wi(T.canDeactivate)}(me))bt=Tt(me.canDeactivate(T,D,w,M));else{if(!wi(me))throw new Error("Invalid CanDeactivate guard");bt=Tt(me(T,D,w,M))}return bt.pipe((0,Zt.P)())});return(0,Le.of)(ee).pipe(Ki())}(L.component,L.route,w,D,M)),(0,Zt.P)(L=>!0!==L,!0))}(ee,M,L,T).pipe((0,Bt.z)(J=>J&&function Ko(T){return"boolean"==typeof T}(J)?function Ao(T,D,w,M){return(0,fe.D)(D).pipe((0,kn.b)(L=>(0,Ne.z)(function ci(T,D){return null!==T&&D&&D(new oi(T)),(0,Le.of)(!0)}(L.route.parent,M),function Vo(T,D){return null!==T&&D&&D(new we(T)),(0,Le.of)(!0)}(L.route,M),function to(T,D,w){const M=D[D.length-1],Q=D.slice(0,D.length-1).reverse().map(ee=>function Vt(T){const D=T.routeConfig?T.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:T,guards:D}:null}(ee)).filter(ee=>null!==ee).map(ee=>We(()=>{const J=ee.guards.map(me=>{const bt=hn(me,ee.node,w);let $n;if(function ws(T){return T&&wi(T.canActivateChild)}(bt))$n=Tt(bt.canActivateChild(M,T));else{if(!wi(bt))throw new Error("Invalid CanActivateChild guard");$n=Tt(bt(M,T))}return $n.pipe((0,Zt.P)())});return(0,Le.of)(J).pipe(Ki())}));return(0,Le.of)(Q).pipe(Ki())}(T,L.path,w),function Yi(T,D,w){const M=D.routeConfig?D.routeConfig.canActivate:null;if(!M||0===M.length)return(0,Le.of)(!0);const L=M.map(Q=>We(()=>{const ee=hn(Q,D,w);let J;if(function Co(T){return T&&wi(T.canActivate)}(ee))J=Tt(ee.canActivate(D,T));else{if(!wi(ee))throw new Error("Invalid CanActivate guard");J=Tt(ee(D,T))}return J.pipe((0,Zt.P)())}));return(0,Le.of)(L).pipe(Ki())}(T,L.route,w))),(0,Zt.P)(L=>!0!==L,!0))}(M,Q,T,D):(0,Le.of)(J)),(0,Ut.U)(J=>Object.assign(Object.assign({},w),{guardsResult:J})))})}(this.ngModule.injector,J=>this.triggerEvent(J)),(0,Yt.b)(J=>{if(jr(J.guardsResult)){const bt=ln(`Redirecting to "${this.serializeUrl(J.guardsResult)}"`);throw bt.url=J.guardsResult,bt}const me=new At(J.id,this.serializeUrl(J.extractedUrl),this.serializeUrl(J.urlAfterRedirects),J.targetSnapshot,!!J.guardsResult);this.triggerEvent(me)}),(0,$e.h)(J=>!!J.guardsResult||(this.restoreHistory(J),this.cancelNavigationTransition(J,""),!1)),Ii(J=>{if(J.guards.canActivateChecks.length)return(0,Le.of)(J).pipe((0,Yt.b)(me=>{const bt=new br(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot);this.triggerEvent(bt)}),(0,Gn.w)(me=>{let bt=!1;return(0,Le.of)(me).pipe(function ua(T,D){return(0,Bt.z)(w=>{const{targetSnapshot:M,guards:{canActivateChecks:L}}=w;if(!L.length)return(0,Le.of)(w);let Q=0;return(0,fe.D)(L).pipe((0,kn.b)(ee=>function Ia(T,D,w,M){return function $i(T,D,w,M){const L=Qo(T);if(0===L.length)return(0,Le.of)({});const Q={};return(0,fe.D)(L).pipe((0,Bt.z)(ee=>function Da(T,D,w,M){const L=hn(T,D,M);return Tt(L.resolve?L.resolve(D,w):L(D,w))}(T[ee],D,w,M).pipe((0,Yt.b)(J=>{Q[ee]=J}))),pe(1),(0,Bt.z)(()=>Qo(Q).length===L.length?(0,Le.of)(Q):Ee.E))}(T._resolve,T,D,M).pipe((0,Ut.U)(Q=>(T._resolvedData=Q,T.data=Object.assign(Object.assign({},T.data),dr(T,w).resolve),null)))}(ee.route,M,T,D)),(0,Yt.b)(()=>Q++),pe(1),(0,Bt.z)(ee=>Q===L.length?(0,Le.of)(w):Ee.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yt.b)({next:()=>bt=!0,complete:()=>{bt||(this.restoreHistory(me),this.cancelNavigationTransition(me,"At least one route resolver didn't emit any value."))}}))}),(0,Yt.b)(me=>{const bt=new In(me.id,this.serializeUrl(me.extractedUrl),this.serializeUrl(me.urlAfterRedirects),me.targetSnapshot);this.triggerEvent(bt)}))}),Ii(J=>{const{targetSnapshot:me,id:bt,extractedUrl:$n,rawUrl:Wt,extras:{skipLocationChange:sr,replaceUrl:Jn}}=J;return this.hooks.afterPreactivation(me,{navigationId:bt,appliedUrlTree:$n,rawUrlTree:Wt,skipLocationChange:!!sr,replaceUrl:!!Jn})}),(0,Ut.U)(J=>{const me=function _s(T,D,w){const M=zr(T,D._root,w?w._root:void 0);return new Nr(M,D)}(this.routeReuseStrategy,J.targetSnapshot,J.currentRouterState);return Object.assign(Object.assign({},J),{targetRouterState:me})}),(0,Yt.b)(J=>{this.currentUrlTree=J.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(J.urlAfterRedirects,J.rawUrl),this.routerState=J.targetRouterState,"deferred"===this.urlUpdateStrategy&&(J.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,J),this.browserUrlTree=J.urlAfterRedirects)}),((T,D,w)=>(0,Ut.U)(M=>(new Js(D,M.targetRouterState,M.currentRouterState,w).activate(T),M)))(this.rootContexts,this.routeReuseStrategy,J=>this.triggerEvent(J)),(0,Yt.b)({next(){Q=!0},complete(){Q=!0}}),function Ht(T){return(0,Ot.e)((D,w)=>{try{D.subscribe(w)}finally{w.add(T)}})}(()=>{var J;Q||ee||this.cancelNavigationTransition(L,`Navigation ID ${L.id} is not equal to the current navigation id ${this.navigationId}`),(null===(J=this.currentNavigation)||void 0===J?void 0:J.id)===L.id&&(this.currentNavigation=null)}),(0,yn.K)(J=>{if(ee=!0,function Xt(T){return T&&T[Vn]}(J)){const me=jr(J.url);me||(this.navigated=!0,this.restoreHistory(L,!0));const bt=new Er(L.id,this.serializeUrl(L.extractedUrl),J.message);M.next(bt),me?setTimeout(()=>{const $n=this.urlHandlingStrategy.merge(J.url,this.rawUrlTree),Wt={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Os(L.source)};this.scheduleNavigation($n,"imperative",null,Wt,{resolve:L.resolve,reject:L.reject,promise:L.promise})},0):L.resolve(!1)}else{this.restoreHistory(L,!0);const me=new ar(L.id,this.serializeUrl(L.extractedUrl),J);M.next(me);try{L.resolve(this.errorHandler(J))}catch(bt){L.reject(bt)}}return Ee.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const M="popstate"===w.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{var L;const Q={replaceUrl:!0},ee=(null===(L=w.state)||void 0===L?void 0:L.navigationId)?w.state:null;if(ee){const me=Object.assign({},ee);delete me.navigationId,delete me.\u0275routerPageId,0!==Object.keys(me).length&&(Q.state=me)}const J=this.parseUrl(w.url);this.scheduleNavigation(J,M,ee,Q)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){Fr(w),this.config=w.map(F),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,M={}){const{relativeTo:L,queryParams:Q,fragment:ee,queryParamsHandling:J,preserveFragment:me}=M,bt=L||this.routerState.root,$n=me?this.currentUrlTree.fragment:ee;let Wt=null;switch(J){case"merge":Wt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Q);break;case"preserve":Wt=this.currentUrlTree.queryParams;break;default:Wt=Q||null}return null!==Wt&&(Wt=this.removeEmptyProps(Wt)),function xe(T,D,w,M,L){if(0===w.length)return at(D.root,D.root,D.root,M,L);const Q=function er(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new zt(!0,0,T);let D=0,w=!1;const M=T.reduce((L,Q,ee)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const J={};return Ze(Q.outlets,(me,bt)=>{J[bt]="string"==typeof me?me.split("/"):me}),[...L,{outlets:J}]}if(Q.segmentPath)return[...L,Q.segmentPath]}return"string"!=typeof Q?[...L,Q]:0===ee?(Q.split("/").forEach((J,me)=>{0==me&&"."===J||(0==me&&""===J?w=!0:".."===J?D++:""!=J&&L.push(J))}),L):[...L,Q]},[]);return new zt(w,D,M)}(w);if(Q.toRoot())return at(D.root,D.root,new Xe([],{}),M,L);const ee=function qn(T,D,w){if(T.isAbsolute)return new Sr(D.root,!0,0);if(-1===w.snapshot._lastPathIndex){const Q=w.snapshot._urlSegment;return new Sr(Q,Q===D.root,0)}const M=Ce(T.commands[0])?0:1;return function Qr(T,D,w){let M=T,L=D,Q=w;for(;Q>L;){if(Q-=L,M=M.parent,!M)throw new Error("Invalid number of '../'");L=M.segments.length}return new Sr(M,!1,L-Q)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+M,T.numberOfDoubleDots)}(Q,D,T),J=ee.processChildren?Ei(ee.segmentGroup,ee.index,Q.commands):vs(ee.segmentGroup,ee.index,Q.commands);return at(D.root,ee.segmentGroup,J,M,L)}(bt,this.currentUrlTree,w,Wt,null!=$n?$n:null)}navigateByUrl(w,M={skipLocationChange:!1}){const L=jr(w)?w:this.parseUrl(w),Q=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(Q,"imperative",null,M)}navigate(w,M={skipLocationChange:!1}){return function So(T){for(let D=0;D<T.length;D++){const w=T[D];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${D}`)}}(w),this.navigateByUrl(this.createUrlTree(w,M),M)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let M;try{M=this.urlSerializer.parse(w)}catch(L){M=this.malformedUriErrorHandler(L,this.urlSerializer,w)}return M}isActive(w,M){let L;if(L=!0===M?Object.assign({},xs):!1===M?Object.assign({},Xr):M,jr(w))return ye(this.currentUrlTree,w,L);const Q=this.parseUrl(w);return ye(this.currentUrlTree,Q,L)}removeEmptyProps(w){return Object.keys(w).reduce((M,L)=>{const Q=w[L];return null!=Q&&(M[L]=Q),M},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new or(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,M,L,Q,ee){var J,me;if(this.disposed)return Promise.resolve(!1);let bt,$n,Wt;ee?(bt=ee.resolve,$n=ee.reject,Wt=ee.promise):Wt=new Promise((Ps,ps)=>{bt=Ps,$n=ps});const sr=++this.navigationId;let Jn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(L=this.location.getState()),Jn=L&&L.\u0275routerPageId?L.\u0275routerPageId:Q.replaceUrl||Q.skipLocationChange?null!==(J=this.browserPageId)&&void 0!==J?J:0:(null!==(me=this.browserPageId)&&void 0!==me?me:0)+1):Jn=0,this.setTransition({id:sr,targetPageId:Jn,source:M,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:Q,resolve:bt,reject:$n,promise:Wt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wt.catch(Ps=>Promise.reject(Ps))}setBrowserUrl(w,M){const L=this.urlSerializer.serialize(w),Q=Object.assign(Object.assign({},M.extras.state),this.generateNgRouterState(M.id,M.targetPageId));this.location.isCurrentPathEqualTo(L)||M.extras.replaceUrl?this.location.replaceState(L,"",Q):this.location.go(L,"",Q)}restoreHistory(w,M=!1){var L,Q;if("computed"===this.canceledNavigationResolution){const ee=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(L=this.currentNavigation)||void 0===L?void 0:L.finalUrl)||0===ee?this.currentUrlTree===(null===(Q=this.currentNavigation)||void 0===Q?void 0:Q.finalUrl)&&0===ee&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ee)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,M){const L=new Er(w.id,this.serializeUrl(w.extractedUrl),M);this.triggerEvent(L),w.resolve(!1)}generateNgRouterState(w,M){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:M}:{navigationId:w}}}return T.\u0275fac=function(w){m.$Z()},T.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac}),T})();function Os(T){return"imperative"!==T}let zs=(()=>{class T{constructor(w,M,L,Q,ee){this.router=w,this.route=M,this.tabIndexAttribute=L,this.renderer=Q,this.el=ee,this.commands=null,this.onChanges=new Oe.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const M=this.renderer,L=this.el.nativeElement;null!==w?M.setAttribute(L,"tabindex",w):M.removeAttribute(L,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const w={skipLocationChange:Mo(this.skipLocationChange),replaceUrl:Mo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mo(this.preserveFragment)})}}return T.\u0275fac=function(w){return new(w||T)(m.Y36(di),m.Y36(Oi),m.$8M("tabindex"),m.Y36(m.Qsj),m.Y36(m.SBq))},T.\u0275dir=m.lG2({type:T,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,M){1&w&&m.NdJ("click",function(){return M.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[m.TTD]}),T})(),so=(()=>{class T{constructor(w,M,L){this.router=w,this.route=M,this.locationStrategy=L,this.commands=null,this.href=null,this.onChanges=new Oe.x,this.subscription=w.events.subscribe(Q=>{Q instanceof or&&this.updateTargetUrlAndHref()})}set routerLink(w){this.commands=null!=w?Array.isArray(w)?w:[w]:null}ngOnChanges(w){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(w,M,L,Q,ee){if(0!==w||M||L||Q||ee||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const J={skipLocationChange:Mo(this.skipLocationChange),replaceUrl:Mo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,J),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mo(this.preserveFragment)})}}return T.\u0275fac=function(w){return new(w||T)(m.Y36(di),m.Y36(Oi),m.Y36(zn.S$))},T.\u0275dir=m.lG2({type:T,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(w,M){1&w&&m.NdJ("click",function(Q){return M.onClick(Q.button,Q.ctrlKey,Q.shiftKey,Q.altKey,Q.metaKey)}),2&w&&m.uIk("target",M.target)("href",M.href,m.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[m.TTD]}),T})();function Mo(T){return""===T||!!T}let hs=(()=>{class T{constructor(w,M,L,Q,ee,J){this.router=w,this.element=M,this.renderer=L,this.cdr=Q,this.link=ee,this.linkWithHref=J,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new m.vpe,this.routerEventsSubscription=w.events.subscribe(me=>{me instanceof or&&this.update()})}ngAfterContentInit(){(0,Le.of)(this.links.changes,this.linksWithHrefs.changes,(0,Le.of)(null)).pipe((0,Xn.J)()).subscribe(w=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var w;null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe();const M=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=(0,fe.D)(M).pipe((0,Xn.J)()).subscribe(L=>{this.isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(w){const M=Array.isArray(w)?w:w.split(" ");this.classes=M.filter(L=>!!L)}ngOnChanges(w){this.update()}ngOnDestroy(){var w;this.routerEventsSubscription.unsubscribe(),null===(w=this.linkInputChangesSubscription)||void 0===w||w.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const w=this.hasActiveLinks();this.isActive!==w&&(this.isActive=w,this.cdr.markForCheck(),this.classes.forEach(M=>{w?this.renderer.addClass(this.element.nativeElement,M):this.renderer.removeClass(this.element.nativeElement,M)}),this.isActiveChange.emit(w))})}isLinkActive(w){const M=function ea(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>!!L.urlTree&&w.isActive(L.urlTree,M)}hasActiveLinks(){const w=this.isLinkActive(this.router);return this.link&&w(this.link)||this.linkWithHref&&w(this.linkWithHref)||this.links.some(w)||this.linksWithHrefs.some(w)}}return T.\u0275fac=function(w){return new(w||T)(m.Y36(di),m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(m.sBO),m.Y36(zs,8),m.Y36(so,8))},T.\u0275dir=m.lG2({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(w,M,L){if(1&w&&(m.Suo(L,zs,5),m.Suo(L,so,5)),2&w){let Q;m.iGM(Q=m.CRH())&&(M.links=Q),m.iGM(Q=m.CRH())&&(M.linksWithHrefs=Q)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[m.TTD]}),T})();class qa{}class ca{preload(D,w){return w().pipe((0,yn.K)(()=>(0,Le.of)(null)))}}class da{preload(D,w){return(0,Le.of)(null)}}let Fi=(()=>{class T{constructor(w,M,L,Q){this.router=w,this.injector=L,this.preloadingStrategy=Q,this.loader=new gu(L,M,me=>w.triggerEvent(new nn(me)),me=>w.triggerEvent(new lr(me)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,$e.h)(w=>w instanceof or),(0,kn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(m.h0i);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,M){const L=[];for(const Q of M)if(Q.loadChildren&&!Q.canLoad&&Q._loadedConfig){const ee=Q._loadedConfig;L.push(this.processRoutes(ee.module,ee.routes))}else Q.loadChildren&&!Q.canLoad?L.push(this.preloadConfig(w,Q)):Q.children&&L.push(this.processRoutes(w,Q.children));return(0,fe.D)(L).pipe((0,Xn.J)(),(0,Ut.U)(Q=>{}))}preloadConfig(w,M){return this.preloadingStrategy.preload(M,()=>(M._loadedConfig?(0,Le.of)(M._loadedConfig):this.loader.load(w.injector,M)).pipe((0,Bt.z)(Q=>(M._loadedConfig=Q,this.processRoutes(Q.module,Q.routes)))))}}return T.\u0275fac=function(w){return new(w||T)(m.LFG(di),m.LFG(m.Sil),m.LFG(m.zs3),m.LFG(qa))},T.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac}),T})(),hi=(()=>{class T{constructor(w,M,L={}){this.router=w,this.viewportScroller=M,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Wn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof or&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof ct&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,M){this.router.triggerEvent(new ct(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return T.\u0275fac=function(w){m.$Z()},T.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac}),T})();const oo=new m.OlP("ROUTER_CONFIGURATION"),fs=new m.OlP("ROUTER_FORROOT_GUARD"),Ta=[zn.Ye,{provide:cr,useClass:Ir},{provide:di,useFactory:function Aa(T,D,w,M,L,Q,ee={},J,me){const bt=new di(null,T,D,w,M,L,wn(Q));return J&&(bt.urlHandlingStrategy=J),me&&(bt.routeReuseStrategy=me),function Ya(T,D){T.errorHandler&&(D.errorHandler=T.errorHandler),T.malformedUriErrorHandler&&(D.malformedUriErrorHandler=T.malformedUriErrorHandler),T.onSameUrlNavigation&&(D.onSameUrlNavigation=T.onSameUrlNavigation),T.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=T.paramsInheritanceStrategy),T.relativeLinkResolution&&(D.relativeLinkResolution=T.relativeLinkResolution),T.urlUpdateStrategy&&(D.urlUpdateStrategy=T.urlUpdateStrategy),T.canceledNavigationResolution&&(D.canceledNavigationResolution=T.canceledNavigationResolution)}(ee,bt),ee.enableTracing&&bt.events.subscribe($n=>{var Wt,sr;null===(Wt=console.group)||void 0===Wt||Wt.call(console,`Router Event: ${$n.constructor.name}`),console.log($n.toString()),console.log($n),null===(sr=console.groupEnd)||void 0===sr||sr.call(console)}),bt},deps:[cr,Zi,zn.Ye,m.zs3,m.Sil,Ca,oo,[class la{},new m.FiY],[class ro{},new m.FiY]]},Zi,{provide:Oi,useFactory:function Qa(T){return T.routerState.root},deps:[di]},Fi,da,ca,{provide:oo,useValue:{enableTracing:!1}}];function Di(){return new m.PXZ("Router",di)}let ao=(()=>{class T{constructor(w,M){}static forRoot(w,M){return{ngModule:T,providers:[Ta,fo(w),{provide:fs,useFactory:Oo,deps:[[di,new m.FiY,new m.tp0]]},{provide:oo,useValue:M||{}},{provide:zn.S$,useFactory:xo,deps:[zn.lw,[new m.tBr(zn.mr),new m.FiY],oo]},{provide:hi,useFactory:Za,deps:[di,zn.EM,oo]},{provide:qa,useExisting:M&&M.preloadingStrategy?M.preloadingStrategy:da},{provide:m.PXZ,multi:!0,useFactory:Di},[ei,{provide:m.ip1,multi:!0,useFactory:po,deps:[ei]},{provide:Rs,useFactory:Qi,deps:[ei]},{provide:m.tb,multi:!0,useExisting:Rs}]]}}static forChild(w){return{ngModule:T,providers:[fo(w)]}}}return T.\u0275fac=function(w){return new(w||T)(m.LFG(fs,8),m.LFG(di,8))},T.\u0275mod=m.oAB({type:T}),T.\u0275inj=m.cJS({}),T})();function Za(T,D,w){return w.scrollOffset&&D.setOffset(w.scrollOffset),new hi(T,D,w)}function xo(T,D,w={}){return w.useHash?new zn.Do(T,D):new zn.b0(T,D)}function Oo(T){return"guarded"}function fo(T){return[{provide:m.deG,multi:!0,useValue:T},{provide:Ca,multi:!0,useValue:T}]}let ei=(()=>{class T{constructor(w){this.injector=w,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Oe.x}appInitializer(){return this.injector.get(zn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let M=null;const L=new Promise(J=>M=J),Q=this.injector.get(di),ee=this.injector.get(oo);return"disabled"===ee.initialNavigation?(Q.setUpLocationChangeListener(),M(!0)):"enabled"===ee.initialNavigation||"enabledBlocking"===ee.initialNavigation?(Q.hooks.afterPreactivation=()=>this.initNavigation?(0,Le.of)(null):(this.initNavigation=!0,M(!0),this.resultOfPreactivationDone),Q.initialNavigation()):M(!0),L})}bootstrapListener(w){const M=this.injector.get(oo),L=this.injector.get(Fi),Q=this.injector.get(hi),ee=this.injector.get(di),J=this.injector.get(m.z2F);w===J.components[0]&&(("enabledNonBlocking"===M.initialNavigation||void 0===M.initialNavigation)&&ee.initialNavigation(),L.setUpPreloading(),Q.init(),ee.resetRootComponentType(J.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return T.\u0275fac=function(w){return new(w||T)(m.LFG(m.zs3))},T.\u0275prov=m.Yz7({token:T,factory:T.\u0275fac}),T})();function po(T){return T.appInitializer.bind(T)}function Qi(T){return T.bootstrapListener.bind(T)}const Rs=new m.OlP("Router Initializer")},3942:(Rt,Ge,B)=>{B.d(Ge,{Z:()=>ot});var m=B(2090),E=B(4859),K=B(9681),fe=B(1877);class ge{constructor(We,nt){this._delegate=We,this.firebase=nt,(0,K._addComponent)(We,new E.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(We,nt=K._DEFAULT_ENTRY_NAME){var Ot;this._delegate.checkDestroyed();const Dt=this._delegate.container.getProvider(We);return!Dt.isInitialized()&&"EXPLICIT"===(null===(Ot=Dt.getComponent())||void 0===Ot?void 0:Ot.instantiationMode)&&Dt.initialize(),Dt.getImmediate({identifier:nt})}_removeServiceInstance(We,nt=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(nt)}_addComponent(We){(0,K._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,K._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function Me(){const dt=function Se(dt){const We={},nt={__esModule:!0,initializeApp:function it(Ne,Ee={}){const Oe=K.initializeApp(Ne,Ee);if((0,m.r3)(We,Oe.name))return We[Oe.name];const $e=new dt(Oe,nt);return We[Oe.name]=$e,$e},app:Dt,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function Qe(Ne){const Ee=Ne.name,Oe=Ee.replace("-compat","");if(K._registerComponent(Ne)&&"PUBLIC"===Ne.type){const $e=(pe=Dt())=>{if("function"!=typeof pe[Oe])throw Te.create("invalid-app-argument",{appName:Ee});return pe[Oe]()};void 0!==Ne.serviceProps&&(0,m.ZB)($e,Ne.serviceProps),nt[Oe]=$e,dt.prototype[Oe]=function(...pe){return this._getService.bind(this,Ee).apply(this,Ne.multipleInstances?pe:[])}}return"PUBLIC"===Ne.type?nt[Oe]:null},removeApp:function Ot(Ne){delete We[Ne]},useAsService:function mt(Ne,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:K}};function Dt(Ne){if(!(0,m.r3)(We,Ne=Ne||K._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:Ne});return We[Ne]}return nt.default=nt,Object.defineProperty(nt,"apps",{get:function Le(){return Object.keys(We).map(Ne=>We[Ne])}}),Dt.App=dt,nt}(ge);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function We(nt){(0,m.ZB)(dt,nt)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),dt}(),he=new fe.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ot=ce;!function rt(dt){(0,K.registerVersion)("@firebase/app-compat","0.1.22",dt)}()},9681:(Rt,Ge,B)=>{B.r(Ge),B.d(Ge,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>or,_DEFAULT_ENTRY_NAME:()=>Gn,_addComponent:()=>yn,_addOrOverwriteComponent:()=>kn,_apps:()=>Lt,_clearComponents:()=>Xn,_components:()=>Ln,_getProvider:()=>Bt,_registerComponent:()=>Zt,_removeServiceInstance:()=>Yt,deleteApp:()=>wr,getApp:()=>ar,getApps:()=>_n,initializeApp:()=>Er,onLog:()=>In,registerVersion:()=>br,setLogLevel:()=>nn});var m=B(5861),E=B(4859),K=B(1877),fe=B(2090);class ge{constructor(Ze){this.container=Ze}getPlatformInfoString(){return this.container.getProviders().map(Tt=>{if(function ve(xt){const Ze=xt.getComponent();return"VERSION"===(null==Ze?void 0:Ze.type)}(Tt)){const Gt=Tt.getImmediate();return`${Gt.library}/${Gt.version}`}return null}).filter(Tt=>Tt).join(" ")}}const Te="@firebase/app",Me=new K.Yd("@firebase/app"),Gn="[DEFAULT]",Pt={[Te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lt=new Map,Ln=new Map;function yn(xt,Ze){try{xt.container.addComponent(Ze)}catch(Tt){Me.debug(`Component ${Ze.name} failed to register with FirebaseApp ${xt.name}`,Tt)}}function kn(xt,Ze){xt.container.addOrOverwriteComponent(Ze)}function Zt(xt){const Ze=xt.name;if(Ln.has(Ze))return Me.debug(`There were multiple attempts to register component ${Ze}.`),!1;Ln.set(Ze,xt);for(const Tt of Lt.values())yn(Tt,xt);return!0}function Bt(xt,Ze){const Tt=xt.container.getProvider("heartbeat").getImmediate({optional:!0});return Tt&&Tt.triggerHeartbeat(),xt.container.getProvider(Ze)}function Yt(xt,Ze,Tt=Gn){Bt(xt,Ze).clearInstance(Tt)}function Xn(){Ln.clear()}const Fn=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Wn{constructor(Ze,Tt,Gt){this._isDeleted=!1,this._options=Object.assign({},Ze),this._config=Object.assign({},Tt),this._name=Tt.name,this._automaticDataCollectionEnabled=Tt.automaticDataCollectionEnabled,this._container=Gt,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ze){this._isDeleted=Ze}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}const or="9.6.11";function Er(xt,Ze={}){"object"!=typeof Ze&&(Ze={name:Ze});const Tt=Object.assign({name:Gn,automaticDataCollectionEnabled:!1},Ze),Gt=Tt.name;if("string"!=typeof Gt||!Gt)throw Fn.create("bad-app-name",{appName:String(Gt)});const dn=Lt.get(Gt);if(dn){if((0,fe.vZ)(xt,dn.options)&&(0,fe.vZ)(Tt,dn.config))return dn;throw Fn.create("duplicate-app",{appName:Gt})}const vn=new E.H0(Gt);for(const le of Ln.values())vn.addComponent(le);const ye=new Wn(xt,Tt,vn);return Lt.set(Gt,ye),ye}function ar(xt=Gn){const Ze=Lt.get(xt);if(!Ze)throw Fn.create("no-app",{appName:xt});return Ze}function _n(){return Array.from(Lt.values())}function wr(xt){return At.apply(this,arguments)}function At(){return(At=(0,m.Z)(function*(xt){const Ze=xt.name;Lt.has(Ze)&&(Lt.delete(Ze),yield Promise.all(xt.container.getProviders().map(Tt=>Tt.delete())),xt.isDeleted=!0)})).apply(this,arguments)}function br(xt,Ze,Tt){var Gt;let dn=null!==(Gt=Pt[xt])&&void 0!==Gt?Gt:xt;Tt&&(dn+=`-${Tt}`);const vn=dn.match(/\s|\//),ye=Ze.match(/\s|\//);if(vn||ye){const le=[`Unable to register library "${dn}" with version "${Ze}":`];return vn&&le.push(`library name "${dn}" contains illegal characters (whitespace or "/")`),vn&&ye&&le.push("and"),ye&&le.push(`version name "${Ze}" contains illegal characters (whitespace or "/")`),void Me.warn(le.join(" "))}Zt(new E.wA(`${dn}-version`,()=>({library:dn,version:Ze}),"VERSION"))}function In(xt,Ze){if(null!==xt&&"function"!=typeof xt)throw Fn.create("invalid-log-argument");(0,K.Am)(xt,Ze)}function nn(xt){(0,K.Ub)(xt)}const tt="firebase-heartbeat-store";let we=null;function De(){return we||(we=(0,fe.X3)("firebase-heartbeat-database",1,(xt,Ze)=>{0===Ze&&xt.createObjectStore(tt)}).catch(xt=>{throw Fn.create("storage-open",{originalErrorMessage:xt.message})})),we}function ke(){return(ke=(0,m.Z)(function*(xt){try{return(yield De()).transaction(tt).objectStore(tt).get(Vn(xt))}catch(Ze){throw Fn.create("storage-get",{originalErrorMessage:Ze.message})}})).apply(this,arguments)}function ft(xt,Ze){return ht.apply(this,arguments)}function ht(){return(ht=(0,m.Z)(function*(xt,Ze){try{const Gt=(yield De()).transaction(tt,"readwrite");return yield Gt.objectStore(tt).put(Ze,Vn(xt)),Gt.complete}catch(Tt){throw Fn.create("storage-set",{originalErrorMessage:Tt.message})}})).apply(this,arguments)}function Vn(xt){return`${xt.name}!${xt.options.appId}`}class Ur{constructor(Ze){this.container=Ze,this._heartbeatsCache=null;const Tt=this.container.getProvider("app").getImmediate();this._storage=new Ct(Tt),this._heartbeatsCachePromise=this._storage.read().then(Gt=>(this._heartbeatsCache=Gt,Gt))}triggerHeartbeat(){var Ze=this;return(0,m.Z)(function*(){const Gt=Ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dn=ir();if(null===Ze._heartbeatsCache&&(Ze._heartbeatsCache=yield Ze._heartbeatsCachePromise),Ze._heartbeatsCache.lastSentHeartbeatDate!==dn&&!Ze._heartbeatsCache.heartbeats.some(vn=>vn.date===dn))return Ze._heartbeatsCache.heartbeats.push({date:dn,agent:Gt}),Ze._heartbeatsCache.heartbeats=Ze._heartbeatsCache.heartbeats.filter(vn=>{const ye=new Date(vn.date).valueOf();return Date.now()-ye<=2592e6}),Ze._storage.overwrite(Ze._heartbeatsCache)})()}getHeartbeatsHeader(){var Ze=this;return(0,m.Z)(function*(){if(null===Ze._heartbeatsCache&&(yield Ze._heartbeatsCachePromise),null===Ze._heartbeatsCache||0===Ze._heartbeatsCache.heartbeats.length)return"";const Tt=ir(),{heartbeatsToSend:Gt,unsentEntries:dn}=function cn(xt,Ze=1024){const Tt=[];let Gt=xt.slice();for(const dn of xt){const vn=Tt.find(ye=>ye.agent===dn.agent);if(vn){if(vn.dates.push(dn.date),wn(Tt)>Ze){vn.dates.pop();break}}else if(Tt.push({agent:dn.agent,dates:[dn.date]}),wn(Tt)>Ze){Tt.pop();break}Gt=Gt.slice(1)}return{heartbeatsToSend:Tt,unsentEntries:Gt}}(Ze._heartbeatsCache.heartbeats),vn=(0,fe.L)(JSON.stringify({version:2,heartbeats:Gt}));return Ze._heartbeatsCache.lastSentHeartbeatDate=Tt,dn.length>0?(Ze._heartbeatsCache.heartbeats=dn,yield Ze._storage.overwrite(Ze._heartbeatsCache)):(Ze._heartbeatsCache.heartbeats=[],Ze._storage.overwrite(Ze._heartbeatsCache)),vn})()}}function ir(){return(new Date).toISOString().substring(0,10)}class Ct{constructor(Ze){this.app=Ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ze=this;return(0,m.Z)(function*(){return(yield Ze._canUseIndexedDBPromise)&&(yield function ct(xt){return ke.apply(this,arguments)}(Ze.app))||{heartbeats:[]}})()}overwrite(Ze){var Tt=this;return(0,m.Z)(function*(){var Gt;if(yield Tt._canUseIndexedDBPromise){const vn=yield Tt.read();return ft(Tt.app,{lastSentHeartbeatDate:null!==(Gt=Ze.lastSentHeartbeatDate)&&void 0!==Gt?Gt:vn.lastSentHeartbeatDate,heartbeats:Ze.heartbeats})}})()}add(Ze){var Tt=this;return(0,m.Z)(function*(){var Gt;if(yield Tt._canUseIndexedDBPromise){const vn=yield Tt.read();return ft(Tt.app,{lastSentHeartbeatDate:null!==(Gt=Ze.lastSentHeartbeatDate)&&void 0!==Gt?Gt:vn.lastSentHeartbeatDate,heartbeats:[...vn.heartbeats,...Ze.heartbeats]})}})()}}function wn(xt){return(0,fe.L)(JSON.stringify({version:2,heartbeats:xt})).length}!function fn(xt){Zt(new E.wA("platform-logger",Ze=>new ge(Ze),"PRIVATE")),Zt(new E.wA("heartbeat",Ze=>new Ur(Ze),"PRIVATE")),br(Te,"0.7.21",xt),br(Te,"0.7.21","esm2017"),br("fire-js","")}("")},4859:(Rt,Ge,B)=>{B.d(Ge,{H0:()=>Se,wA:()=>K});var m=B(5861),E=B(2090);class K{constructor(ce,he,Pe){this.name=ce,this.instanceFactory=he,this.type=Pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const fe="[DEFAULT]";class ge{constructor(ce,he){this.name=ce,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const he=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(he)){const Pe=new E.BH;if(this.instancesDeferred.set(he,Pe),this.isInitialized(he)||this.shouldAutoInitialize())try{const It=this.getOrInitializeService({instanceIdentifier:he});It&&Pe.resolve(It)}catch(It){}}return this.instancesDeferred.get(he).promise}getImmediate(ce){var he;const Pe=this.normalizeInstanceIdentifier(null==ce?void 0:ce.identifier),It=null!==(he=null==ce?void 0:ce.optional)&&void 0!==he&&he;if(!this.isInitialized(Pe)&&!this.shouldAutoInitialize()){if(It)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Pe})}catch(rt){if(It)return null;throw rt}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function Te(Me){return"EAGER"===Me.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:fe})}catch(he){}for(const[he,Pe]of this.instancesDeferred.entries()){const It=this.normalizeInstanceIdentifier(he);try{const rt=this.getOrInitializeService({instanceIdentifier:It});Pe.resolve(rt)}catch(rt){}}}}clearInstance(ce=fe){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,m.Z)(function*(){const he=Array.from(ce.instances.values());yield Promise.all([...he.filter(Pe=>"INTERNAL"in Pe).map(Pe=>Pe.INTERNAL.delete()),...he.filter(Pe=>"_delete"in Pe).map(Pe=>Pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=fe){return this.instances.has(ce)}getOptions(ce=fe){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:he={}}=ce,Pe=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(Pe))throw Error(`${this.name}(${Pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const It=this.getOrInitializeService({instanceIdentifier:Pe,options:he});for(const[rt,ot]of this.instancesDeferred.entries())Pe===this.normalizeInstanceIdentifier(rt)&&ot.resolve(It);return It}onInit(ce,he){var Pe;const It=this.normalizeInstanceIdentifier(he),rt=null!==(Pe=this.onInitCallbacks.get(It))&&void 0!==Pe?Pe:new Set;rt.add(ce),this.onInitCallbacks.set(It,rt);const ot=this.instances.get(It);return ot&&ce(ot,It),()=>{rt.delete(ce)}}invokeOnInitCallbacks(ce,he){const Pe=this.onInitCallbacks.get(he);if(Pe)for(const It of Pe)try{It(ce,he)}catch(rt){}}getOrInitializeService({instanceIdentifier:ce,options:he={}}){let Pe=this.instances.get(ce);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=ce,Me===fe?void 0:Me),options:he}),this.instances.set(ce,Pe),this.instancesOptions.set(ce,he),this.invokeOnInitCallbacks(Pe,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,Pe)}catch(It){}var Me;return Pe||null}normalizeInstanceIdentifier(ce=fe){return this.component?this.component.multipleInstances?ce:fe:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const he=this.getProvider(ce.name);if(he.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);he.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const he=new ge(ce,this);return this.providers.set(ce,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(Rt,Ge,B)=>{B.d(Ge,{Am:()=>Me,Ub:()=>Se,Yd:()=>Te,in:()=>E});const m=[];var E=(()=>{return(ce=E||(E={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",E;var ce})();const K={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},fe=E.INFO,ge={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},ve=(ce,he,...Pe)=>{if(he<ce.logLevel)return;const It=(new Date).toISOString(),rt=ge[he];if(!rt)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[rt](`[${It}]  ${ce.name}:`,...Pe)};class Te{constructor(he){this.name=he,this._logLevel=fe,this._logHandler=ve,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in E))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?K[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...he),this._logHandler(this,E.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...he),this._logHandler(this,E.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,E.INFO,...he),this._logHandler(this,E.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,E.WARN,...he),this._logHandler(this,E.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...he),this._logHandler(this,E.ERROR,...he)}}function Se(ce){m.forEach(he=>{he.setLogLevel(ce)})}function Me(ce,he){for(const Pe of m){let It=null;he&&he.level&&(It=K[he.level]),Pe.userLogHandler=null===ce?null:(rt,ot,...dt)=>{const We=dt.map(nt=>{if(null==nt)return null;if("string"==typeof nt)return nt;if("number"==typeof nt||"boolean"==typeof nt)return nt.toString();if(nt instanceof Error)return nt.message;try{return JSON.stringify(nt)}catch(Ot){return null}}).filter(nt=>nt).join(" ");ot>=(null!=It?It:rt.logLevel)&&ce({level:E[ot].toLowerCase(),message:We,args:dt,type:rt.name})}}}},5861:(Rt,Ge,B)=>{function m(K,fe,ge,ve,Te,Se,Me){try{var ce=K[Se](Me),he=ce.value}catch(Pe){return void ge(Pe)}ce.done?fe(he):Promise.resolve(he).then(ve,Te)}function E(K){return function(){var fe=this,ge=arguments;return new Promise(function(ve,Te){var Se=K.apply(fe,ge);function Me(he){m(Se,ve,Te,Me,ce,"next",he)}function ce(he){m(Se,ve,Te,Me,ce,"throw",he)}Me(void 0)})}}B.d(Ge,{Z:()=>E})}},Rt=>{Rt(Rt.s=5734)}]);